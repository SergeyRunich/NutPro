import{r as n,d as Q,aO as Y,aL as ee,q,h as L,i as G,l as D,ch as F,J as K,C as te,z as re,H as ae,aJ as oe,E as ne,aE as se}from"./index-c20b5e8e.js";var ce={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},ie=function(){var e=n.useRef([]),a=n.useRef(null);return n.useEffect(function(){var t=Date.now(),o=!1;e.current.forEach(function(s){if(s){o=!0;var c=s.style;c.transitionDuration=".3s, .3s, .3s, .06s",a.current&&t-a.current<100&&(c.transitionDuration="0s, 0s")}}),o&&(a.current=Date.now())}),e.current},J=0,le=Y();function ue(){var r;return le?(r=J,J+=1):r="TEST_OR_SSR",r}const de=function(r){var e=n.useState(),a=Q(e,2),t=a[0],o=a[1];return n.useEffect(function(){o("rc_progress_".concat(ue()))},[]),r||t};var ve=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function M(r){return+r.replace("%","")}function V(r){var e=r??[];return Array.isArray(e)?e:[e]}var w=100,H=function(e,a,t,o){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,c=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0,u=s>0?90+s/2:-90,f=Math.PI*2*e,v=f*((360-s)/360),y=a/100*360*((360-s)/360),m=s===0?0:{bottom:0,top:180,left:90,right:-90}[c],i=(100-t)/100*v;return l==="round"&&t!==100&&(i+=d/2,i>=v&&(i=v-.01)),{stroke:typeof o=="string"?o:void 0,strokeDasharray:"".concat(v,"px ").concat(f),strokeDashoffset:i,transform:"rotate(".concat(u+y+m,"deg)"),transformOrigin:"50% 50%",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},B=function(e){var a=e.id,t=e.prefixCls,o=e.strokeWidth,s=e.trailWidth,c=e.gapDegree,l=e.gapPosition,d=e.trailColor,u=e.strokeLinecap,f=e.style,v=e.className,y=e.strokeColor,m=e.percent,i=ee(e,ve),h=de(a),g="".concat(h,"-gradient"),k=w/2-o/2,S=H(k,0,100,d,c,l,u,o),E=V(m),P=V(y),O=P.find(function(C){return C&&q(C)==="object"}),p=ie(),j=function(){var b=0;return E.map(function(_,N){var A=P[N]||P[P.length-1],x=A&&q(A)==="object"?"url(#".concat(g,")"):void 0,$=H(k,b,_,A,c,l,u,o);return b+=_,n.createElement("circle",{key:N,className:"".concat(t,"-circle-path"),r:k,cx:w/2,cy:w/2,stroke:x,strokeLinecap:u,strokeWidth:o,opacity:_===0?0:1,style:$,ref:function(T){p[N]=T}})}).reverse()};return n.createElement("svg",L({className:G("".concat(t,"-circle"),v),viewBox:"0 0 ".concat(w," ").concat(w),style:f,id:a},i),O&&n.createElement("defs",null,n.createElement("linearGradient",{id:g,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(O).sort(function(C,b){return M(C)-M(b)}).map(function(C,b){return n.createElement("stop",{key:b,offset:C,stopColor:O[C]})}))),n.createElement("circle",{className:"".concat(t,"-circle-trail"),r:k,cx:w/2,cy:w/2,stroke:d,strokeLinecap:u,strokeWidth:s||o,style:S}),j())};B.defaultProps=ce;B.displayName="Circle";function W(r){return!r||r<0?0:r>100?100:r}function z(r){var e=r.success,a=r.successPercent,t=a;return e&&"progress"in e&&(t=e.progress),e&&"percent"in e&&(t=e.percent),t}function fe(r){var e=r.percent,a=r.success,t=r.successPercent,o=W(z({success:a,successPercent:t}));return[o,W(W(e)-o)]}function ge(r){var e=r.success,a=e===void 0?{}:e,t=r.strokeColor,o=a.strokeColor;return[o||F.green,t||null]}var me=function(e){var a=e.prefixCls,t=e.width,o=e.strokeWidth,s=e.trailColor,c=s===void 0?null:s,l=e.strokeLinecap,d=l===void 0?"round":l,u=e.gapPosition,f=e.gapDegree,v=e.type,y=e.children,m=e.success,i=t||120,h={width:i,height:i,fontSize:i*.15+6},g=o||6,k=u||v==="dashboard"&&"bottom"||void 0,S=function(){if(f||f===0)return f;if(v==="dashboard")return 75},E=Object.prototype.toString.call(e.strokeColor)==="[object Object]",P=ge({success:m,strokeColor:e.strokeColor}),O=G("".concat(a,"-inner"),D({},"".concat(a,"-circle-gradient"),E));return n.createElement("div",{className:O,style:h},n.createElement(B,{percent:fe(e),strokeWidth:g,trailWidth:g,strokeColor:P,strokeLinecap:d,trailColor:c,prefixCls:a,gapDegree:S(),gapPosition:k}),y)};const pe=me;var ye=function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(r);o<t.length;o++)e.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(r,t[o])&&(a[t[o]]=r[t[o]]);return a},he=function(e){var a=[];return Object.keys(e).forEach(function(t){var o=parseFloat(t.replace(/%/g,""));isNaN(o)||a.push({key:o,value:e[t]})}),a=a.sort(function(t,o){return t.key-o.key}),a.map(function(t){var o=t.key,s=t.value;return"".concat(s," ").concat(o,"%")}).join(", ")},ke=function(e,a){var t=e.from,o=t===void 0?F.blue:t,s=e.to,c=s===void 0?F.blue:s,l=e.direction,d=l===void 0?a==="rtl"?"to left":"to right":l,u=ye(e,["from","to","direction"]);if(Object.keys(u).length!==0){var f=he(u);return{backgroundImage:"linear-gradient(".concat(d,", ").concat(f,")")}}return{backgroundImage:"linear-gradient(".concat(d,", ").concat(o,", ").concat(c,")")}},Ce=function(e){var a=e.prefixCls,t=e.direction,o=e.percent,s=e.strokeWidth,c=e.size,l=e.strokeColor,d=e.strokeLinecap,u=d===void 0?"round":d,f=e.children,v=e.trailColor,y=v===void 0?null:v,m=e.success,i=l&&typeof l!="string"?ke(l,t):{background:l},h=u==="square"||u==="butt"?0:void 0,g={backgroundColor:y||void 0,borderRadius:h},k=L({width:"".concat(W(o),"%"),height:s||(c==="small"?6:8),borderRadius:h},i),S=z(e),E={width:"".concat(W(S),"%"),height:s||(c==="small"?6:8),borderRadius:h,backgroundColor:m==null?void 0:m.strokeColor},P=S!==void 0?n.createElement("div",{className:"".concat(a,"-success-bg"),style:E}):null;return n.createElement(n.Fragment,null,n.createElement("div",{className:"".concat(a,"-outer")},n.createElement("div",{className:"".concat(a,"-inner"),style:g},n.createElement("div",{className:"".concat(a,"-bg"),style:k}),P)),f)};const Pe=Ce;var be=function(e){for(var a=e.size,t=e.steps,o=e.percent,s=o===void 0?0:o,c=e.strokeWidth,l=c===void 0?8:c,d=e.strokeColor,u=e.trailColor,f=u===void 0?null:u,v=e.prefixCls,y=e.children,m=Math.round(t*(s/100)),i=a==="small"?2:14,h=new Array(t),g=0;g<t;g++){var k=Array.isArray(d)?d[g]:d;h[g]=n.createElement("div",{key:g,className:G("".concat(v,"-steps-item"),D({},"".concat(v,"-steps-item-active"),g<=m-1)),style:{backgroundColor:g<=m-1?k:f,width:i,height:l}})}return n.createElement("div",{className:"".concat(v,"-steps-outer")},h,y)};const xe=be;var Se=function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(r);o<t.length;o++)e.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(r,t[o])&&(a[t[o]]=r[t[o]]);return a};K("line","circle","dashboard");var Ee=K("normal","exception","active","success"),Oe=function(e){var a,t=e.prefixCls,o=e.className,s=e.steps,c=e.strokeColor,l=e.percent,d=l===void 0?0:l,u=e.size,f=u===void 0?"default":u,v=e.showInfo,y=v===void 0?!0:v,m=e.type,i=m===void 0?"line":m,h=Se(e,["prefixCls","className","steps","strokeColor","percent","size","showInfo","type"]);function g(){var x=z(e);return parseInt(x!==void 0?x.toString():d.toString(),10)}function k(){var x=e.status;return Ee.indexOf(x)<0&&g()>=100?"success":x||"normal"}function S(x,$){var R=e.format,T=z(e);if(!y)return null;var I,X=R||function(Z){return"".concat(Z,"%")},U=i==="line";return R||$!=="exception"&&$!=="success"?I=X(W(d),W(T)):$==="exception"?I=U?n.createElement(ae,null):n.createElement(oe,null):$==="success"&&(I=U?n.createElement(ne,null):n.createElement(se,null)),n.createElement("span",{className:"".concat(x,"-text"),title:typeof I=="string"?I:void 0},I)}var E=n.useContext(te),P=E.getPrefixCls,O=E.direction,p=P("progress",t),j=k(),C=S(p,j),b=Array.isArray(c)?c[0]:c,_=typeof c=="string"||Array.isArray(c)?c:void 0,N;i==="line"?N=s?n.createElement(xe,L({},e,{strokeColor:_,prefixCls:p,steps:s}),C):n.createElement(Pe,L({},e,{strokeColor:b,prefixCls:p,direction:O}),C):(i==="circle"||i==="dashboard")&&(N=n.createElement(pe,L({},e,{strokeColor:b,prefixCls:p,progressStatus:j}),C));var A=G(p,(a={},D(a,"".concat(p,"-").concat(i==="dashboard"&&"circle"||s&&"steps"||i),!0),D(a,"".concat(p,"-status-").concat(j),!0),D(a,"".concat(p,"-show-info"),y),D(a,"".concat(p,"-").concat(f),f),D(a,"".concat(p,"-rtl"),O==="rtl"),a),o);return n.createElement("div",L({},re(h,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"]),{className:A}),N)};const we=Oe;export{we as P};
