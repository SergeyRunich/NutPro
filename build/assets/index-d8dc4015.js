import{a as U,j as e,c as d,aa as y,bk as R,a1 as oe,r as p,bl as v,a4 as we,B as J,a3 as E,bp as X,u as Ie,a8 as Pe,bg as be,a5 as re,a6 as Me,b4 as S,bq as Se,ci as Ae,cj as ee,ck as Ye,cl as Be,cm as Te,cn as Ne,co as Ke,cp as Fe}from"./index-c20b5e8e.js";import"./PickerPanel-72c5d64a.js";/* empty css              */import{T as Le}from"./index-83b0f9b6.js";import{D as Ve}from"./index-2f7554ca.js";import{T as F}from"./Table-fe15f1b3.js";import"./Pagination-e2a53e90.js";import{S as a}from"./index-297358d3.js";import{T as D}from"./index-8e340a60.js";import{R as C,C as h}from"./row-58ed805b.js";import{I as V}from"./index-86d1917a.js";import{p as Re,g as Oe,a as $e}from"./deliveryTools-db414b57.js";import{D as P}from"./index-98f1088d.js";import{g as Ee}from"./kitchen-60ac824b.js";import"./styleChecker-a7b568e2.js";import"./padStart-17be0050.js";const je=({data:i,details:s,currency:o})=>{var m;const{formatMessage:l}=U(),t={week:l({id:"SalesData.1week"}),twoWeek:l({id:"SalesData.2weeks"}),month:l({id:"SalesData.1month"}),twoMonth:l({id:"SalesData.2months"}),threeMonth:l({id:"SalesData.3months"}),total:l({id:"SalesData.MealsPerDay"})},n=[{title:l({id:"SalesData.Product"}),dataIndex:"title",key:"title",render:(g,x)=>e("span",{style:t[g]==="meals per day"?{fontWeight:"bold"}:{},children:`${t[g]==="meals per day"?x.mealsPerDay:""} ${t[g]}`})},{title:l({id:"SalesData.New"}),dataIndex:"new",key:"new",render:g=>g},{title:l({id:"SalesData.Prolong"}),dataIndex:"prolong",key:"prolong",render:g=>e("span",{children:`${g}`})},{title:l({id:"SalesData.Renew"}),dataIndex:"renew",key:"renew",render:g=>e("span",{children:`${g}`}),sorter:(g,x)=>g.factMeals-x.factMeals},{title:l({id:"SalesData.Total"}),dataIndex:"total",key:"total",render:g=>e("span",{children:`${g}`})},{title:l({id:"SalesData.AveragePrice"}),dataIndex:"average",key:"average",render:g=>e("span",{children:g})},{title:l({id:"SalesData.TotalPrice"}),dataIndex:"totalPrice",key:"totalPrice",render:g=>g?e(D,{color:"green",children:g},"33434de3fe"):e("span",{children:g}),sorter:(g,x)=>g.totalPrice-x.totalPrice}];return d("div",{children:[s.total&&e("div",{className:"row",children:e("div",{className:"col-lg-12",children:e("div",{className:"card card--fullHeight",children:e("div",{className:"card-body",children:d("div",{style:{width:"100%",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[e("div",{children:e(a,{style:{textAlign:"center"},title:l({id:"SalesData.OrdersTotal"}),value:s.total.count})}),e("div",{children:e(a,{style:{textAlign:"center"},title:l({id:"SalesData.New"}),value:s.total.new})}),e("div",{children:e(a,{style:{textAlign:"center"},title:l({id:"SalesData.Prolong"}),value:s.total.prolong})}),e("div",{children:e(a,{style:{textAlign:"center"},title:l({id:"SalesData.Renew"}),value:s.total.renew})}),e("div",{children:e(a,{style:{textAlign:"center"},title:l({id:"SalesData.TotalPrice"}),value:s.total.totalPrice,suffix:o})}),e("div",{children:e(a,{style:{textAlign:"center"},title:l({id:"SalesData.AveragePrice"}),value:(m=s==null?void 0:s.total)!=null&&m.count?Math.round(s.total.totalPrice/s.total.count):0,suffix:o})})]})})})})}),e(F,{className:"utils__scrollTable",tableLayout:"auto",scroll:{x:"100%"},columns:n,dataSource:i,pagination:{position:"bottom",total:i.length,showTotal:(g,x)=>`${x[0]}-${x[1]} of ${g} items`,showSizeChanger:!0,pageSizeOptions:["10","20","50","100","200"],hideOnSinglePage:i.length<10},rowKey:()=>Math.random().toString()})]})},We=({data:i,currency:s})=>{const{formatMessage:o}=U(),l=[{title:o({id:"window.date"}),dataIndex:"timestamp",key:"date",render:t=>e("span",{children:`${y.unix(t).format("DD.MM.YYYY")}`}),sorter:(t,n)=>t.timestamp-n.timestamp},{title:o({id:"KitchenCost.5ch"}),dataIndex:"fivePerDay",key:"5chodovych",render:t=>{const n=d("div",{children:[d("p",{children:["0-1400: ",t.kcal[0]]}),d("p",{children:["1400-1600: ",t.kcal[1]]}),d("p",{children:["1600-1800: ",t.kcal[2]]}),d("p",{children:["1800-2400: ",t.kcal[3]]}),d("p",{children:["2400-3000: ",t.kcal[4]]}),e("p",{children:`>3000: ${t.kcal[5]}`})]});return e(R,{content:n,title:"Details",children:e("a",{children:t.total})})},sorter:(t,n)=>t.fivePerDay.total-n.fivePerDay.total},{title:o({id:"KitchenCost.3ch"}),dataIndex:"threePerDay",key:"3chodovych",render:t=>{const n=d("div",{children:[d("p",{children:["0-1400: ",t.kcal[0]]}),d("p",{children:["1400-1600: ",t.kcal[1]]}),d("p",{children:["1600-1800: ",t.kcal[2]]}),d("p",{children:["1800-2400: ",t.kcal[3]]}),d("p",{children:["2400-3000: ",t.kcal[4]]}),e("p",{children:`>3000: ${t.kcal[5]}`})]});return e(R,{content:n,title:"Details",children:e("a",{children:t.total})})},sorter:(t,n)=>t.threePerDay.total-n.threePerDay.total},{title:o({id:"KitchenCost.HO"}),dataIndex:"twoPerDay",key:"HO",render:t=>e("span",{children:`${t}`}),sorter:(t,n)=>t.twoPerDay-n.twoPerDay},{title:o({id:"KitchenCost.Other"}),dataIndex:"otherPerDay",key:"otherPerDay",render:t=>e("span",{children:`${t}`}),sorter:(t,n)=>t.otherPerDay-n.otherPerDay},{title:o({id:"KitchenCost.ExtraObed/vecere"}),dataIndex:"extraMain",key:"extraMain",render:t=>e("span",{children:t}),sorter:(t,n)=>t.length-n.length},{title:o({id:"KitchenCost.ExtraSvacin"}),dataIndex:"extraOption",key:"extraOption",render:t=>e("span",{children:t}),sorter:(t,n)=>t.length-n.length},{title:o({id:"KitchenCost.VynechaniObed/vecere"}),dataIndex:"exceptMain",key:"exceptMain",render:t=>e("span",{children:t}),sorter:(t,n)=>t.length-n.length},{title:o({id:"KitchenCost.VynechaniSvacin"}),dataIndex:"exceptOption",key:"exceptOption",render:t=>e("span",{children:t}),sorter:(t,n)=>t.length-n.length},{title:o({id:"KitchenCost.CelkemKlientu"}),dataIndex:"totalCustomers",key:"totalCustomers",render:t=>e(D,{color:"geekblue",children:t},"dfdfddffdfe"),sorter:(t,n)=>t.pricePerDay-n.pricePerDay},{title:o({id:"KitchenCost.CelkemZaDen"}),dataIndex:"totalPrice",key:"totalPrice",render:t=>e(D,{color:"green",children:t},"33434de3fe"),sorter:(t,n)=>t.totalPrice-n.totalPrice}];return d("div",{children:[i.totalPrice&&e("div",{className:"row",children:e("div",{className:"col-lg-12",children:e("div",{className:"card card--fullHeight",children:e("div",{className:"card-body",children:d("div",{className:"d-flex justify-content-around align-items-center w-100",children:[e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenCost.Days"}),value:i.result.length})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenCost.TotalSets"}),value:i.totalCustomers})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenCost.TotalDishes"}),value:i.totalDishes})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenCost.AverageCustomersPerDay"}),value:(i.totalCustomers/i.result.length).toFixed(2)})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenCost.TotalPrice"}),value:i.totalPrice,suffix:s})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenCost.AveragePricePerDay"}),value:Math.round(i.totalPrice/i.result.length),suffix:s})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenCost.AverageCostForCustomerPerDay"}),value:(i.totalPrice/i.result.length/(i.totalCustomers/i.result.length)).toFixed(2),suffix:s})})]})})})})}),e(F,{tableLayout:"auto",scroll:{x:"100%"},columns:l,dataSource:i.result,pagination:{position:"bottom",total:i&&i.result?i.result.length:0,showTotal:(t,n)=>`${n[0]}-${n[1]} of ${t} items`,showSizeChanger:!0,pageSizeOptions:["10","20","50","100","200"],hideOnSinglePage:i&&i.result&&i.result.length<10},rowKey:()=>Math.random().toString()})]})};function He({data:i,show:s,currency:o}){const[l,t]=p.useState(!1),[n,m]=p.useState({id:"",date:"",customers:0,smallCouriers:0,bigCouriers:0,smallRate:0,bigRate:0,additionalCost:0}),g=(r,c)=>{n[c]=r,m(n)},x=async()=>{try{const r={customers:n.customers,smallCouriers:n.smallCouriers,bigCouriers:n.bigCouriers,smallRate:n.smallRate,bigRate:n.bigRate,additionalCost:n.additionalCost};if(isNaN(n.customers)||isNaN(n.smallCouriers)||isNaN(n.smallRate)||isNaN(n.bigCouriers)||isNaN(n.bigRate)||isNaN(n.additionalCost)){E.error({message:e(v,{id:"DeliveryLog.RequiredFieldsCannotBeEmpty"}),description:e(v,{id:"DeliveryLog.FillInAllRequiredFields!"}),placement:"topRight"});return}const c=await Re(n.id,r);c.ok?(await s(),t(!1),m({}),E.success({message:e(v,{id:"DeliveryLog.Saved"}),description:e(v,{id:"DeliveryLog.RecordsSuccessfullySaved"})})):c.status===409?E.error({message:e(v,{id:"DeliveryLog.UnprocessableEntity"}),description:e(v,{id:"DeliveryLog.IncorrectData"}),placement:"topLeft"}):E.error({message:e(v,{id:"window.error"}),description:c.statusText,placement:"topLeft"})}catch(r){console.log("Failed:",r)}},B=(r,c)=>{t(!0),m(c)},T=async()=>{await x()},N=()=>{t(!1),m({})},k={CZK:"cs-CZ",EUR:"de-DE"},A=[{title:e(v,{id:"window.date"}),dataIndex:"date",key:"date",render:r=>e("span",{children:`${y(r).format("DD.MM.YYYY")}`}),sorter:(r,c)=>r.date-c.date},{title:e(v,{id:"DeliveryLog.Customers"}),dataIndex:"customers",key:"customers",render:r=>r,sorter:(r,c)=>r.customers-c.customers},{title:e(v,{id:"DeliveryLog.SmallCouriers"}),dataIndex:"smallCouriers",key:"smallCouriers",render:r=>r,sorter:(r,c)=>r.smallCouriers-c.smallCouriers},{title:e(v,{id:"DeliveryLog.BigCouriers"}),dataIndex:"bigCouriers",key:"bigCouriers",render:r=>r,sorter:(r,c)=>r.bigCouriers-c.bigCouriers},{title:e(v,{id:"DeliveryLog.SmallRate"}),dataIndex:"smallRate",key:"smallRate",render:r=>{const c=r.toLocaleString(k[o],{style:"currency",currency:o,minimumFractionDigits:0});return e("span",{children:c})},sorter:(r,c)=>r.smallRate-c.smallRate},{title:e(v,{id:"DeliveryLog.BigRate"}),dataIndex:"bigRate",key:"bigRate",render:r=>{const c=r.toLocaleString(k[o],{style:"currency",currency:o,minimumFractionDigits:0});return e("span",{children:c})},sorter:(r,c)=>r.bigRate-c.bigRate},{title:e(v,{id:"DeliveryLog.ExtraPayment(a)"}),dataIndex:"extraPayment",key:"extraPayment",render:r=>{const c=r.toLocaleString(k[o],{style:"currency",currency:o,minimumFractionDigits:0});return e("span",{children:c})},sorter:(r,c)=>r.extraPayment-c.extraPayment},{title:e(v,{id:"DeliveryLog.AdditionalCost(m)"}),dataIndex:"additionalCost",key:"additionalCost",render:r=>{const c=r.toLocaleString(k[o],{style:"currency",currency:o,minimumFractionDigits:0});return e("span",{children:c})},sorter:(r,c)=>r.additionalCost-c.additionalCost},{title:e(v,{id:"DeliveryLog.TotalCost"}),dataIndex:"totalCost",key:"totalCost",render:r=>{const c=r.toLocaleString(k[o],{style:"currency",currency:o,minimumFractionDigits:0});return e("span",{children:c})},sorter:(r,c)=>r.totalCost-c.totalCost},{title:"---",dataIndex:"id",key:"actions",render:(r,c)=>e(J,{onClick:()=>B(r,c),children:"Edit"})}];return d("div",{children:[i.result&&e("div",{className:"row",children:e("div",{className:"col-lg-12",children:e("div",{className:"card card--fullHeight",children:e("div",{className:"card-body",children:d("div",{style:{width:"100%",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[e("div",{children:e(a,{style:{textAlign:"center"},title:e(v,{id:"DeliveryLog.Deliveries"}),value:i.result.length||0})}),e("div",{children:e(a,{style:{textAlign:"center"},title:e(v,{id:"DeliveryLog.Min.Price"}),value:i.summary.minPrice||0,suffix:o})}),e("div",{children:e(a,{style:{textAlign:"center"},title:e(v,{id:"DeliveryLog.Max.Price"}),value:i.summary.maxPrice||0,suffix:o})}),e("div",{children:e(a,{style:{textAlign:"center"},title:e(v,{id:"DeliveryLog.Avg.Price"}),value:i.summary.avgPrice||0,suffix:o})}),e("div",{children:e(a,{style:{textAlign:"center"},title:e(v,{id:"DeliveryLog.TotalPrice"}),value:i.summary.totalPrice||0,suffix:o})})]})})})})}),e(F,{tableLayout:"auto",scroll:{x:"100%"},columns:A,dataSource:i.result,pagination:{position:"bottom",total:i&&i.result?i.result.length:0,showTotal:(r,c)=>`${c[0]}-${c[1]} of ${r} items`,showSizeChanger:!0,pageSizeOptions:["10","20","50","100","200"],hideOnSinglePage:i&&i.result&&i.result.length<10},rowKey:()=>Math.random()}),d(we,{title:e(v,{id:"DeliveryLog.BasicModal"}),open:l,onOk:T,onCancel:N,children:[d(C,{span:16,children:[d(h,{span:12,children:[e("small",{children:e(v,{id:"DeliveryLog.Customers"})}),e(V,{min:0,value:n.customers,onChange:r=>g(r,"customers"),style:{width:"85%"}})]}),d(h,{span:12,children:[e("small",{children:e(v,{id:"DeliveryLog.AditionalCost"})}),e(V,{min:0,value:n.additionalCost,onChange:r=>g(r,"additionalCost"),style:{width:"85%"}})]})]}),d(C,{span:16,children:[d(h,{span:12,children:[e("small",{children:e(v,{id:"DeliveryLog.SmallCouriers"})}),e(V,{min:0,value:n.smallCouriers,onChange:r=>g(r,"smallCouriers"),style:{width:"85%"}})]}),d(h,{span:12,children:[e("small",{children:e(v,{id:"DeliveryLog.SmallRate"})}),e(V,{min:0,value:n.smallRate,onChange:r=>g(r,"smallRate"),style:{width:"85%"}})]}),d(h,{span:12,children:[e("small",{children:e(v,{id:"DeliveryLog.BigCouriers"})}),e(V,{min:0,value:n.bigCouriers,onChange:r=>g(r,"bigCouriers"),style:{width:"85%"}})]}),d(h,{span:12,children:[e("small",{children:e(v,{id:"DeliveryLog.BigRate"})}),e(V,{min:0,value:n.bigRate,onChange:r=>g(r,"bigRate"),style:{width:"85%"}})]})]})]})]})}const ze=oe(He);function _e({data:i,currency:s}){const o=[{title:e(v,{id:"window.date"}),dataIndex:"timestamp",key:"date",render:l=>e("span",{children:`${y.unix(l).format("DD.MM.YYYY")}`}),sorter:(l,t)=>l.timestamp-t.timestamp},{title:e(v,{id:"CustomersCostByDay.5ch"}),dataIndex:"fivePerDay",key:"5chodovych",render:l=>{const t=d("div",{children:[d("p",{children:["0-1400: ",l.kcal[0]]}),d("p",{children:["1400-1600: ",l.kcal[1]]}),d("p",{children:["1600-1800: ",l.kcal[2]]}),d("p",{children:["1800-2400: ",l.kcal[3]]}),d("p",{children:["2400-3000: ",l.kcal[4]]}),e("p",{children:`>3000: ${l.kcal[5]}`})]});return e(R,{content:t,title:"Details",children:e("a",{children:l.total})})},sorter:(l,t)=>l.fivePerDay.total-t.fivePerDay.total},{title:e(v,{id:"CustomersCostByDay.3ch"}),dataIndex:"threePerDay",key:"3chodovych",render:l=>{const t=d("div",{children:[d("p",{children:["0-1400: ",l.kcal[0]]}),d("p",{children:["1400-1600: ",l.kcal[1]]}),d("p",{children:["1600-1800: ",l.kcal[2]]}),d("p",{children:["1800-2400: ",l.kcal[3]]}),d("p",{children:["2400-3000: ",l.kcal[4]]}),e("p",{children:`>3000: ${l.kcal[5]}`})]});return e(R,{content:t,title:"Details",children:e("a",{children:l.total})})},sorter:(l,t)=>l.threePerDay.total-t.threePerDay.total},{title:e(v,{id:"CustomersCostByDay.HO"}),dataIndex:"twoPerDay",key:"HO",render:l=>e("span",{children:`${l}`}),sorter:(l,t)=>l.twoPerDay-t.twoPerDay},{title:e(v,{id:"CustomersCostByDay.Other"}),dataIndex:"otherPerDay",key:"otherPerDay",render:l=>e("span",{children:`${l}`}),sorter:(l,t)=>l.otherPerDay-t.otherPerDay},{title:e(v,{id:"CustomersCostByDay.ExtraObed/vecere"}),dataIndex:"extraMain",key:"extraMain",render:l=>e("span",{children:l}),sorter:(l,t)=>l.length-t.length},{title:e(v,{id:"CustomersCostByDay.ExtraSvacin"}),dataIndex:"extraOption",key:"extraOption",render:l=>e("span",{children:l}),sorter:(l,t)=>l.length-t.length},{title:e(v,{id:"CustomersCostByDay.VynechaniObed/vecere"}),dataIndex:"exeptMain",key:"exeptMain",render:l=>e("span",{children:l}),sorter:(l,t)=>l.length-t.length},{title:e(v,{id:"CustomersCostByDay.VynechaniSvacin"}),dataIndex:"exeptOption",key:"exeptOption",render:l=>e("span",{children:l}),sorter:(l,t)=>l.length-t.length},{title:e(v,{id:"CustomersCostByDay.CelkemKlientu"}),dataIndex:"totalCustomers",key:"totalCustomers",render:l=>e(D,{color:"geekblue",children:l},"dfdfddffdfe"),sorter:(l,t)=>l.pricePerDay-t.pricePerDay},{title:e(v,{id:"CustomersCostByDay.CelkemZaDen"}),dataIndex:"totalPrice",key:"totalPrice",render:l=>e(D,{color:"green",children:l},"33434de3fe"),sorter:(l,t)=>l.totalPrice-t.totalPrice}];return d("div",{children:[i.totalPrice&&e("div",{className:"row",children:e("div",{className:"col-lg-12",children:e("div",{className:"card card--fullHeight",children:e("div",{className:"card-body",children:d("div",{style:{width:"100%",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[e("div",{children:e(a,{style:{textAlign:"center"},title:e(v,{id:"CustomersCostByDay.Days"}),value:i.result.length})}),e("div",{children:e(a,{style:{textAlign:"center"},title:e(v,{id:"CustomersCostByDay.TotalSets"}),value:i.totalCustomers})}),e("div",{children:e(a,{style:{textAlign:"center"},title:e(v,{id:"CustomersCostByDay.AverageCustomersPerDay"}),value:(i.totalCustomers/i.result.length).toFixed(2)})}),e("div",{children:e(a,{style:{textAlign:"center"},title:e(v,{id:"CustomersCostByDay.TotalPrice"}),value:i.totalPrice,suffix:s})}),e("div",{children:e(a,{style:{textAlign:"center"},title:e(v,{id:"CustomersCostByDay.AveragePricePerDay"}),value:Math.round(i.totalPrice/i.result.length),suffix:s})}),e("div",{children:e(a,{style:{textAlign:"center"},title:e(v,{id:"CustomersCostByDay.AverageCostForCustomerPerDay"}),value:(i.totalPrice/i.result.length/(i.totalCustomers/i.result.length)).toFixed(2),suffix:s})})]})})})})}),e(F,{tableLayout:"auto",scroll:{x:"100%"},columns:o,dataSource:i.result,pagination:{position:"bottom",total:i&&i.result?i.result.length:0,showTotal:(l,t)=>`${t[0]}-${t[1]} of ${l} items`,showSizeChanger:!0,pageSizeOptions:["10","20","50","100","200"],hideOnSinglePage:i&&i.result&&i.result.length<10},rowKey:()=>Math.random()})]})}const Ze=oe(_e),te=({data:i,currency:s})=>{const{formatMessage:o}=U(),l=[{title:o({id:"window.date"}),dataIndex:"timestamp",key:"date",render:t=>e("span",{children:`${y.unix(t).format("DD.MM.YYYY")}`}),sorter:(t,n)=>t.timestamp-n.timestamp},{title:o({id:"KitchenByPeriod.5ch"}),dataIndex:"fivePerDay",key:"5chodovych",render:t=>{const n=d("div",{children:[d("p",{children:["0-1400: ",t.kcal[0]]}),d("p",{children:["1400-1600: ",t.kcal[1]]}),d("p",{children:["1600-1800: ",t.kcal[2]]}),d("p",{children:["1800-2400: ",t.kcal[3]]}),d("p",{children:["2400-3000: ",t.kcal[4]]}),e("p",{children:`>3000: ${t.kcal[5]}`})]});return e(R,{content:n,title:"Details",children:e("a",{children:t.total})})},sorter:(t,n)=>t.fivePerDay.total-n.fivePerDay.total},{title:o({id:"KitchenByPeriod.3ch"}),dataIndex:"threePerDay",key:"3chodovych",render:t=>{const n=d("div",{children:[d("p",{children:["0-1400: ",t.kcal[0]]}),d("p",{children:["1400-1600: ",t.kcal[1]]}),d("p",{children:["1600-1800: ",t.kcal[2]]}),d("p",{children:["1800-2400: ",t.kcal[3]]}),d("p",{children:["2400-3000: ",t.kcal[4]]}),e("p",{children:`>3000: ${t.kcal[5]}`})]});return e(R,{content:n,title:"Details",children:e("a",{children:t.total})})},sorter:(t,n)=>t.threePerDay.total-n.threePerDay.total},{title:o({id:"KitchenByPeriod.HO"}),dataIndex:"twoPerDay",key:"HO",render:t=>e("span",{children:`${t}`}),sorter:(t,n)=>t.twoPerDay-n.twoPerDay},{title:o({id:"KitchenByPeriod.Other"}),dataIndex:"otherPerDay",key:"otherPerDay",render:t=>e("span",{children:`${t}`}),sorter:(t,n)=>t.otherPerDay-n.otherPerDay},{title:o({id:"KitchenByPeriod.ExtraObed/vecere"}),dataIndex:"extraMain",key:"extraMain",render:t=>e("span",{children:t}),sorter:(t,n)=>t.length-n.length},{title:o({id:"KitchenByPeriod.ExtraSvacin"}),dataIndex:"extraOption",key:"extraOption",render:t=>e("span",{children:t}),sorter:(t,n)=>t.length-n.length},{title:o({id:"KitchenByPeriod.VynechaniObed/vecere"}),dataIndex:"exeptMain",key:"exeptMain",render:t=>e("span",{children:t}),sorter:(t,n)=>t.length-n.length},{title:o({id:"KitchenByPeriod.VynechaniSvacin"}),dataIndex:"exeptOption",key:"exeptOption",render:t=>e("span",{children:t}),sorter:(t,n)=>t.length-n.length},{title:o({id:"KitchenByPeriod.CelkemKlientu"}),dataIndex:"totalCustomers",key:"totalCustomers",render:t=>e(D,{color:"geekblue",children:t},"dfdfddffdfe"),sorter:(t,n)=>t.pricePerDay-n.pricePerDay},{title:o({id:"KitchenByPeriod.FoodCostZaDen"}),dataIndex:"totalPrice",key:"totalPrice",render:t=>e(D,{color:"blue",children:t},"33434de3fe"),sorter:(t,n)=>t.totalPrice-n.totalPrice},{title:o({id:"KitchenByPeriod.CustomerCostZaDen"}),dataIndex:"customerCost",key:"customerCost",render:t=>e(D,{color:"green",children:t},"33434de3fe"),sorter:(t,n)=>t.totalPrice-n.totalPrice}];return d("div",{children:[i.foodCost&&d(X,{children:[e("div",{className:"row",children:e("div",{className:"col-lg-12",children:e("div",{className:"card card--fullHeight",children:e("div",{className:"card-body",children:d("div",{className:"d-flex justify-content-around align-items-center w-100",children:[e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.Days"}),value:i.result.length})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.TotalSets"}),value:i.sets})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.Avg.CustomersPerDay"}),value:(i.sets/i.result.length).toFixed(2)})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.TotalFoodCost"}),value:i.foodCost.basic,suffix:s})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.Avg.f/cPerDay"}),value:Math.round(i.foodCost.basic/i.result.length),suffix:s})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.Avg.f/cForCustomerPerDay"}),value:(i.foodCost.basic/i.result.length/(i.sets/i.result.length)).toFixed(2),suffix:s})})]})})})})}),e("hr",{}),e("div",{className:"row",children:e("div",{className:"col-lg-12",children:e("div",{className:"card card--fullHeight",children:e("div",{className:"card-body",children:d("div",{className:"d-flex justify-content-around align-items-center w-100",children:[e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.TotalRevenue"}),value:i.customerCost.total,suffix:s})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.RevenueInvoiced"}),value:i.customerCost.invoiced,suffix:s})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.RevenuePaid"}),value:i.customerCost.paid,suffix:s})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.F/cWithTax"}),value:i.foodCost.withTax,suffix:s})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.DeliveryCost"}),value:i.deliveryCost,suffix:s})})]})})})})}),e("hr",{}),e("div",{className:"row",children:e("div",{className:"col-lg-12",children:e("div",{className:"card card--fullHeight",children:e("div",{className:"card-body",children:d("div",{className:"d-flex justify-content-around align-items-center w-100",children:[e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.NetRevenueInvoiced"}),value:i.revenue.invoiced,suffix:s})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.MarginInvoiced"}),value:i.margin.invoiced,suffix:"%"})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.NetRevenuePaid"}),value:i.revenue.paid,suffix:s})}),e("div",{children:e(a,{style:{textAlign:"center"},title:o({id:"KitchenByPeriod.MarginPaid"}),value:i.margin.paid,suffix:"%"})})]})})})})})]}),e(F,{tableLayout:"auto",scroll:{x:"100%"},columns:l,dataSource:i.result,pagination:{position:"bottom",total:i&&i.result?i.result.length:0,showTotal:(t,n)=>`${n[0]}-${n[1]} of ${t} items`,showSizeChanger:!0,pageSizeOptions:["10","20","50","100","200"],hideOnSinglePage:i&&i.result&&i.result.length<10},rowKey:()=>Math.random()})]})};function Ue({data:i}){const s=[{title:"",dataIndex:"title",key:"title",render:o=>e("strong",{children:o})},{title:i.months?i.months[0]:"-",dataIndex:"month5",key:"month5",render:(o,l,t)=>t===8||t===10?e("strong",{children:o}):t===1||t===7?e(D,{color:"blue",children:o},Math.random()):t===3||t===5||t===9?e(D,{color:"green",children:o},Math.random()):o},{title:i.months?i.months[1]:"-",dataIndex:"month4",key:"month4",render:(o,l,t)=>t===8||t===10?e("strong",{children:o}):t===1||t===7?e(D,{color:"blue",children:o},Math.random()):t===3||t===5||t===9?e(D,{color:"green",children:o},Math.random()):o},{title:i.months?i.months[2]:"-",dataIndex:"month3",key:"month3",render:(o,l,t)=>t===8||t===10?e("strong",{children:o}):t===1||t===7?e(D,{color:"blue",children:o},Math.random()):t===3||t===5||t===9?e(D,{color:"green",children:o},Math.random()):o},{title:i.months?i.months[3]:"-",dataIndex:"month2",key:"month2",render:(o,l,t)=>t===8||t===10?e("strong",{children:o}):t===1||t===7?e(D,{color:"blue",children:o},Math.random()):t===3||t===5||t===9?e(D,{color:"green",children:o},Math.random()):o},{title:i.months?i.months[4]:"-",dataIndex:"month1",key:"month1",render:(o,l,t)=>t===8||t===10?e("strong",{children:o}):t===1||t===7?e(D,{color:"blue",children:o},Math.random()):t===3||t===5||t===9?e(D,{color:"green",children:o},Math.random()):o},{title:i.months?i.months[5]:"-",dataIndex:"month0",key:"month0",render:(o,l,t)=>t===8||t===10?e("strong",{children:o}):t===1||t===7?e(D,{color:"blue",children:o},Math.random()):t===3||t===5||t===9?e(D,{color:"green",children:o},Math.random()):o}];return e("div",{children:e(F,{className:"utils__scrollTable",tableLayout:"auto",scroll:{x:"100%"},columns:s,dataSource:i.result,pagination:{position:"bottom",total:i&&i.result?i.result.length:0,showTotal:(o,l)=>`${l[0]}-${l[1]} of ${o} items`,showSizeChanger:!0,pageSizeOptions:["10","20","50","100","200"],hideOnSinglePage:i&&i.result&&i.result.length<10},rowKey:()=>Math.random()})})}const Xe=({data:i,stats:s,currency:o})=>{const l={CZK:"cs-CZ",EUR:"de-DE"},t=[{title:"Date",dataIndex:"cookingDate",key:"cookingDate",render:n=>e("span",{children:n}),sorter:(n,m)=>y(n.cookingDate)-y(m.cookingDate)},{title:"Kitchen",dataIndex:"kitchen",key:"kitchen",render:n=>e("span",{children:n}),sorter:(n,m)=>n.kitchen-m.kitchen},{title:"Total price (without VAT)",dataIndex:"totalPrice",key:"totalPrice",render:n=>{const m=n.toLocaleString(l[o],{style:"currency",currency:o,minimumFractionDigits:0});return e("span",{children:m})},sorter:(n,m)=>n.totalPrice-m.totalPrice},{title:"VAT 15%",dataIndex:"totalVAT",key:"totalVAT",render:n=>{const m=n.toLocaleString(l[o],{style:"currency",currency:o,minimumFractionDigits:0});return e("span",{children:m})},sorter:(n,m)=>n.totalVAT-m.totalVAT},{title:"Total with VAT",dataIndex:"totalWithVAT",key:"totalWithVAT",render:n=>{const m=n.toLocaleString(l[o],{style:"currency",currency:o,minimumFractionDigits:0});return e("span",{children:m})},sorter:(n,m)=>n.totalWithVAT-m.totalWithVAT},{title:"Big box price (without VAT)",dataIndex:"mainDishPrice",key:"mainDishPrice",render:n=>{const m=n.toLocaleString(l[o],{style:"currency",currency:o,minimumFractionDigits:0});return e("span",{children:m})},sorter:(n,m)=>n.mainDishPrice-m.mainDishPrice},{title:"Big boxes",dataIndex:"mainDishAmount",key:"mainDishAmount",render:n=>e("span",{children:n.invoiced+n.withoutInvoice}),sorter:(n,m)=>n.mainDishAmount-m.mainDishAmount},{title:"Small box price (without VAT)",dataIndex:"optionDishPrice",key:"optionDishPrice",render:n=>{const m=n.toLocaleString(l[o],{style:"currency",currency:o,minimumFractionDigits:0});return e("span",{children:m})},sorter:(n,m)=>n.optionDishPrice-m.optionDishPrice},{title:"Small boxes",dataIndex:"optionDishAmount",key:"optionDishAmount",render:n=>e("span",{children:n.invoiced+n.withoutInvoice}),sorter:(n,m)=>n.optionDishAmount-m.optionDishAmount},{title:"Total boxes",dataIndex:"totalDishes",key:"totalDishes",render:n=>e("span",{children:n.invoiced+n.withoutInvoice}),sorter:(n,m)=>n.totalDishes-m.totalDishes},{title:"Total sets",dataIndex:"totalSets",key:"totalSets",render:n=>e("span",{children:n}),sorter:(n,m)=>n.totalSets-m.totalSets},{title:"Price",dataIndex:"price",key:"price",render:n=>{const m=n==null?void 0:n.main.toLocaleString(l[o],{style:"currency",currency:o,minimumFractionDigits:0}),g=n==null?void 0:n.option.toLocaleString(l[o],{style:"currency",currency:o,minimumFractionDigits:0});return e("span",{children:`${m} / ${g}`})}}];return d("div",{children:[s.length!==0&&d(X,{children:[d(C,{children:[e(h,{sm:24,lg:5,children:e(a,{title:"Total price (without VAT)",value:s.totalPrice,suffix:o})}),e(h,{sm:24,lg:4,children:e(a,{title:"VAT 15%",value:s.totalVAT,suffix:o})}),e(h,{sm:24,lg:5,children:e(a,{title:"Total price (with VAT)",value:s.totalWithVAT,suffix:o})})]}),e(P,{}),d(C,{children:[e(h,{sm:24,lg:5,children:e(a,{title:"Big box price (without VAT)",value:s.mainDishPrice,suffix:o})}),e(h,{sm:24,lg:4,children:e(a,{title:"Big boxes",value:s.mainDishAmount.invoiced+s.mainDishAmount.withoutInvoice})}),e(h,{sm:24,lg:5,children:e(a,{title:"Small box price (without VAT)",value:s.optionDishPrice,suffix:o})}),e(h,{sm:24,lg:3,children:e(a,{title:"Small boxes",value:s.optionDishAmount.invoiced+s.optionDishAmount.withoutInvoice})}),e(h,{sm:24,lg:4,children:e(a,{title:"Total boxes",value:s.totalDishes.invoiced+s.totalDishes.withoutInvoice})}),e(h,{sm:24,lg:3,children:e(a,{title:"Total sets",value:s.totalSets})})]}),e(P,{}),d(C,{children:[e(h,{sm:24,lg:4,children:e(a,{title:"Big boxes (invoiced)",value:s.mainDishAmount.invoiced})}),e(h,{sm:24,lg:4,children:e(a,{title:"Small boxes (invoiced)",value:s.optionDishAmount.invoiced})}),e(h,{sm:24,lg:4,children:e(a,{title:"Big boxes (without invoice)",value:s.mainDishAmount.withoutInvoice})}),e(h,{sm:24,lg:4,children:e(a,{title:"Small boxes (without invoice)",value:s.optionDishAmount.withoutInvoice})})]})]}),e(F,{style:{marginTop:"20px"},tableLayout:"auto",scroll:{x:"100%"},columns:t,dataSource:i,pagination:{pageSize:12,position:"bottom"}})]})},Ge=({data:i,currency:s})=>{var k,A,r,c,j,W,H,z,I,O,_,Z,K,$;const[o]=p.useState(40),[l,t]=p.useState(0);p.useEffect(()=>{var w;t((o||40)*(((w=i==null?void 0:i.kitchenCost)==null?void 0:w.totalSets)||0))},[(k=i==null?void 0:i.kitchenCost)==null?void 0:k.totalSets,o]);const n=(r=(A=i==null?void 0:i.customerCost)==null?void 0:A.cost)==null?void 0:r.invoiced,m=Number((n/1.15).toFixed(2)),g=Number((n-m).toFixed(2)),x=n-((c=i==null?void 0:i.kitchenCost)==null?void 0:c.totalWithVAT)-l,B=((W=(j=i==null?void 0:i.customerCost)==null?void 0:j.cost)==null?void 0:W.paid)-((H=i==null?void 0:i.kitchenCost)==null?void 0:H.totalWithVAT)-l,T=(x/n*100).toFixed(2),N=(B/((I=(z=i==null?void 0:i.customerCost)==null?void 0:z.cost)==null?void 0:I.paid)*100).toFixed(2);return e("div",{children:i.length!==0&&d(X,{children:[e(P,{children:"Food & Delivery cost"}),d(C,{children:[e(h,{sm:24,lg:5,children:e(a,{title:"Food cost (without VAT)",value:(O=i==null?void 0:i.kitchenCost)==null?void 0:O.totalPrice,suffix:s})}),e(h,{sm:24,lg:4,children:e(a,{title:"VAT 15%",value:(_=i==null?void 0:i.kitchenCost)==null?void 0:_.totalVAT,suffix:s})}),e(h,{sm:24,lg:5,children:e(a,{title:"Food cost (with VAT)",value:(Z=i==null?void 0:i.kitchenCost)==null?void 0:Z.totalWithVAT,suffix:s})}),e(h,{sm:24,lg:5,children:e(a,{title:"Delivery cost",value:l,suffix:s})})]}),e(P,{children:"Revenue"}),d(C,{children:[e(h,{sm:24,lg:5,children:e(a,{title:"Invoiced revenue",value:m,suffix:s})}),e(h,{sm:24,lg:5,children:e(a,{title:"VAT 15%",value:g,suffix:s})}),e(h,{sm:24,lg:5,children:e(a,{title:"Customer cost (with VAT)",value:n,suffix:s})}),e(h,{sm:24,lg:5,children:e(a,{title:"Revenue paid (with VAT)",value:($=(K=i==null?void 0:i.customerCost)==null?void 0:K.cost)==null?void 0:$.paid,suffix:s})})]}),e(P,{children:"Net Revenue & Margin"}),d(C,{children:[e(h,{sm:24,lg:5,children:e(a,{title:"Net revenue (invoiced)",value:x,suffix:s})}),e(h,{sm:24,lg:5,children:e(a,{title:"Margin (invoiced)",value:T,suffix:"%"})}),e(h,{sm:24,lg:5,children:e(a,{title:"Net revenue (paid)",value:B,suffix:s})}),e(h,{sm:24,lg:5,children:e(a,{title:"Margin (paid)",value:N,suffix:"%"})})]}),e(P,{children:"Number of boxes"}),d(C,{children:[e(h,{sm:24,lg:4,children:e(a,{title:"Big (invoiced)",value:i.kitchenCost.mainDishAmount.invoiced})}),e(h,{sm:24,lg:4,children:e(a,{title:"Small (invoiced)",value:i.kitchenCost.optionDishAmount.invoiced})}),e(h,{sm:24,lg:4,children:e(a,{title:"Total (invoiced)",value:i.kitchenCost.totalDishes.invoiced})}),e(h,{sm:24,lg:4,children:e(a,{title:"Big (without invoice)",value:i.kitchenCost.mainDishAmount.withoutInvoice})}),e(h,{sm:24,lg:4,children:e(a,{title:"Small (without invoice)",value:i.kitchenCost.optionDishAmount.withoutInvoice})}),e(h,{sm:24,lg:4,children:e(a,{title:"Total (without invoice)",value:i.kitchenCost.totalDishes.withoutInvoice})})]}),e(P,{})]})})},Je=({data:i,stats:s,currency:o})=>{var T,N,k,A;const l={CZK:"cs-CZ",EUR:"de-DE"},t=[{title:"Date",dataIndex:"cookingDate",key:"cookingDate",render:r=>e("span",{children:r}),sorter:(r,c)=>y(r.cookingDate)-y(c.cookingDate)},{title:"Kitchen",dataIndex:"kitchen",key:"kitchen",render:r=>e("span",{children:r}),sorter:(r,c)=>r.kitchen-c.kitchen},{title:"Big boxes",dataIndex:"mainDishAmount",key:"mainDishAmount.invoiced",render:r=>e(D,{color:"blue",children:r.invoiced}),sorter:(r,c)=>r.mainDishAmount.invoiced-c.mainDishAmount.invoiced},{title:"Big boxes (-)",dataIndex:"mainDishAmount",key:"mainDishAmount.withoutInvoice",render:r=>r.withoutInvoice,sorter:(r,c)=>r.mainDishAmount.withoutInvoice-c.mainDishAmount.withoutInvoice},{title:"Small boxes",dataIndex:"optionDishAmount",key:"optionDishAmount.invoiced",render:r=>e(D,{color:"blue",children:r.invoiced}),sorter:(r,c)=>r.optionDishAmount.invoiced-c.optionDishAmount.invoiced},{title:"Small boxes (-)",dataIndex:"optionDishAmount",key:"optionDishAmount.withoutInvoice",render:r=>r.withoutInvoice,sorter:(r,c)=>r.optionDishAmount.withoutInvoice-c.optionDishAmount.withoutInvoice},{title:"Total boxes",dataIndex:"totalDishes",key:"totalDishes.invoiced",render:r=>e(D,{color:"blue",children:r.invoiced}),sorter:(r,c)=>r.totalDishes.invoiced-c.totalDishes.invoiced},{title:"Total boxes (-)",dataIndex:"totalDishes",key:"totalDishes.withoutInvoice",render:r=>r.withoutInvoice,sorter:(r,c)=>r.totalDishes.withoutInvoice-c.totalDishes.withoutInvoice},{title:"5ch",dataIndex:"fiveMeals",key:"fiveMeals.invoiced",render:r=>e(D,{color:"blue",children:r.invoiced}),sorter:(r,c)=>r.fiveMeals.invoiced-c.fiveMeals.invoiced},{title:"5ch (-)",dataIndex:"fiveMeals",key:"fiveMeals.withoutInvoice",render:r=>r.withoutInvoice,sorter:(r,c)=>r.fiveMeals.withoutInvoice-c.fiveMeals.withoutInvoice},{title:"4ch",dataIndex:"fourMeals",key:"fourMeals.invoiced",render:r=>e(D,{color:"blue",children:r.invoiced}),sorter:(r,c)=>r.fourMeals.invoiced-c.fourMeals.invoiced},{title:"4ch (-)",dataIndex:"fourMeals",key:"fourMeals.withoutInvoice",render:r=>r.withoutInvoice,sorter:(r,c)=>r.fourMeals.withoutInvoice-c.fourMeals.withoutInvoice},{title:"3ch",dataIndex:"threeMeals",key:"threeMeals.invoiced",render:r=>e(D,{color:"blue",children:r.invoiced}),sorter:(r,c)=>r.threeMeals.invoiced-c.threeMeals.invoiced},{title:"3ch (-)",dataIndex:"threeMeals",key:"threeMeals.withoutInvoice",render:r=>r.withoutInvoice,sorter:(r,c)=>r.threeMeals.withoutInvoice-c.threeMeals.withoutInvoice},{title:"2ch",dataIndex:"twoMeals",key:"twoMeals.invoiced",render:r=>e(D,{color:"blue",children:r.invoiced}),sorter:(r,c)=>r.twoMeals.invoiced-c.twoMeals.invoiced},{title:"2ch (-)",dataIndex:"twoMeals",key:"twoMeals.withoutInvoice",render:r=>r.withoutInvoice,sorter:(r,c)=>r.twoMeals.withoutInvoice-c.twoMeals.withoutInvoice},{title:"Custom",dataIndex:"custom",key:"custom.invoiced",render:r=>e(D,{color:"blue",children:r.invoiced}),sorter:(r,c)=>r.custom.invoiced-c.custom.invoiced},{title:"Custom (-)",dataIndex:"custom",key:"custom.withoutInvoice",render:r=>r.withoutInvoice,sorter:(r,c)=>r.custom.withoutInvoice-c.custom.withoutInvoice},{title:"Cost",dataIndex:"cost",key:"cost.invoiced",render:r=>{const c=r==null?void 0:r.invoiced.toLocaleString(l[o],{style:"currency",currency:o,minimumFractionDigits:0});return e(D,{color:"blue",children:c})},sorter:(r,c)=>r.cost.invoiced-c.cost.invoiced},{title:"Cost (-)",dataIndex:"cost",key:"cost.withoutInvoice",render:r=>{const c=r==null?void 0:r.withoutInvoice.toLocaleString(l[o],{style:"currency",currency:o,minimumFractionDigits:0});return e("span",{children:c})},sorter:(r,c)=>r.cost.withoutInvoice-c.cost.withoutInvoice}],n=((T=s==null?void 0:s.cost)==null?void 0:T.invoiced)+((N=s==null?void 0:s.cost)==null?void 0:N.withoutInvoice),m=Number((n/1.15).toFixed(2)),g=Number((n-m).toFixed(2)),x=Number((((k=s==null?void 0:s.cost)==null?void 0:k.invoiced)/1.15).toFixed(2)),B=Number((((A=s==null?void 0:s.cost)==null?void 0:A.withoutInvoice)/1.15).toFixed(2));return d("div",{children:[s.length!==0&&d(X,{children:[d(C,{children:[e(h,{sm:24,lg:5,children:e(a,{title:"Total cost (without VAT)",value:m,suffix:o})}),e(h,{sm:24,lg:4,children:e(a,{title:"VAT 15%",value:g,suffix:o})}),e(h,{sm:24,lg:5,children:e(a,{title:"Total cost (with VAT)",value:n,suffix:o})})]}),e(P,{}),d(C,{children:[e(h,{sm:24,lg:5,children:e(a,{title:"Invoiced cost (without VAT)",value:x,suffix:o})}),e(h,{sm:24,lg:5,children:e(a,{title:"Invoiced cost (with VAT)",value:s.cost.invoiced,suffix:o})}),e(h,{sm:24,lg:5,children:e(a,{title:"Without invoice cost (without VAT)",value:B,suffix:o})}),e(h,{sm:24,lg:5,children:e(a,{title:"Without invoice (with VAT)",value:s.cost.withoutInvoice,suffix:o})})]}),e(P,{children:"Number of boxes"}),d(C,{children:[e(h,{sm:24,lg:4,children:e(a,{title:"Big (invoiced)",value:s.mainDishAmount.invoiced})}),e(h,{sm:24,lg:4,children:e(a,{title:"Small (invoiced)",value:s.optionDishAmount.invoiced})}),e(h,{sm:24,lg:4,children:e(a,{title:"Total (invoiced)",value:s.totalDishes.invoiced})}),e(h,{sm:24,lg:4,children:e(a,{title:"Big (without invoice)",value:s.mainDishAmount.withoutInvoice})}),e(h,{sm:24,lg:4,children:e(a,{title:"Small (without invoice)",value:s.optionDishAmount.withoutInvoice})}),e(h,{sm:24,lg:4,children:e(a,{title:"Total (without invoice)",value:s.totalDishes.withoutInvoice})})]}),e(P,{children:"Number of programs (invoiced)"}),d(C,{children:[e(h,{sm:24,lg:4,children:e(a,{title:"5ch",value:s.fiveMeals.invoiced})}),e(h,{sm:24,lg:4,children:e(a,{title:"4ch",value:s.fourMeals.invoiced})}),e(h,{sm:24,lg:4,children:e(a,{title:"3ch",value:s.threeMeals.invoiced})}),e(h,{sm:24,lg:4,children:e(a,{title:"2ch",value:s.twoMeals.invoiced})}),e(h,{sm:24,lg:4,children:e(a,{title:"Custom",value:s.custom.invoiced})})]}),e(P,{children:"Number of programs (without invoice)"}),d(C,{children:[e(h,{sm:24,lg:4,children:e(a,{title:"5ch (without invoice)",value:s.fiveMeals.withoutInvoice})}),e(h,{sm:24,lg:4,children:e(a,{title:"4ch (without invoice)",value:s.fourMeals.withoutInvoice})}),e(h,{sm:24,lg:4,children:e(a,{title:"3ch (without invoice)",value:s.threeMeals.withoutInvoice})}),e(h,{sm:24,lg:4,children:e(a,{title:"2ch (without invoice)",value:s.twoMeals.withoutInvoice})}),e(h,{sm:24,lg:4,children:e(a,{title:"Custom (without invoice)",value:s.custom.withoutInvoice})})]}),e(P,{})]}),e(F,{style:{marginTop:"20px"},tableLayout:"auto",scroll:{x:"100%"},columns:t,dataSource:i,pagination:{pageSize:12,position:"bottom"}})]})},{RangePicker:ie}=Ve,{Option:ne}=re;y.updateLocale("en",{week:{dow:1}});const vt=()=>{const[i,s]=p.useState(y().subtract(7,"days").unix()),[o,l]=p.useState(y().unix()),[t,n]=p.useState([]),[m,g]=p.useState({}),[x,B]=p.useState([]),[T,N]=p.useState([]),[k,A]=p.useState([]),[r,c]=p.useState([]),[j,W]=p.useState({}),[H,z]=p.useState({}),[I,O]=p.useState(""),[_,Z]=p.useState([{id:"",name:"-"}]),[K,$]=p.useState(1),[w,b]=p.useState(!1),[Q,le]=p.useState(!1),[se,G]=p.useState(!1),[ae,ce]=p.useState([]),[de,he]=p.useState([]),[ue,me]=p.useState([]),[ve,ge]=p.useState([]),[ye,De]=p.useState([]),{formatMessage:M}=U(),{currentCurrency:Y}=Ie(u=>u.settings);p.useEffect(()=>{Ee().then(async u=>{if(u.status!==401){const f=await u.json();Z(f),O(f[0].id)}})},[]);const fe=u=>O(u.key),pe=async u=>{le(u.target.checked),$(u.target.checked?8:1)},q=async u=>{s(u[0].unix()),l(u[1].unix())},xe=u=>$(u),Ce=()=>{G(!0),Oe(y.unix(i).format("DD-MM-YYYY"),y.unix(o).format("DD-MM-YYYY")).then(async u=>{const f=await u.blob(),ke=u.headers.get("Filename");Se.saveAs(f,`${ke}`),G(!1)}).catch(u=>{E.warning({message:u.code,description:u.message}),G(!1)})},L=()=>{switch(b(!0),Number(K)){case 2:Fe(I,y.unix(i).format("DD-MM-YYYY"),y.unix(o).format("DD-MM-YYYY")).then(async u=>{if(u.status===200){const f=await u.json();B(f)}}).finally(()=>b(!1));break;case 3:Ke(I,y.unix(i).format("DD-MM-YYYY"),y.unix(o).format("DD-MM-YYYY")).then(async u=>{if(u.status===200){const f=await u.json();he(f.result.pop()),ce(f.result)}}).finally(()=>b(!1));break;case 4:$e(y.unix(i).format("DD-MM-YYYY"),y.unix(o).format("DD-MM-YYYY")).then(async u=>{if(u.status===200){const f=await u.json();z(f)}}).finally(()=>b(!1));break;case 5:Ne(I,y.unix(i).format("DD-MM-YYYY"),y.unix(o).format("DD-MM-YYYY")).then(async u=>{if(u.status===200){const f=await u.json();N(f)}}).finally(()=>b(!1));break;case 6:Te(I,y.unix(i).format("DD-MM-YYYY"),y.unix(o).format("DD-MM-YYYY")).then(async u=>{if(u.status===200){const f=await u.json();ge(f.result.pop()),me(f.result)}}).finally(()=>b(!1));break;case 7:Be(I,y.unix(i).format("DD-MM-YYYY"),y.unix(o).format("DD-MM-YYYY")).then(async u=>{if(u.status===200){const f=await u.json();De(f.result)}}).finally(()=>b(!1));break;case 8:ee(I,y.unix(i).format("DD-MM-YYYY"),y.unix(o).format("DD-MM-YYYY")).then(async u=>{if(u.status===200){const f=await u.json();A(f)}}).finally(()=>b(!1));break;case 9:Ye(I).then(async u=>{if(u.status===200){const f=await u.json();W(f)}}).finally(()=>b(!1));break;case 10:ee(I,y.unix(i).format("DD-MM-YYYY"),y.unix(o).format("DD-MM-YYYY"),{filter:!0,status:!0}).then(async u=>{if(u.status===200){const f=await u.json();c(f)}}).finally(()=>b(!1));break;default:Ae(y.unix(i).format("DD-MM-YYYY"),y.unix(o).format("DD-MM-YYYY")).then(async u=>{if(u.status===200){const f=await u.json();n(f.salesList),g(f.details)}}).finally(()=>b(!1))}};return d(Pe,{roles:["root","finance","salesDirector"],users:["David"],redirect:!0,to:"/main",children:[e(be,{title:"Dashboard Financial"}),e("div",{className:"row",children:e("div",{className:"col-xl-12",children:e("div",{className:"card card--fullHeight",children:d("div",{className:"card-body",children:[[1,2,4,5,8].includes(Number(K))&&e(ie,{ranges:{"Previous Month":[y().subtract(1,"month").startOf("month"),y().subtract(1,"month").endOf("month")],"This Month":[y().startOf("month"),y().endOf("month")]},defaultValue:[y(i*1e3),y(o*1e3)],format:"DD.MM.YYYY",onChange:q,style:{marginBottom:"10px",marginRight:"15px"}}),[3,6,7].includes(Number(K))&&e(ie,{format:"DD.MM.YYYY",disabledDate:u=>u.day()!==2&&u.day()!==4&&u.day()!==0,onChange:q,style:{marginBottom:"10px",marginRight:"15px"}}),![1,4].includes(Number(K))&&d(re,{labelInValue:!0,value:{key:I},style:{marginRight:"15px",width:120},onChange:fe,children:[e(ne,{value:"null",children:M({id:"DashboardFinance.All"})},"null"),_.map(u=>e(ne,{value:u.id,children:u.name},u.id))]}),e(Me,{checked:Q,onChange:pe,style:{marginRight:"15px"},children:M({id:"DashboardFinance.B2B"})}),e(J,{type:"primary",style:{marginRight:"15px"},onClick:L,children:M({id:"window.show"})}),Number(K)===4&&e(J,{type:"dashed",onClick:Ce,loading:se,children:M({id:"DashboardFinance.ExportDeliveryFee"})})]})})})}),e("div",{className:"row",children:e("div",{className:"col-xl-12",children:e("div",{className:"card card--fullHeight",children:e("div",{className:"card-body",children:e(Le,{defaultActiveKey:"1",onChange:xe,type:"card",items:Q?[{label:M({id:"DashboardFinance.B2BMarginByPeriod"}),key:"10",children:e(S,{spinning:w,children:e(te,{data:r,show:L,currency:Y})})}]:[{label:M({id:"DashboardFinance.SalesData"}),key:"1",children:e(S,{spinning:w,children:e(je,{data:t,details:m,currency:Y})})},{label:"Kitchens (deprecated)",key:"2",children:e(S,{spinning:w,children:e(We,{data:x,currency:Y})})},{label:M({id:"DashboardFinance.KitchenInvoice"}),key:"3",children:e(S,{spinning:w,children:e(Xe,{data:ae,stats:de,currency:Y})})},{label:M({id:"DashboardFinance.Deliveries"}),key:"4",children:e(S,{spinning:w,children:e(ze,{data:H,show:L,currency:Y})})},{label:"Customers cost (deprecated)",key:"5",children:e(S,{spinning:w,children:e(Ze,{data:T,show:L,currency:Y})})},{label:M({id:"DashboardFinance.CustomersCost"}),key:"6",children:e(S,{spinning:w,children:e(Je,{data:ue,stats:ve,currency:Y})})},{label:M({id:"DashboardFinance.AllMarginByPeriod"}),key:"7",children:e(S,{spinning:w,children:e(Ge,{data:ye,currency:Y})})},{label:"Margin (deprecated)",key:"8",children:e(S,{spinning:w,children:e(te,{data:k,show:L,currency:Y})})},{label:M({id:"DashboardFinance.Margin6Months"}),key:"9",children:e(S,{spinning:w,children:e(Ue,{data:j,show:L})})}]})})})})})]})};export{vt as default};
