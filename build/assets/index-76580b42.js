var Qe=Object.defineProperty;var Ze=(p,u,t)=>u in p?Qe(p,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):p[u]=t;var E=(p,u,t)=>(Ze(p,typeof u!="symbol"?u+"":u,t),t);import{r as v,A as fe,_ as Q,at as Ne,au as Me,av as Be,aw as we,i as ce,l as L,aL as Fe,j as e,aC as Xe,a2 as re,b3 as et,C as tt,h as at,aE as rt,aJ as it,a as ze,u as st,c as o,I as J,a5 as U,B as W,a6 as nt,a1 as de,bf as be,b0 as k,aa as O,bo as ae,bd as lt,be as ot,a3 as se,cq as ct,bg as dt}from"./index-c20b5e8e.js";import{P as ht}from"./progress-7ba6c5df.js";import{D as G}from"./index-98f1088d.js";import{S as ne}from"./index-297358d3.js";/* empty css              */import{T as ve}from"./index-8e340a60.js";import{C as mt}from"./index-9edbcc8e.js";import{F as N}from"./index-a86cfb93.js";import{R as X,C as K}from"./row-58ed805b.js";import{c as ut}from"./deliveryTools-db414b57.js";import{I as V}from"./index-86d1917a.js";/* empty css              */import{S as pt}from"./index-06104a82.js";import"./PickerPanel-72c5d64a.js";import{D as gt}from"./index-2f7554ca.js";import{k as vt,t as ft}from"./customer-fbff77ee.js";import{g as Ct}from"./ingredientTags-97eb43e3.js";import{n as yt,o as bt,p as kt,q as Pt}from"./order-d29e3517.js";import{g as Ot,a as xt}from"./pickupPoint-b7474fa9.js";import{g as St,a as Dt}from"./order-d39acf71.js";import{g as At}from"./productionBuffer-89e10f0c.js";import{g as Nt}from"./kitchen-60ac824b.js";import"./padStart-17be0050.js";import"./index-f21ef7a8.js";import"./index-372ade24.js";import"./EditOutlined-c424161b.js";import"./styleChecker-a7b568e2.js";import"./_defineProperty-df2abab4.js";var Mt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M251.2 387H320v68.8c0 1.8 1.8 3.2 4 3.2h48c2.2 0 4-1.4 4-3.3V387h68.8c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H376v-68.8c0-1.8-1.8-3.2-4-3.2h-48c-2.2 0-4 1.4-4 3.2V331h-68.8c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm328 0h193.6c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H579.2c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm0 265h193.6c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H579.2c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm0 104h193.6c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H579.2c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm-195.7-81l61.2-74.9c4.3-5.2.7-13.1-5.9-13.1H388c-2.3 0-4.5 1-5.9 2.9l-34 41.6-34-41.6a7.85 7.85 0 00-5.9-2.9h-50.9c-6.6 0-10.2 7.9-5.9 13.1l61.2 74.9-62.7 76.8c-4.4 5.2-.8 13.1 5.8 13.1h50.8c2.3 0 4.5-1 5.9-2.9l35.5-43.5 35.5 43.5c1.5 1.8 3.7 2.9 5.9 2.9h50.8c6.6 0 10.2-7.9 5.9-13.1L383.5 675zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-36 732H180V180h664v664z"}}]},name:"calculator",theme:"outlined"};const Bt=Mt;var Ie=function(u,t){return v.createElement(fe,Q(Q({},u),{},{ref:t,icon:Bt}))};Ie.displayName="CalculatorOutlined";const wt=v.forwardRef(Ie);var Ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v584zM688 420h-55.2c-5.1 0-10 2.5-13 6.6L468.9 634.4l-64.7-89c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.4 0-12.8-6.5-12.8z"}}]},name:"carry-out",theme:"outlined"};const zt=Ft;var Ee=function(u,t){return v.createElement(fe,Q(Q({},u),{},{ref:t,icon:zt}))};Ee.displayName="CarryOutOutlined";const It=v.forwardRef(Ee);var Et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};const Rt=Et;var Re=function(u,t){return v.createElement(fe,Q(Q({},u),{},{ref:t,icon:Rt}))};Re.displayName="SettingOutlined";const Tt=v.forwardRef(Re);var Yt=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick"];function ke(p){return typeof p=="string"}var Lt=function(p){Ne(t,p);var u=Me(t);function t(){var r;return Be(this,t),r=u.apply(this,arguments),r.onClick=function(){var n=r.props,a=n.onClick,s=n.onStepClick,i=n.stepIndex;a&&a.apply(void 0,arguments),s(i)},r}return we(t,[{key:"renderIconNode",value:function(){var n,a=this.props,s=a.prefixCls,i=a.progressDot,l=a.stepIcon,c=a.stepNumber,g=a.status,x=a.title,P=a.description,h=a.icon,S=a.iconPrefix,y=a.icons,d,M=ce("".concat(s,"-icon"),"".concat(S,"icon"),(n={},L(n,"".concat(S,"icon-").concat(h),h&&ke(h)),L(n,"".concat(S,"icon-check"),!h&&g==="finish"&&(y&&!y.finish||!y)),L(n,"".concat(S,"icon-cross"),!h&&g==="error"&&(y&&!y.error||!y)),n)),D=v.createElement("span",{className:"".concat(s,"-icon-dot")});return i?typeof i=="function"?d=v.createElement("span",{className:"".concat(s,"-icon")},i(D,{index:c-1,status:g,title:x,description:P})):d=v.createElement("span",{className:"".concat(s,"-icon")},D):h&&!ke(h)?d=v.createElement("span",{className:"".concat(s,"-icon")},h):y&&y.finish&&g==="finish"?d=v.createElement("span",{className:"".concat(s,"-icon")},y.finish):y&&y.error&&g==="error"?d=v.createElement("span",{className:"".concat(s,"-icon")},y.error):h||g==="finish"||g==="error"?d=v.createElement("span",{className:M}):d=v.createElement("span",{className:"".concat(s,"-icon")},c),l&&(d=l({index:c-1,status:g,title:x,description:P,node:d})),d}},{key:"render",value:function(){var n,a=this.props,s=a.className,i=a.prefixCls,l=a.style,c=a.active,g=a.status,x=g===void 0?"wait":g;a.iconPrefix;var P=a.icon;a.wrapperStyle,a.stepNumber;var h=a.disabled,S=a.description,y=a.title,d=a.subTitle;a.progressDot,a.stepIcon;var M=a.tailContent;a.icons,a.stepIndex;var D=a.onStepClick,C=a.onClick,R=Fe(a,Yt),T=ce("".concat(i,"-item"),"".concat(i,"-item-").concat(x),s,(n={},L(n,"".concat(i,"-item-custom"),P),L(n,"".concat(i,"-item-active"),c),L(n,"".concat(i,"-item-disabled"),h===!0),n)),A=Q({},l),B={};return D&&!h&&(B.role="button",B.tabIndex=0,B.onClick=this.onClick),v.createElement("div",Object.assign({},R,{className:T,style:A}),v.createElement("div",Object.assign({onClick:C},B,{className:"".concat(i,"-item-container")}),v.createElement("div",{className:"".concat(i,"-item-tail")},M),v.createElement("div",{className:"".concat(i,"-item-icon")},this.renderIconNode()),v.createElement("div",{className:"".concat(i,"-item-content")},v.createElement("div",{className:"".concat(i,"-item-title")},y,d&&v.createElement("div",{title:typeof d=="string"?d:void 0,className:"".concat(i,"-item-subtitle")},d)),S&&v.createElement("div",{className:"".concat(i,"-item-description")},S))))}}]),t}(v.Component),_t=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange"],he=function(p){Ne(t,p);var u=Me(t);function t(){var r;return Be(this,t),r=u.apply(this,arguments),r.onStepClick=function(n){var a=r.props,s=a.onChange,i=a.current;s&&i!==n&&s(n)},r}return we(t,[{key:"render",value:function(){var n,a=this,s=this.props,i=s.prefixCls,l=s.style,c=l===void 0?{}:l,g=s.className,x=s.children,P=s.direction,h=s.type,S=s.labelPlacement,y=s.iconPrefix,d=s.status,M=s.size,D=s.current,C=s.progressDot,R=s.stepIcon,T=s.initial,A=s.icons,B=s.onChange,F=Fe(s,_t),_=h==="navigation",$=C?"vertical":S,Y=ce(i,"".concat(i,"-").concat(P),g,(n={},L(n,"".concat(i,"-").concat(M),M),L(n,"".concat(i,"-label-").concat($),P==="horizontal"),L(n,"".concat(i,"-dot"),!!C),L(n,"".concat(i,"-navigation"),_),n));return e("div",{...Object.assign({className:Y,style:c},F),children:Xe(x).map(function(j,z){var f=T+z,w=Q({stepNumber:"".concat(f+1),stepIndex:f,key:f,prefixCls:i,iconPrefix:y,wrapperStyle:c,progressDot:C,stepIcon:R,icons:A,onStepClick:B&&a.onStepClick},j.props);return d==="error"&&z===D-1&&(w.className="".concat(i,"-next-error")),j.props.status||(f===D?w.status=d:f<D?w.status="finish":w.status="wait"),w.active=f===D,v.cloneElement(j,w)})})}}]),t}(re.Component);he.Step=Lt;he.defaultProps={type:"default",prefixCls:"rc-steps",iconPrefix:"rc",direction:"horizontal",labelPlacement:"horizontal",initial:0,current:0,status:"process",size:"",progressDot:!1};var $t=function(p,u){var t={};for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&u.indexOf(r)<0&&(t[r]=p[r]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(p);n<r.length;n++)u.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(p,r[n])&&(t[r[n]]=p[r[n]]);return t},Te=function(u){var t,r=u.percent,n=u.size,a=u.className,s=u.direction,i=u.responsive,l=i===void 0?!0:i,c=u.current,g=c===void 0?0:c,x=$t(u,["percent","size","className","direction","responsive","current"]),P=et(l),h=P.xs,S=v.useContext(tt),y=S.getPrefixCls,d=S.direction,M=v.useCallback(function(){return l&&h?"vertical":s},[h,s]),D=y("steps",u.prefixCls),C=y("",u.iconPrefix),R=ce((t={},L(t,"".concat(D,"-rtl"),d==="rtl"),L(t,"".concat(D,"-with-progress"),r!==void 0),t),a),T={finish:v.createElement(rt,{className:"".concat(D,"-finish-icon")}),error:v.createElement(it,{className:"".concat(D,"-error-icon")})},A=function(F){var _=F.node,$=F.status;if($==="process"&&r!==void 0){var Y=n==="small"?32:40,j=v.createElement("div",{className:"".concat(D,"-progress-icon")},v.createElement(ht,{type:"circle",percent:r,width:Y,strokeWidth:4,format:function(){return null}}),_);return j}return _};return v.createElement(he,at({icons:T},x,{current:g,size:n,direction:M(),stepIcon:A,prefixCls:D,iconPrefix:C,className:R}))};Te.Step=he.Step;const Ye=Te,{Search:jt}=J,{Option:Pe}=U,Wt=({user:p,update:u,isGlobalDeliveryFee:t,pickupPoints:r,pickupPoint:n,checkIsAvailable:a,checkingIsAvailable:s,pickupPointChecked:i})=>{const[l,c]=v.useState(!1),[g,x]=v.useState(""),[P]=N.useForm(),{formatMessage:h}=ze(),{currentBranch:S}=st(d=>d.settings),y=()=>{c(!0),S&&ut({address:p.address,branchId:S}).then(async d=>{if(d.ok){const M=await d.json();x(M.result.address.url),u(!M.result.isPointInPolygon,"isAddDeliveryFee"),u(!M.result.isPointInPolygon,"isGlobalDeliveryFee"),u(!0,"isAddressChecked")}else u("Invalid","isAddDeliveryFee")}).finally(()=>c(!1))};return v.useEffect(()=>{P.setFieldsValue({name:p.name,phone:p.phone,email:p.email})},[p]),o(N,{form:P,layout:"vertical",children:[e("h4",{className:"text-black mb-3",children:e("strong",{children:h({id:"Orders.OrderDetails"})})}),o("div",{className:"row",children:[e("div",{className:"col-md-6",children:e("div",{className:"form-group",children:e(N.Item,{label:h({id:"window.email"}),name:"email",rules:[{required:!0,type:"email",message:h({id:"Orders.PleaseEnterEmail!"})}],children:e(J,{id:"checkout-email",placeholder:h({id:"window.email"}),onChange:d=>u(d,"email")})})})}),e("div",{className:"col-md-6",children:e("div",{className:"form-group",children:e(N.Item,{label:h({id:"Orders.PhoneNumber"}),name:"phone",rules:[{required:!0,message:h({id:"Orders.PleaseInputPhoneNumber!"})}],children:e(J,{id:"checkout-phnum",placeholder:h({id:"Orders.PhoneNumber"}),onChange:d=>u(d,"phone")})})})})]}),e("div",{className:"row",children:e("div",{className:"col-md-6",children:e("div",{className:"form-group",children:e(N.Item,{label:h({id:"window.name"}),name:"name",rules:[{required:!0,message:h({id:"Orders.PleaseInputYourName!"})}],children:e(J,{id:"checkout-name",placeholder:h({id:"window.name"}),onChange:d=>u(d,"name")})})})})}),o("div",{className:"row",children:[e("div",{className:"col-md-3",children:e("div",{className:"form-group",children:o(N.Item,{label:h({id:"Orders.Pick-upPoint"}),children:[o(U,{placeholder:"Point",value:n,loading:s,disabled:!i,onChange:d=>u(d,"pickupPoint"),children:[e(Pe,{value:"",children:h({id:"Orders.None"})},"null"),r.map(d=>o(Pe,{value:d.id,disabled:d.currentValue!==void 0?d.currentValue>=d.orderCapacity:!1,children:[`${d.name}`," ",`${d.currentValue!==void 0?d.currentValue:"-"} / ${d.orderCapacity}`]},Math.random()))]}),e(W,{onClick:()=>a(),loading:s,type:"primary",children:h({id:"Orders.check"})})]})})}),e("div",{className:"col-md-6",children:e("div",{className:"form-group",children:e(N.Item,{label:h({id:"window.address"}),children:o("span",{children:[e(jt,{value:p.address,id:"checkout-address",placeholder:h({id:"window.address"}),className:"mb-3",onChange:d=>u(d,"address"),loading:l,enterButton:h({id:"Orders.CheckAddress"}),onSearch:y}),p.isAddressChecked&&o("span",{children:[t&&o("span",{style:{color:t?"#fb434a":"#46be8a",marginRight:"10px"},children:[h(t?{id:"Orders.TheAddressIsNotIncludedInDeliveryArea"}:{id:"Orders.TheAddressIsIncludedInDeliveryArea"}),p.isAddDeliveryFee==="Invalid"?h({id:"Orders.InvalidAddress"}):""]}),p.isAddDeliveryFee==="Invalid"&&e("span",{style:{color:"#fb434a",marginRight:"10px"},children:h({id:"Orders.InvalidAddress"})}),e("span",{children:Boolean(g)&&p.isAddDeliveryFee!=="Invalid"&&e("a",{href:g,target:"_blank",rel:"noreferrer",children:h({id:"Orders.OpenStreetMap"})})})]})]})})})}),e("div",{className:"col-md-3",children:e("div",{className:"form-group",children:e(N.Item,{label:h({id:"Orders.CheckingAddress"}),children:o("div",{children:[e(nt,{style:{marginRight:"10px"},checked:p.isAddDeliveryFee,onChange:d=>u(d,"isAddDeliveryFee")})," ",e("small",{children:h({id:"Orders.Add50kc/day"})})]})})})})]}),e("div",{className:"form-group",children:e(N.Item,{label:h({id:"Orders.KitchenDescription"}),children:e(J,{value:p.kitchenDescription,id:"checkout-kitchen",placeholder:h({id:"Orders.Comment"}),onChange:d=>u(d,"kitchenDescription")})})}),e("div",{className:"form-group",children:e(N.Item,{label:h({id:"Orders.DeliveryDescription"}),children:e(J,{value:p.deliveryDescription,id:"checkout-delivery",placeholder:h({id:"Orders.DeliveryComment"}),onChange:d=>u(d,"deliveryDescription")})})})]})};var Oe;const{Option:ue}=U,Vt=[{value:1,label:"Základní metabolismus"},{value:1.1,label:"Minimum aktivity"},{value:1.2,label:"Velmi lehká - Většinu pracovní doby nebo čas ve škole trávíte v sedě, minimum chůzce"},{value:1.3,label:"Lehká - Pracovní dobu nebo čas ve škole trávíte v sedě, část ve stoje, chodíte aspoň 30 minut denně"},{value:1.4,label:"Střední - Pracovní dobu trávíte aktivně ve stoje nebo za chůze, chodíte 60 minut denně"},{value:1.5,label:"Těžká - Těžká manuální práce"},{value:1.6,label:"Těžká 2 - Těžká manuální práce"}];let Kt=de(Oe=class extends re.Component{constructor(){super(...arguments);E(this,"state",{weight:0,height:0,age:0,gender:"Male",PAL:1,type:"mcArdle",PBF:0,calcBMR:0,total:0,BMR:0});E(this,"formRef",v.createRef());E(this,"handleChangeType",async t=>{this.setState({type:t.target.value})});E(this,"onFinish",async()=>{await this.formRef.current.validateFields();const{gender:t,age:r,weight:n,height:a,PBF:s,PAL:i,type:l}=this.state,c=370+21.6*(n-n*(s/100)-2.5),g=10*n+6.25*a-5*r+(t==="Male"?5:-161),x=l==="mcArdle"?c:g;this.setState({calcBMR:Math.round(x),total:Math.round(x*i)})});E(this,"copy",()=>{const{total:t}=this.state,{copy:r}=this.props;r(t),be.success("Copied!")});E(this,"copyBMRtoWizard",()=>{const{calcBMR:t}=this.state,{copyBMR:r}=this.props;r(t),be.success("Copied!")});E(this,"loadData",()=>{const{data:t}=this.props;this.setState({weight:t.weight,height:t.height,age:t.age,gender:t.gender,PAL:t.PAL,PBF:t.PBF,BMR:t.BMR})})}componentDidMount(){const{data:t}=this.props;this.setState({weight:t.weight,height:t.height,age:t.age,gender:t.gender,PAL:t.PAL,PBF:t.PBF,BMR:t.BMR})}componentDidUpdate(t){var n;const{data:r}=this.props;r&&t.data!==r&&((n=this.formRef.current)==null||n.setFieldsValue({weight:r.weight,height:r.height,age:r.age,gender:r.gender,PAL:r.PAL,PBF:r.PBF,BMR:r.BMR}))}onChangeField(t,r){t!==null&&t.target?t.target.type==="checkbox"?this.setState({[r]:t.target.checked}):this.setState({[r]:t.target.value}):this.setState({[r]:t})}render(){const{gender:t,PAL:r,type:n,calcBMR:a,BMR:s,total:i}=this.state,{intl:{formatMessage:l}}=this.props;return o("div",{children:[e("div",{style:{marginRight:"20px",marginBottom:"20px",textAlign:"center"},children:o(k.Group,{value:n,onChange:this.handleChangeType,children:[e(k.Button,{value:"mcArdle",children:l({id:"Orders.McArdle"})}),e(k.Button,{value:"harrisBenedict",children:l({id:"Orders.Harris-Benedict"})})]},"calcType")}),o(N,{ref:this.formRef,layout:"vertical",onFinish:this.onFinish,children:[n==="harrisBenedict"&&o(X,{gutter:16,children:[e(K,{md:12,sm:24,children:e(N.Item,{name:"gender",label:l({id:"Orders.Gender"}),rules:[{required:n!=="mcArdle",message:l({id:"Orders.PleaseChooseGender"})}],children:o(U,{placeholder:l({id:"Orders.Gender"}),value:t,onChange:c=>this.onChangeField(c,"gender"),children:[e(ue,{value:"Male",children:l({id:"Orders.Male"})},"Male"),e(ue,{value:"Female",children:l({id:"Orders.Female"})},"Female")]})})}),e(K,{md:12,sm:24,children:e(N.Item,{label:l({id:"Orders.Age"}),name:"age",rules:[{required:n!=="mcArdle",type:"number"}],children:e(V,{style:{width:"100%"},min:10,placeholder:l({id:"Orders.Age"}),onChange:c=>this.onChangeField(c,"age")})})})]}),o(X,{gutter:16,children:[e(K,{md:12,sm:24,children:e(N.Item,{label:l({id:"Orders.Weight"}),name:"weight",rules:[{required:!0,type:"number"}],children:e(V,{style:{width:"100%"},min:20,placeholder:l({id:"Orders.Weight"}),onChange:c=>this.onChangeField(c,"weight")})})}),n==="mcArdle"&&e(K,{md:12,sm:24,children:e(N.Item,{label:"PBF",name:"PBF",rules:[{required:n==="mcArdle",type:"number"}],children:e(V,{style:{width:"100%"},min:5,placeholder:l({id:"Orders.PBF"}),onChange:c=>this.onChangeField(c,"PBF")})})}),n==="harrisBenedict"&&e(K,{md:12,sm:24,children:e(N.Item,{label:l({id:"Orders.Height"}),name:"height",rules:[{required:n!=="mcArdle",type:"number"}],children:e(V,{style:{width:"100%"},min:100,placeholder:l({id:"Orders.Height"}),onChange:c=>this.onChangeField(c,"height")})})})]}),e(X,{gutter:16,children:e(K,{md:24,sm:24,children:e(N.Item,{name:"PAL",label:"PAL",rules:[{required:!0,message:l({id:"Orders.PleaseChoosePAL"})}],children:e(U,{placeholder:"Diet",value:r,onChange:c=>this.onChangeField(c,"PAL"),children:Vt.map(c=>e(ue,{value:c.value,children:`${c.value} ${c.label}`},Math.random()))})})})}),e("h4",{className:"text-black mb-3",style:{textAlign:"center"},children:o("strong",{children:[l({id:"Orders.BMRSPACE"})," ",a," kCal"]})}),e("h4",{className:"text-black mb-3",style:{textAlign:"center"},children:o("strong",{children:[l({id:"Orders.TotalSPACE"})," ",i," kCal"]})}),Boolean(s)&&e("h4",{className:"text-black mb-3",style:{textAlign:"center"},children:o("strong",{children:[l({id:"Orders.BMRDataset:SPACE"})," ",s," kCal"]})}),o("div",{className:"wizard-form-actions",children:[e(W,{style:{width:170,marginBottom:"10px"},type:"primary",htmlType:"submit",className:"mr-3",children:l({id:"Orders.Calculate"})}),e(W,{style:{width:170,marginBottom:"10px"},type:"dashed",disabled:a===0,className:"mr-3",onClick:this.copy,children:l({id:"Orders.CopyToOrder"})}),e("br",{}),e(W,{style:{width:170,marginBottom:"10px"},type:"dashed",disabled:a===0,className:"mr-3",onClick:this.copyBMRtoWizard,children:l({id:"Orders.CopyBMRToWizard"})}),e(W,{style:{width:170,marginBottom:"10px"},type:"default",className:"mr-3",onClick:this.loadData,children:l({id:"Orders.LoadFromLastDataset"})})]})]})]})}})||Oe;const Ht="_stepsContent_14vnc_1",Gt="_stepsAction_14vnc_11",Ut="_customFormField_14vnc_15",le={stepsContent:Ht,stepsAction:Gt,customFormField:Ut};var xe;let qt=de(xe=class extends re.Component{constructor(){super(...arguments);E(this,"state",{type:"kcal"});E(this,"handleChangeType",async t=>{this.setState({type:t.target.value})})}render(){const{type:t}=this.state,{customParams:r,onChange:n,intl:{formatMessage:a}}=this.props;let s=1080;return typeof window.innerWidth<"u"&&(s=window.innerWidth),o("div",{children:[e("div",{style:{marginRight:"20px",marginBottom:"20px",textAlign:"center"},children:o(k.Group,{value:t,onChange:this.handleChangeType,children:[e(k.Button,{value:"kcal",children:a({id:"Orders.AutoKcal"})}),e(k.Button,{value:"macro",children:a({id:"Orders.AutoMacro"})})]},"calcType")}),o("div",{style:{marginBottom:"20px",textAlign:"center"},children:[e(X,{gutter:16,className:le.customFormField,children:o(K,{span:24,children:[e("h5",{children:a({id:"Orders.Calories"})}),e(V,{value:r.kcal,name:"kcal",min:500,max:4500,size:"large",onChange:i=>n(i,"kcal",t),defaultValue:1700,style:{width:s<768?"100%":"350px"}})]})}),e(X,{gutter:16,className:le.customFormField,children:o(K,{span:24,children:[e("h5",{children:a({id:"Orders.Protein"})}),e(V,{value:r.prot,size:"large",name:"prot",label:"Protein",min:10,max:600,onChange:i=>n(i,"prot",t),defaultValue:100,style:{width:s<768?"100%":"350px"}})]})}),e(X,{gutter:16,className:le.customFormField,children:o(K,{span:24,children:[e("h5",{children:a({id:"Orders.Fat"})}),e(V,{value:r.fat,size:"large",name:"fat",label:"Fat",min:10,max:600,onChange:i=>n(i,"fat",t),defaultValue:100,style:{width:s<768?"100%":"350px"}})]})}),e(X,{gutter:16,className:le.customFormField,children:o(K,{span:24,children:[e("h5",{children:a({id:"Orders.Carbo"})}),e(V,{value:r.carb,size:"large",name:"carb",label:"Carbo",min:10,max:600,onChange:i=>n(i,"carb",t),defaultValue:100,style:{width:s<768?"100%":"350px"}})]})}),e("div",{className:"form-actions",children:e("h4",{children:`kCal:${r.kcal} P:${r.prot} F:${r.fat} C:${r.carb}`})})]})]})}})||xe;const Jt=[{value:"0",name:"Velmi lehká - Většinu pracovní doby nebo čas ve škole trávíte v sedě, minimum chůze (úředníci, administrativa, kancelářské práce)"},{value:"1",name:"Lehká - Pracovní dobu nebo čas ve škole trávíte v sedě, část ve stoje, chodíte aspoň 30 minut denně (laborant, řidič, prodavač/ka)"},{value:"2",name:"Střední - Pracovní dobu trávíte aktivně ve stoje nebo za chůze, chodíte 60 minut denně (číšník, poštovní doručovatelé, řemeslníci)"},{value:"3",name:"Těžká - Těžká manuální práce (stavební dělníci, zemědělství, lesníci)"}],Qt=[{value:"0",name:"Velmi lehká – Procházky, práce na zahradě, lehké domácí práce"},{value:"1",name:"Lehká – Pravidelná lehká aktivita aspoň 2x týdně (jízda na kole, lehký běh)"},{value:"2",name:"Střední – Pravidelná sportovní aktivita 2 - 4x týdně (běh, kolo, plavání, posilovna, týmové sporty apod.)"},{value:"3",name:"Náročná – Pravidelná intenzivní aktivita 4 - 6x týdně, strukturovaný trénink"},{value:"4",name:"Velmi náročná – Pravidelná výkonnostní aktivita 15 h týdně a víc, dvoufázové tréninky"}],Zt=[{value:"slow",name:"Mírné hubnutí - U této varianty, nedochází k tak velkému kalorickému deficitu, takže se můžete těšit na největší porce jídel ze všech tří programů. Pokud máte velmi nabitý a psychicky náročný životní styl, chcete zhubnout bez velkého úsilí a na výsledky tolik nespěcháte, pak je tento program vhodný pro Vás."},{value:"middle",name:"Střední hubnutí - V tomto programu je nastaven středně vysoký kalorický deficit, velikost porcí tedy bude někde uprostřed mezi mírným a intenzivním programem."},{value:"fast",name:"Rychlé hubnutí - S tímto programem zhubnete nejrychleji.Kalorický deficit je vyšší než při předchozích dvou, ale hladovět rozhodně nebudete.Pokud se chystáte zhubnout do plavek a máte odhodlání dosáhnout výsledků co nejdříve, tak je tento program ideální pro Vás."}],Xt=[{value:"none",name:"Nechodím"},{value:"beforeBreakfast",name:"Před snídaní"},{value:"beforeLunch",name:"Před obědem"},{value:"beforeDinner",name:"Před večeří"}],oe={"00":1.2,10:1.3,"01":1.3,11:1.4,"02":1.4,20:1.4,"03":1.5,12:1.5,30:1.6,13:1.6,22:1.6,31:1.7,"04":1.8,23:1.7,32:1.8,14:1.9,33:1.9,24:2,34:2.1,21:1.5},pe={loose:{1.2:{prot:.3,fat:.4,carb:.3},1.3:{prot:.3,fat:.383,carb:.317},1.4:{prot:.3,fat:.366,carb:.334},1.5:{prot:.3,fat:.349,carb:.351},1.6:{prot:.3,fat:.332,carb:.368},1.7:{prot:.3,fat:.315,carb:.385},1.8:{prot:.3,fat:.298,carb:.402},1.9:{prot:.3,fat:.281,carb:.419},2:{prot:.3,fat:.264,carb:.436},2.1:{prot:.3,fat:.247,carb:.453}},gain:{1.2:{prot:.25,fat:.25,carb:.5},1.3:{prot:.25,fat:.25,carb:.5},1.4:{prot:.25,fat:.25,carb:.5},1.5:{prot:.25,fat:.25,carb:.5},1.6:{prot:.25,fat:.25,carb:.5},1.7:{prot:.25,fat:.27,carb:.48},1.8:{prot:.25,fat:.27,carb:.48},1.9:{prot:.25,fat:.25,carb:.5},2:{prot:.25,fat:.25,carb:.516},2.1:{prot:.25,fat:.25,carb:.5}},keep:{1.2:{prot:.2,fat:.4,carb:.4},1.3:{prot:.2,fat:.4,carb:.4},1.4:{prot:.2,fat:.4,carb:.4},1.5:{prot:.2,fat:.4,carb:.4},1.6:{prot:.2,fat:.4,carb:.4},1.7:{prot:.2,fat:.4,carb:.4},1.8:{prot:.2,fat:.4,carb:.4},1.9:{prot:.2,fat:.4,carb:.4},2:{prot:.2,fat:.4,carb:.4},2.1:{prot:.2,fat:.4,carb:.4}}},ea={slow:.87,middle:.8,fast:.75};var Se;let ta=de(Se=class extends re.Component{constructor(){super(...arguments);E(this,"state",{})}componentDidMount(){const{update:t}=this.props;t()}render(){const{diet:t,wizard:r,update:n,customParams:a,intl:{formatMessage:s}}=this.props,i={display:"block",whiteSpace:"pre-wrap",lineHeight:"30px",textAlign:"justify"},l={display:"flex",alignItems:"flex-start"};return o("div",{children:[t==="loose"&&e(G,{children:s({id:"Orders.Weight loss rate"})}),t==="loose"&&e("div",{style:{marginBottom:"20px",width:"100%"},children:e(k.Group,{value:r.speed,onChange:c=>n(c,"speed"),children:Zt.map(c=>e("div",{style:l,children:e(k,{style:i,value:c.value,children:c.name})},Math.random()))},"looseSpeed")}),t==="gain"&&e(G,{children:s({id:"Orders.When do you go to training?"})}),t==="gain"&&e("div",{style:{marginBottom:"20px",width:"100%"},children:e(k.Group,{value:r.trainingTime,onChange:c=>n(c,"trainingTime"),children:Xt.map(c=>e(k,{style:i,value:c.value,children:c.name},Math.random()))},"trainingTime")}),e(G,{children:s({id:"Orders.Physical activity level - Job / school"})}),e("div",{style:{marginBottom:"20px",width:"100%"},children:e(k.Group,{value:r.activitiesWork,onChange:c=>n(c,"activitiesWork"),children:Jt.map(c=>e(k,{style:i,value:c.value,children:c.name},Math.random()))},"activeWork")}),e(G,{children:s({id:"Orders.Physical Activity Level - Leisure:"})}),e("div",{style:{marginBottom:"20px",width:"100%"},children:e(k.Group,{value:r.activitiesFree,onChange:c=>n(c,"activitiesFree"),children:Qt.map(c=>e(k,{style:i,value:c.value,children:c.name},Math.random()))},"activeFree")}),o("div",{className:"form-actions",children:[e("h4",{children:`kCal:${a.kcal} P:${a.prot} F:${a.fat} C:${a.carb}`}),e("span",{style:{float:"right"},children:`BMR ${r.BMR}`})]})]})}})||Se;O.updateLocale("en",{week:{dow:1}});const q=50,aa=[2,10,20,40,60],ra=[2,12,24,48,72],ia=({timestamp:p,length:u,size:t,update:r,onChangeStartDate:n,deliveryTime:a,onChangeDeliveryTime:s,originalPrice:i,priceWithPromo:l,promo:c,promo2:g,onChangePromo:x,onChangePromo2:P,customLength:h,onChangeCustomLength:S,customPrice:y,isCustomPrice:d,onChangeIsCustomPrice:M,onChangeParams:D,deliveryFee:C,lastOrder:R,checkBuffer:T,bufferInfo:A,creditBalance:B,useCredit:F,useCreditChecked:_,onChangeUseCredit:$,totalPrice:Y,bufferNotChecked:j})=>{const[z]=N.useForm(),{formatMessage:f}=ze(),w=O().endOf("day")>O().add(1,"days")?O().endOf("day"):O().add(1,"days");return o(N,{form:z,layout:"vertical",children:[o("div",{style:{marginBottom:"20px",textAlign:"center"},children:[e("h4",{className:"text-black mb-3",children:e("strong",{children:f({id:"Orders.ChooseDeliveryTime"})})}),e(pt,{range:!0,max:22,min:17,formatter:b=>`${b}:00`,defaultValue:a,onChange:s}),o("span",{children:[f({id:"Orders.Time:SPACE"})," ",a[0],":00-",a[1],":00"]})]}),o("div",{style:{marginBottom:"20px",textAlign:"center"},children:[e("h4",{className:"text-black mb-3",children:e("strong",{children:f({id:"Orders.ChooseDeliveryDate"})})}),e(gt,{style:{marginTop:"15px"},format:"DD-MM-YYYY",defaultValue:O(p,"DD-MM-YYYY"),disabledDate:b=>b&&b<w||b.day()!==1&&b.day()!==3&&b.day()!==5||b<O.unix(R.endTimestamp),onChange:(b,ie)=>n(ie)}),e(W,{type:"default",size:"default",onClick:()=>T(),style:{margin:"15px"},loading:j,children:f({id:"Orders.CheckBuffer"})}),o("p",{children:[f({id:"Orders.Orders:SPACE"})," ",A.currentValue,"/",A.maxValue||"∞",e("br",{}),f({id:"Orders.Availability:SPACE"}),e(ve,{color:A.status?"green":"red",children:A.status?f({id:"window.yes"}):f({id:"window.no"})})]})]}),e("div",{style:{marginBottom:"20px",textAlign:"center"},children:o("span",{children:[f({id:"Orders.CustomLengthSPACE"})," ",e(ae,{checked:h,onChange:S})]})}),o("div",{style:{marginBottom:"20px",textAlign:"center"},children:[t==="short"&&!h&&e(k.Group,{name:"length",size:"large",value:u,onChange:r,children:aa.map(b=>o(k.Button,{value:b,children:[b,f({id:"Orders.SPACEDays"})]},b))}),t==="long"&&!h&&e(k.Group,{name:"length",size:"large",value:u,onChange:r,children:ra.map(b=>o(k.Button,{value:b,children:[b,f({id:"Orders.SPACEDays"})]},b))})]}),Boolean(h)&&e("div",{style:{marginBottom:"20px",textAlign:"center"},children:e(V,{min:2,value:u,name:"customLength",onChange:r})}),e("div",{className:"d-flex justify-content-center text-center",children:e(N.Item,{name:"usecredit",label:f({id:"Orders.UseCreditBalance"}),children:e(ae,{style:{margin:"0 5px"},checked:_,onChange:$,disabled:!B||B===0})})}),e("div",{className:"d-flex justify-content-center text-center",children:e(N.Item,{name:"payfrombalance",label:f({id:"Orders.PayFromCreditBalance"}),children:e(V,{min:0,max:Math.min(B,Y),disabled:!_,value:F,onChange:b=>D(b,"useCredit")})})}),u>5&&o("div",{style:{marginRight:"20px",marginBottom:"20px",textAlign:"center"},children:[e("h4",{className:"text-black mb-3",children:e("strong",{children:f({id:"Orders.Promocode"})})}),e(J,{size:"large",style:l!==-1?{borderColor:"green"}:{},value:c,onChange:b=>x(b)}),e(J,{size:"large",style:{marginTop:10,borderColor:l!==-1?"green":""},value:g,onChange:b=>P(b)})]}),o("div",{style:{marginRight:"20px",marginBottom:"20px",textAlign:"center"},children:[e("h4",{className:"text-black mb-3",children:e("strong",{children:f({id:"Orders.OrderPrice"})})}),l===-1&&o("h2",{className:"text-black mb-3",children:[e("strong",{children:i}),e("br",{}),o("small",{children:[f({id:"Orders.Delivery:SPACE"}),Math.round(C.length*q*Number(C.isAddDeliveryFee))," ","Kč"]})]}),l!==-1&&e("h2",{className:"text-black mb-3",children:o("strong",{children:[e("strike",{children:Math.round(i)})," ",l,e("br",{}),o("small",{children:[f({id:"Orders.Delivery:SPACE"}),Math.round(C.length*q*Number(C.isAddDeliveryFee))," ","Kč"]})]})})]}),o("div",{style:{marginRight:"20px",marginBottom:"20px",textAlign:"center"},children:[e("h4",{className:"text-black mb-3",children:e("strong",{children:f({id:"Orders.OriginalPrice"})})}),l===-1&&e("h2",{className:"text-black mb-3",children:e("strong",{children:i+C.length*q*Number(C.isAddDeliveryFee)})}),l!==-1&&e("h2",{className:"text-black mb-3",children:o("strong",{children:[e("strike",{children:i+C.length*q*Number(C.isAddDeliveryFee)})," ",l+C.length*q*Number(C.isAddDeliveryFee)]})})]}),o("div",{style:{marginRight:"20px",marginBottom:"20px",textAlign:"center"},children:[e("h4",{className:"text-black mb-3",children:e("strong",{children:f({id:"Orders.TotalPrice"})})}),l===-1&&e("h2",{className:"text-black mb-3",children:e("strong",{children:i+C.length*q*Number(C.isAddDeliveryFee)-F})}),l!==-1&&e("h2",{className:"text-black mb-3",children:o("strong",{children:[e("strike",{children:i+C.length*q*Number(C.isAddDeliveryFee)-F})," ",l+C.length*q*Number(C.isAddDeliveryFee)-F]})})]}),e("div",{style:{marginBottom:"20px",textAlign:"center"},children:o("span",{children:[f({id:"Orders.CustomPrice:SPACE"})," ",e(ae,{checked:d,onChange:M})]})}),Boolean(d)&&e("div",{style:{marginBottom:"20px",textAlign:"center"},children:e(V,{min:0,value:y,name:"customPrice",onChange:b=>D(b,"customPrice")})})]})},sa="_stepsContent_14vnc_1",na="_stepsAction_14vnc_11",la="_customFormField_14vnc_15",De={stepsContent:sa,stepsAction:na,customFormField:la};var Ae,ee;O.updateLocale("en",{week:{dow:1}});const{Step:oa}=Ye,{Option:te}=U,ge={2:2,10:12,12:10,20:24,24:20,40:48,48:40,60:72,72:60};let $a=(Ae=lt(({settings:p})=>({settings:p})),de(ee=Ae(ee=ot(ee=class extends re.Component{constructor(t){super(t);E(this,"state",{diet:"loose",method:"wizard",mealsPerDay:5,kitchen:"",size:"short",salad:!1,exeptions:[],tags:[],selectedKitchen:"",prefferedKitchen:"",allKitchens:[{id:"",name:"-"}],length:20,deliveryTime:[17,22],promo:"",promo2:"",current:0,user:{id:"",name:"",inBodyId:0,email:"",phone:"",address:"",kitchenDescription:"",deliveryDescription:"",isAddressChecked:!1,isAddDeliveryFee:!1,lastDataset:{age:"",weight:"",height:"",sex:"Male",PBF:"",BMR:""}},isGlobalDeliveryFee:!1,timestamp:O().add(2,"days").format("DD-MM-YYYY"),customParams:{kcal:1700,prot:100,fat:100,carb:100},pricePerDay:0,originalPrice:0,priceWithPromo:-1,menu:[],loading:!1,isNotCreated:!1,orderDays:[],orderId:"",customLength:!1,lastOrder:{},wizard:{trainingTime:"beforeBreakfast",speed:"middle",activitiesWork:"0",activitiesFree:"0",BMR:1700,gender:"Female"},calculatorVisible:!0,sendEmail:!1,isOffer:!1,isCustomPrice:!1,customPrice:0,bufferInfo:{timestamp:0,kitchen:"",status:!1,currentValue:0,maxValue:0,currentBuffer:0},pickupPoint:"",pickupPoints:[],creditBalance:0,useCredit:0,useCreditChecked:!1,totalPrice:0,bufferNotChecked:!1,pickupPointChecked:!1,checkingIsAvailable:!1,classMenu:"Normal"});E(this,"checkBuffer",async()=>{this.setState({bufferNotChecked:!0});const{timestamp:t,user:r,prefferedKitchen:n}=this.state;ft(r.id,t).then(async a=>{if(a.status!==401){const s=await a.json();this.setState({kitchen:s.result.id,bufferNotChecked:!1}),await At(t,n!==""?n:s.result.id).then(async i=>{if(i.ok){const l=await i.json();this.setState({bufferInfo:l.result,bufferNotChecked:!1})}else se.error({message:"Error",description:i.statusText}),this.setState({bufferNotChecked:!1})})}})});E(this,"checkIsAvailable",async()=>{this.setState({checkingIsAvailable:!0});const{timestamp:t,length:r,pickupPoints:n}=this.state,a=O(t,"DD-MM-YYYY").format("YYYY-MM-DD"),s=O(a,"YYYY-MM-DD").add(r-1,"days").format("YYYY-MM-DD");for await(const i of n)xt(i.id,a,s).then(async l=>{if(l.status===200){const g=(await l.json()).result.map(x=>x.orders.length);i.currentValue=Math.max(...g),this.setState({pickupPoints:n})}});this.setState({pickupPointChecked:!0,checkingIsAvailable:!1})});this.onChangeparams=this.onChangeparams.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onChangeMeals=this.onChangeMeals.bind(this),this.onChangeCustom=this.onChangeCustom.bind(this),this.copyCalcData=this.copyCalcData.bind(this),this.onChangeSalad=this.onChangeSalad.bind(this),this.onChangeOrderParams=this.onChangeOrderParams.bind(this),this.onChangeOrderLength=this.onChangeOrderLength.bind(this),this.onChangeStartDate=this.onChangeStartDate.bind(this),this.getStartDate=this.getStartDate.bind(this),this.onChangeDeliveryTime=this.onChangeDeliveryTime.bind(this),this.onChangePromo=this.onChangePromo.bind(this),this.onChangePromo2=this.onChangePromo2.bind(this),this.createOrder=this.createOrder.bind(this),this.onChangeCustomLength=this.onChangeCustomLength.bind(this),this.updateWizard=this.updateWizard.bind(this),this.copyBMR=this.copyBMR.bind(this),this.showCalculator=this.showCalculator.bind(this),this.onChangeSendEmail=this.onChangeSendEmail.bind(this),this.onChangeIsOffer=this.onChangeIsOffer.bind(this),this.onChangeParams=this.onChangeParams.bind(this),this.onChangeIsCustomPrice=this.onChangeIsCustomPrice.bind(this),this.onChangeUseCredit=this.onChangeUseCredit.bind(this),this.onChangeKitchen=this.onChangeKitchen.bind(this),this.onChangeTags=this.onChangeTags.bind(this),this.checkIsAvailable=this.checkIsAvailable.bind(this)}componentDidMount(){const{currentBranch:t}=this.props.settings,{props:r}=this;this.getStartDate(),vt(r.match.params.id).then(async a=>{const s=await a.json();this.setState(i=>{var l,c,g;return{user:{name:s.name,inBodyId:s.inBodyId,email:s.email,phone:s.phone,address:s.address,lastDataset:((l=s==null?void 0:s.lastDataSet)==null?void 0:l.status)==="Available"?s.lastDataSet.data:i.user.lastDataset,id:s.id,isAddDeliveryFee:!1},wizard:{trainingTime:"none",speed:"middle",activitiesWork:"0",activitiesFree:"0",BMR:((c=s==null?void 0:s.lastDataSet)==null?void 0:c.status)==="Available"?s.lastDataSet.data.BMR:1700},calculatorVisible:((g=s==null?void 0:s.lastDataSet)==null?void 0:g.status)!=="Available",creditBalance:s.creditBalance}})}),setTimeout(()=>{const a=new URLSearchParams(r.location.search),{user:s}=this.state;if(a.get("preset")){const i=Number(a.get("kcal")),l=Number(a.get("mealsPerDay")),c=a.get("size"),g=Number(a.get("length")),x=Number(a.get("customLength"));s.deliveryDescription=a.get("deliveryDescription");const P=String(a.get("deliveryTime")).split(","),h=a.get("diet"),S=a.get("promocode"),y=a.get("promocode2");this.onChangeCustom(i,"kcal","macro"),this.setState({length:g,size:c,mealsPerDay:l,salad:l!==2,method:"custom",customLength:x,deliveryTime:P,user:s,diet:h,promo:S,promo2:y})}},1200),r.match.params.prolong&&yt(r.match.params.prolong).then(async a=>{setTimeout(async()=>{const{user:s}=this.state,i=await a.json();a.status===200&&(s.address=i.result.user.address,s.email=i.result.user.email,s.phone=i.result.user.phone,s.isAddressChecked=!1,this.setState({lastOrder:i.result,length:i.result.length,size:i.result.size,deliveryTime:i.result.deliveryRange,mealsPerDay:i.result.mealsPerDay,diet:i.result.diet,customParams:i.result.nutrients,salad:i.result.saladOnDinner,pickupPoint:i.result.pickupPoint.id,user:s}),this.getStartDate(St(i.result.timestamp,i.result.length,i.result.size,i.result.pauses)))},1e3)}),t&&Ot({branchId:t}).then(async a=>{if(a.status!==401){const s=await a.json();this.setState({pickupPoints:s.result})}}),Nt().then(async a=>{if(a.status!==401){const s=await a.json();this.setState({allKitchens:s,selectedKitchen:s[0].id})}}),Ct(!0).then(async a=>{if(a.status===401){const{dispatch:s}=this.props;s({type:"user/SET_STATE",payload:{authorized:!1}});return}if(a.status===200){const s=await a.json();this.setState({tags:s.result})}});const{length:n}=this.state;this.onChangeOrderLength({target:{value:n}})}onChangeparams(t){const{method:r}=this.state;this.setState({[t.target.name]:t.target.value}),r==="wizard"&&setTimeout(()=>this.updateWizard(),1e3)}onChangeMethod(t){this.setState({[t.target.name]:t.target.value})}onChangeSalad(t){this.setState({salad:t})}onChangeCustomLength(t){this.setState({customLength:t})}onChangeIsCustomPrice(t){this.setState({isCustomPrice:t})}onChangeSendEmail(t){this.setState(r=>({sendEmail:t,isOffer:t?!1:r.isOffer}))}onChangeIsOffer(t){this.setState(r=>({isOffer:t,sendEmail:t?!1:r.sendEmail}))}onChangeMeals(t){this.setState({mealsPerDay:t})}onChangeCustom(t,r,n){const{customParams:a}=this.state;a[r]=t,r==="kcal"&&n!=="kcal"?(a.prot=Math.round(a.kcal*.3/4),a.fat=Math.round(a.kcal*.3/9),a.carb=Math.round(a.kcal*.4/4)):r!=="kcal"&&n==="kcal"&&(a.kcal=Math.round(4*a.prot+9*a.fat+4*a.carb)),this.setState({customParams:a})}onChangeOrderParams(t,r){const{user:n}=this.state;r==="pickupPoint"&&this.setState({pickupPoint:t}),r==="isGlobalDeliveryFee"&&this.setState({isGlobalDeliveryFee:t}),r==="address"&&(n.isAddressChecked=!1,this.setState({user:n})),t!==null&&t.target?t.target.type==="checkbox"?(n[r]=t.target.checked,this.setState({user:n})):(n[r]=t.target.value,this.setState({user:n})):(n[r]=t,this.setState({user:n}))}onChangeKitchen(t){t!==null&&this.setState({selectedKitchen:t.key})}onChangeUseCredit(){const{creditBalance:t,originalPrice:r,length:n,user:a}=this.state,i=r+n*50*Number(a.isAddDeliveryFee),l=this.state.useCreditChecked?0:Math.min(Number(t),i);this.setState(c=>({useCreditChecked:!c.useCreditChecked,useCredit:l,totalPrice:i}))}onChangeParams(t,r){let n=t;t!==null&&t.target&&(t.target.type==="checkbox"?n=t.target.checked:n=t.target.value),this.setState({[r]:n})}onChangeTags(t,r){t.target?t.target.type==="checkbox"?this.setState({[r]:t.target.checked}):this.setState({[r]:t.target.value}):this.setState({[r]:t})}onChangeOrderLength(t){const{length:r,mealsPerDay:n,customParams:a,promo:s,promo2:i}=this.state,{currentBranch:l}=this.props.settings;let c=t;t!==null&&t.target&&(c=t.target.value),bt({length:c,customParams:a,mealsPerDay:n,branchId:l}).then(async g=>{const x=await g.json();this.setState({pricePerDay:Number(x.price),originalPrice:Number(x.orderPrice)}),setTimeout(()=>{const{pricePerDay:P}=this.state;t!==null&&t.target?t.target.name==="length"?(this.setState(h=>({length:t.target.value,originalPrice:h.pricePerDay*t.target.value})),t.target.value===5?this.setState({priceWithPromo:-1}):this.priceWithPromo(P*t.target.value,s)):t.target.name==="size"&&(this.setState({size:t.target.value,length:ge[r],originalPrice:P*ge[r]}),this.priceWithPromo(P*ge[r],s)):(this.setState(h=>({length:t,originalPrice:h.pricePerDay*t})),t===5?this.setState({priceWithPromo:-1}):this.priceWithPromo(P*t,s))},1e3)})}onChangeStartDate(t){this.setState({timestamp:t}),setTimeout(()=>{this.checkBuffer()},300)}onChangeDeliveryTime(t){this.setState({deliveryTime:t})}onChangePromo(t){const{originalPrice:r}=this.state;this.setState({promo:t.target.value}),this.priceWithPromo(r,t.target.value,this.state.promo2)}onChangePromo2(t){const{originalPrice:r}=this.state;this.setState({promo2:t.target.value}),this.priceWithPromo(r,this.state.promo,t.target.value)}getStartDate(t=!1){if(t){O.utc().unix()<t&&([2,5,7].indexOf(O.unix(t).isoWeekday())!==-1?this.setState({timestamp:O.unix(t).add(3,"days").format("DD-MM-YYYY")}):[1,4].indexOf(O.unix(t).isoWeekday())!==-1?this.setState({timestamp:O.unix(t).add(4,"days").format("DD-MM-YYYY")}):[3,6].indexOf(O.unix(t).isoWeekday())!==-1&&this.setState({timestamp:O.unix(t).add(2,"days").format("DD-MM-YYYY")}));return}[2,5,7].indexOf(O.utc().isoWeekday())!==-1?this.setState({timestamp:O.utc().add(3,"days").format("DD-MM-YYYY")}):[1,4].indexOf(O.utc().isoWeekday())!==-1?this.setState({timestamp:O.utc().add(4,"days").format("DD-MM-YYYY")}):[3,6].indexOf(O.utc().isoWeekday())!==-1&&this.setState({timestamp:O.utc().add(2,"days").format("DD-MM-YYYY")})}showCalculator(){this.setState(t=>({calculatorVisible:!t.calculatorVisible}))}priceWithPromo(t,r,n){const{currentBranch:a}=this.props.settings;a&&r?kt({originalPrice:t,promoCode:r,promoCode2:n,branchId:a}).then(async s=>{const i=await s.json();s.status===200?this.setState({priceWithPromo:i.price}):this.setState({priceWithPromo:-1})}):this.setState({priceWithPromo:-1})}copyCalcData(t){const{customParams:r}=this.state;r.kcal=t,this.onChangeCustom(t,"kcal","macro")}copyBMR(t){const{wizard:r}=this.state;r.BMR=t,this.setState({wizard:r}),setTimeout(()=>this.updateWizard(),1e3)}updateWizard(t,r){const{diet:n,wizard:a,customParams:s}=this.state;t&&(a[r]=t.target.value);const i=n==="loose"?ea[a.speed]:1,l=n==="gain"?1.08:1;s.kcal=Math.round(a.BMR*oe[a.activitiesWork+a.activitiesFree]*i*l),s.prot=Math.round(s.kcal*pe[n][oe[a.activitiesWork+a.activitiesFree]].prot/4),s.fat=Math.round(s.kcal*pe[n][oe[a.activitiesWork+a.activitiesFree]].fat/9),s.carb=Math.round(s.kcal*pe[n][oe[a.activitiesWork+a.activitiesFree]].carb/4),this.setState({wizard:a,customParams:s})}next(){let{current:t}=this.state;const{size:r,user:n,length:a}=this.state;if(t+=1,t===3)if(!n.address||n.address===""||n.email===""||n.phone==="")se.error({message:"Error",description:"Please input required fields!"});else{const{timestamp:s}=this.state,i=O.utc(s,"DD-MM-YYYY").unix(),l=Dt(i,a,r);this.setState({orderDays:l,current:t})}else this.setState({current:t})}prev(){let{current:t}=this.state;t-=1,this.setState({current:t})}async createOrder(){const{user:t,diet:r,size:n,length:a,mealsPerDay:s,customParams:i,deliveryTime:l,promo:c,promo2:g,timestamp:x,salad:P,exeptions:h,method:S,sendEmail:y,isOffer:d,lastOrder:M,isCustomPrice:D,customPrice:C,kitchen:R,isGlobalDeliveryFee:T,pickupPoint:A,useCredit:B,classMenu:F}=this.state,{settings:{currentBranch:_},intl:{formatMessage:$}}=this.props,{props:Y}=this;if(!t.phone||!t.email)return;const j=Boolean(M.id),z={email:t.email,name:t.name,phone:t.phone,address:t.address,PAL:"1_2",diet:r,length:a,kitchenDescription:t.kitchenDescription,deliveryDescription:j?t.deliveryDescription||"":`${t.deliveryDescription||""} Preferovaný čas doručení: ${l[0]}.00-${l[1]}.00`,size:n,deliveryTime:Y.match.params.prolong?M.deliveryTime:l,deliveryRange:l,mealsPerDay:s,speed:"slow",trainingTime:"none",userId:t.id,oneDishOnMeal:!0,saladOnDinner:P,exeptions:h,type:S,isOffer:d,sendEmail:y,isAddDeliveryFee:t.isAddDeliveryFee,customPrice:D?C:!1,kitchen:R,pickupPoint:A,onApproveDeliveryFee:T&&!t.isAddDeliveryFee,useCredit:B,branchId:_,classMenu:F};c&&a>5&&(z.promoCode=c,z.promoCode2=g),z.wizardSteps="",z.timestamp=O.utc(x,"DD-MM-YYYY").unix(),z.customParams={energy:i.kcal,prot:i.prot,fat:i.fat,carbo:i.carb},this.setState({isNotCreated:!0});const f=await Pt(z);if(f.status===202){const w=await f.json();se.success({message:$({id:"window.success"}),description:$({id:"Orders.OrderSuccessfullyCreated"})}),this.setState({orderId:w.orderId,isNotCreated:!1})}else se.error({message:$({id:"window.error"}),description:f.statusText}),this.setState({isNotCreated:!1})}render(){const{current:t,diet:r,method:n,customParams:a,mealsPerDay:s,user:i,menu:l,loading:c,isNotCreated:g,pricePerDay:x,size:P,salad:h,exeptions:S,tags:y,length:d,timestamp:M,deliveryTime:D,originalPrice:C,promo:R,promo2:T,priceWithPromo:A,orderDays:B,orderId:F,customLength:_,wizard:$,calculatorVisible:Y,sendEmail:j,isOffer:z,lastOrder:f,isCustomPrice:w,customPrice:b,bufferInfo:ie,kitchen:Le,isGlobalDeliveryFee:Ce,pickupPoints:_e,pickupPoint:me,creditBalance:$e,useCreditChecked:je,useCredit:H,totalPrice:We,bufferNotChecked:Ve,allKitchens:Ke,prefferedKitchen:He,selectedKitchen:Ge,pickupPointChecked:ye,checkingIsAvailable:Ue,classMenu:qe}=this.state,{intl:{formatMessage:m}}=this.props,Je=B.map(I=>O.unix(Number(I)).format("DD-MM-YYYY")),Z=[{title:m({id:"Orders.Diet&Macronutrients"}),icon:e(wt,{style:{fontSize:40}}),content:o("div",{className:"row",children:[o("div",{className:`col-md-${Y?8:12} col-xs-12`,children:[o("div",{style:{marginBottom:"10px"},children:[e("div",{style:{marginRight:"10px",marginBottom:"10px",display:"inline-block"},children:o(k.Group,{onChange:this.onChangeMethod,name:"method",value:n,children:[e(k.Button,{value:"wizard",children:m({id:"Orders.Wizard"})}),e(k.Button,{value:"custom",children:m({id:"Orders.Custom"})})]})}),e("div",{style:{marginRight:"10px",marginBottom:"10px",display:"inline-block"},children:o(k.Group,{name:"diet",onChange:this.onChangeparams,value:r,children:[e(k.Button,{value:"loose",children:m({id:"Orders.Loose"})}),e(k.Button,{value:"keep",children:m({id:"Orders.Keep"})}),e(k.Button,{value:"gain",children:m({id:"Orders.Gain"})})]},"diet")}),e("div",{style:{marginRight:"10px",marginBottom:"10px",display:"inline-block"},children:o(k.Group,{name:"size",onChange:this.onChangeparams,value:P,children:[e(k.Button,{value:"short",children:m({id:"Orders.Short"})}),e(k.Button,{value:"long",children:m({id:"Orders.Long"})})]},"size")}),e("div",{style:{marginRight:"10px",marginBottom:"10px",display:"inline-block"},children:o(U,{value:qe,onChange:I=>this.onChangeParams(I,"classMenu"),children:[e(te,{value:"Normal",children:"Default"},"Normal"),e(te,{value:"Vegetarian",children:"VEGE"},"Vegetarian")]})}),o(U,{placeholder:m({id:"Orders.MealsPerDay"}),name:"mealsPerDay",value:s,onChange:this.onChangeMeals,style:{marginRight:"10px",marginBottom:"10px"},children:[e(te,{value:2,children:m({id:"Orders.HomeOffice"})},"2"),e(te,{value:3,children:m({id:"Orders.3Meals"})},"3"),e(te,{value:5,children:m({id:"Orders.5Meals"})},"5")]}),e(U,{placeholder:m({id:"Orders.Exception tag"}),mode:"multiple",value:S,onChange:I=>this.onChangeTags(I,"exeptions"),size:"default",style:{marginBottom:"10px",minWidth:"127px"},children:y.map(I=>e(te,{disabled:S.length!==0&&S[0]!==I.id,value:I.id,children:I.title},I.id))}),o("span",{style:{marginLeft:"10px"},children:[m({id:"Orders.SaladSPACE"}),e(ae,{style:{marginLeft:"10px"},checked:h,onChange:this.onChangeSalad})]}),!Y&&e("span",{style:{float:"right"},children:e(W,{type:"primary",className:"mr-3",onClick:this.showCalculator,children:m(Y?{id:"Orders.HideCalculator"}:{id:"Orders.ShowCalculator"})})})]}),e("div",{className:"card",style:{border:"1px solid"},children:o("div",{className:"card-body",children:[n==="custom"&&e("div",{children:e(qt,{customParams:a,onChange:this.onChangeCustom})}),n==="wizard"&&e("div",{style:{marginBottom:"5px",textAlign:"center"},children:i.lastDataset.weight?e(ve,{color:"green",children:m({id:"Orders.MeasurementsAreAvailable"})}):o(ve,{color:"red",children:[m({id:"Orders.MeasurementsAreMissing"}),e("br",{}),m({id:"Orders.UsetheCalculatorAndCopyTheBMROrChooseCustom"})]})}),n==="wizard"&&e(ta,{diet:r,wizard:$,update:this.updateWizard,customParams:a})]})})]}),Y&&e("div",{className:"col-md-4 col-xs-12",children:e("div",{className:"card",style:{border:"1px solid"},children:e("div",{className:"card-body",children:o("div",{children:[e("div",{style:{textAlign:"center",marginBottom:"5px"},children:e(W,{type:"primary",className:"mr-3",onClick:this.showCalculator,children:m(Y?{id:"Orders.HideCalculator"}:{id:"Orders.ShowCalculator"})})}),e(Kt,{data:{weight:i.lastDataset.weight,height:i.lastDataset.height,age:i.lastDataset.age,gender:i.lastDataset.sex,PBF:i.lastDataset.PBF,BMR:i.lastDataset.BMR,PAL:1},copy:this.copyCalcData,copyBMR:this.copyBMR})]})})})})]})},{title:"Order parameters",icon:e(Tt,{style:{fontSize:40}}),content:o("div",{className:"row",children:[e("div",{className:"col-md-7 col-sm-12",children:e(Wt,{user:i,isGlobalDeliveryFee:Ce,pickupPoints:_e,pickupPoint:me,update:this.onChangeOrderParams,checkIsAvailable:this.checkIsAvailable,checkingIsAvailable:Ue,pickupPointChecked:ye})}),e("div",{className:"col-md-5 col-sm-12",children:e(ia,{update:this.onChangeOrderLength,size:P,length:d,timestamp:M,deliveryTime:D,onChangeDeliveryTime:this.onChangeDeliveryTime,onChangeStartDate:this.onChangeStartDate,onChangeKitchen:this.onChangeKitchen,allKitchens:Ke,prefferedKitchen:He,selectedKitchen:Ge,promo:R,promo2:T,originalPrice:C,priceWithPromo:A,onChangePromo:this.onChangePromo,onChangePromo2:this.onChangePromo2,customLength:_,onChangeCustomLength:this.onChangeCustomLength,isProlong:Boolean(f.id),onChangeIsCustomPrice:this.onChangeIsCustomPrice,onChangeParams:this.onChangeParams,isCustomPrice:w,customPrice:b,lastOrder:f,deliveryFee:{isAddDeliveryFee:i.isAddDeliveryFee,length:d},kitchen:Le,bufferInfo:ie,checkBuffer:this.checkBuffer,creditBalance:$e,useCreditChecked:je,onChangeUseCredit:this.onChangeUseCredit,useCredit:H,totalPrice:We,bufferNotChecked:Ve})})]})},{title:"Confirmation",icon:e(It,{style:{fontSize:40}}),content:o("div",{className:"row",children:[e("div",{className:"col-md-4 col-sm-12",children:e("div",{className:"card",style:{border:"1px solid"},children:o("div",{className:"card-body",children:[e(G,{children:"Customer"}),e("strong",{children:m({id:"Orders.Name:SPACE"})}),i.name," ",e("br",{}),e("strong",{children:m({id:"Orders.InBodyID:SPACE"})}),i.inBodyId,e("br",{}),e("strong",{children:m({id:"Orders.Phone:SPACE"})}),i.phone,e("br",{}),e("strong",{children:m({id:"Orders.Email:SPACE"})}),i.email,e(G,{children:m({id:"Orders.Order"})}),e("strong",{children:m({id:"Orders.Diet:SPACE"})}),r,e("br",{}),e("strong",{children:m({id:"Orders.OtherLength:SPACE"})}),d,e("br",{}),e("strong",{children:m({id:"Orders.WeekSize:SPACE"})}),P,e("br",{}),e("strong",{children:m({id:"Orders.MealsPerDay:SPACE"})}),s,e("br",{}),e("strong",{children:m({id:"Orders.Salad:SPACE"})}),m(h?{id:"window.yes"}:{id:"window.no"}),e("br",{}),e("strong",{children:m({id:"Orders.KitchenComment:SPACE"})}),i.kitchenDescription,e(G,{children:m({id:"Orders.Delivery"})}),e("strong",{children:m({id:"Orders.FirstDeliveryDate:SPACE"})}),M,e("br",{}),e("strong",{children:m({id:"Orders.Address:SPACE"})}),i.address,e("br",{}),e("strong",{children:m({id:"Orders.DeliveryComment:SPACE"})}),i.deliveryDescription,e("br",{}),e("strong",{children:m({id:"Orders.DeliveryTime:SPACE"})}),D[0],":00 - ",D[1],":00",e("br",{})]})})}),o("div",{className:"col-md-4 col-sm-12",children:[e("div",{className:"card",style:{border:"1px solid"},children:e("div",{className:"card-body",children:o("div",{style:{display:"flex",justifyContent:"center"},children:[e(ne,{style:{},title:"kCal",value:a.kcal}),e(ne,{style:{marginLeft:"15px"},title:m({id:"Orders.Protein"}),value:a.prot}),e(ne,{style:{marginLeft:"15px"},title:m({id:"Orders.Fat"}),value:a.fat}),e(ne,{style:{marginLeft:"15px"},title:m({id:"Orders.Carbo"}),value:a.carb})]})})}),e("div",{className:"card",style:{border:"1px solid"},children:o("div",{className:"card-body",children:[e(G,{children:m({id:"Orders.Price"})}),e("strong",{children:m({id:"Orders.Promocode:SPACE"})}),R!==""?R:"-",T!==""?`, ${T}`:"",e("br",{}),e("strong",{children:m({id:"Orders.PriceWithPromocode:SPACE"})}),A!==-1?`${A} Kč`:"-",e("br",{}),e("strong",{children:m({id:"Orders.Discount:SPACE"})}),A!==-1?`${C-A} Kč`:"-",e("br",{}),e("strong",{children:m({id:"Orders.Delivery:SPACE"})}),i.isAddDeliveryFee?`${50*d} Kč`:"-",e("br",{}),e("strong",{children:m({id:"Orders.UsedCreditBalance:SPACE"})}),H?`${H} Kč`:"-",e("br",{}),e("strong",{children:m({id:"Orders.PricePerDay:SPACE"})}),x," Kč",e("br",{}),e("strong",{children:m({id:"Orders.OriginalPrice:SPACE"})}),C," Kč",e("br",{}),e("strong",{children:m({id:"Orders.TotalPrice:SPACE"})}),A!==-1?`${A+(i.isAddDeliveryFee?50*d:0)-H} Kč`:`${C+(i.isAddDeliveryFee?50*d:0)-H} Kč`,e("br",{}),e("strong",{children:m({id:"Orders.CustomPrice:SPACE"})}),w?`${b-H} Kč`:"-",e("br",{}),e(G,{children:m({id:"Orders.TotalPrice"})}),w&&o("h3",{style:{textAlign:"center"},children:[b-H," Kč"]}),!w&&o("h3",{style:{textAlign:"center"},children:[A!==-1?A+(i.isAddDeliveryFee?50*d:0)-H:C+(i.isAddDeliveryFee?50*d:0)-H," ","Kč"]})]})})]}),e("div",{className:"col-md-4 col-sm-12",children:e("div",{className:"card",style:{border:"1px solid"},children:e("div",{className:"card-body",children:e(mt,{highlightedDays:Je})})})})]})}];return o("div",{children:[F!==""&&e(ct,{to:`/orders/${F}`}),e(dt,{title:"Create order"}),e("div",{className:"card",children:e("div",{className:"card-body",children:o("div",{className:"cart",children:[e(Ye,{current:t,children:Z.map(I=>e(oa,{title:I.title,icon:I.icon},I.title))}),e("div",{className:De.stepsContent,children:Z[t].content}),o("div",{className:`${De.stepsAction} text-center`,children:[t>0&&e(W,{style:{marginRight:8},onClick:()=>this.prev(),children:m({id:"Orders.Previous"})}),t<Z.length-1&&e(W,{type:"primary",disabled:t===Z.length-2&&(!i.isAddressChecked&&!me||!ie.status||!ye&&me!==""),loading:c,onClick:()=>this.next(),children:Ce&&!i.isAddDeliveryFee?m({id:"Orders.NextWithApproval"}):m({id:"Orders.Next"})}),t===Z.length-1&&o("span",{children:[m({id:"Orders.SendEmailSPACE"}),e(ae,{checked:j,onChange:this.onChangeSendEmail})]}),t===Z.length-1&&o("span",{children:[m({id:"Orders.OfferSPACE"}),e(ae,{checked:z,onChange:this.onChangeIsOffer})]}),t===Z.length-1&&e(W,{style:{marginLeft:8},type:"primary",onClick:this.createOrder,loading:g,children:m({id:"Orders.CreateOrder"})})]})]})})})]})}})||ee)||ee)||ee);export{$a as default};
