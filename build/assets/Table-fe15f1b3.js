import{r as l,A as ct,_ as K,aK as wa,d as G,y as yr,as as En,h as A,q as Fe,aL as Ye,i as te,l as M,Q as ba,e as le,aD as Nn,aC as Cr,aM as Bt,aN as zn,aO as Ka,aP as Bn,an as Ra,aQ as Wn,aq as lt,aR as kn,z as xr,at as Sr,au as Er,av as Nr,aS as pt,aw as kr,f as Da,aT as Oa,am as St,C as Ft,aU as wr,a2 as Pa,L as Ta,P as Vn,U as Un,g as La,aV as Ma,I as Ia,aW as $a,B as jn,aX as br,aY as Gn,a6 as jt,aZ as Kr,a_ as qn,a$ as Fa,b0 as Rr,ap as Aa,b1 as _a,b2 as Ha,T as za,b3 as Ba,S as Wa,b4 as Va,b5 as Ua,x as ja,b6 as Ga}from"./index-c20b5e8e.js";import{i as qa}from"./styleChecker-a7b568e2.js";import{P as Xa}from"./Pagination-e2a53e90.js";var Ya={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const Qa=Ya;var Dr=function(n,a){return l.createElement(ct,K(K({},n),{},{ref:a,icon:Qa}))};Dr.displayName="CaretDownFilled";const Za=l.forwardRef(Dr);var Ja={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};const eo=Ja;var Or=function(n,a){return l.createElement(ct,K(K({},n),{},{ref:a,icon:eo}))};Or.displayName="CaretDownOutlined";const to=l.forwardRef(Or);var no={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};const ro=no;var Pr=function(n,a){return l.createElement(ct,K(K({},n),{},{ref:a,icon:ro}))};Pr.displayName="CaretUpOutlined";const ao=l.forwardRef(Pr);var oo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};const io=oo;var Tr=function(n,a){return l.createElement(ct,K(K({},n),{},{ref:a,icon:io}))};Tr.displayName="FilterFilled";const lo=l.forwardRef(Tr);var co={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const so=co;var Lr=function(n,a){return l.createElement(ct,K(K({},n),{},{ref:a,icon:so}))};Lr.displayName="FolderOpenOutlined";const uo=l.forwardRef(Lr);var fo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const vo=fo;var Mr=function(n,a){return l.createElement(ct,K(K({},n),{},{ref:a,icon:vo}))};Mr.displayName="FolderOutlined";const po=l.forwardRef(Mr);var ho={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};const mo=ho;var Ir=function(n,a){return l.createElement(ct,K(K({},n),{},{ref:a,icon:mo}))};Ir.displayName="HolderOutlined";const go=l.forwardRef(Ir);var yo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Co=yo;var $r=function(n,a){return l.createElement(ct,K(K({},n),{},{ref:a,icon:Co}))};$r.displayName="MinusSquareOutlined";const xo=l.forwardRef($r);var So={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const Eo=So;var Fr=function(n,a){return l.createElement(ct,K(K({},n),{},{ref:a,icon:Eo}))};Fr.displayName="PlusSquareOutlined";const No=l.forwardRef(Fr);function ko(e){return null}function wo(e){return null}var bo="RC_TABLE_KEY";function Ar(e){return e==null?[]:Array.isArray(e)?e:[e]}function _r(e,n){if(!n&&typeof n!="number")return e;for(var a=Ar(n),t=e,i=0;i<a.length;i+=1){if(!t)return null;var s=a[i];t=t[s]}return t}function Xt(e){var n=[],a={};return e.forEach(function(t){for(var i=t||{},s=i.key,d=i.dataIndex,r=s||Ar(d).join("-")||bo;a[r];)r="".concat(r,"_next");a[r]=!0,n.push(r)}),n}function un(e){return e!=null}var Hr=l.createContext(!1);function Ko(){var e=l.createContext(null),n=function(t){var i=t.value,s=t.children,d=l.useRef(i);d.current=i;var r=l.useState(function(){return{getValue:function(){return d.current},listeners:new Set}}),o=G(r,1),c=o[0];return yr(function(){c.listeners.forEach(function(f){f(i)})},[i]),l.createElement(e.Provider,{value:c},s)};return{Context:e,Provider:n}}function Ro(e,n){var a=wa(n),t=l.useContext(e==null?void 0:e.Context),i=t||{},s=i.listeners,d=i.getValue,r=l.useState(function(){return a(t?d():null)}),o=G(r,2),c=o[0],f=o[1];return yr(function(){if(!t)return;function u(v){f(function(p){var m=a(v);return En(p,m)?p:m})}return s.add(u),function(){s.delete(u)}},[t]),c}var zr=Ko(),Yt=l.createContext(null),Br=l.createContext({renderWithProps:!1}),Do=["colSpan","rowSpan","style","className"];function Oo(e,n,a,t){var i=e+n-1;return e<=t&&i>=a}function Po(e){return e&&Fe(e)==="object"&&!Array.isArray(e)&&!l.isValidElement(e)}function To(e){return typeof e=="string"?!0:ba(e)}var Lo=function(n){var a=n.ellipsis,t=n.rowType,i=n.children,s,d=a===!0?{showTitle:!0}:a;return d&&(d.showTitle||t==="header")&&(typeof i=="string"||typeof i=="number"?s=i.toString():l.isValidElement(i)&&typeof i.props.children=="string"&&(s=i.props.children)),s};function Mo(e,n){var a,t,i,s=e.prefixCls,d=e.className,r=e.record,o=e.index,c=e.renderIndex,f=e.dataIndex,u=e.render,v=e.children,p=e.component,m=p===void 0?"td":p,y=e.colSpan,g=e.rowSpan,h=e.fixLeft,C=e.fixRight,x=e.firstFixLeft,E=e.lastFixLeft,S=e.firstFixRight,k=e.lastFixRight,R=e.appendNode,b=e.additionalProps,N=b===void 0?{}:b,D=e.ellipsis,F=e.align,w=e.rowType,O=e.isSticky,T=e.hovering,B=e.onHover,I="".concat(s,"-cell"),_=l.useContext(Br),$=l.useContext(Hr),U=l.useContext(Yt),Z=U.allColumnsFixedLeft,ne=l.useMemo(function(){if(un(v))return[v];var L=_r(r,f),P=L,j=void 0;if(u){var he=u(L,r,c);Po(he)?(P=he.children,j=he.props,_.renderWithProps=!0):P=he}return[P,j]},[_.renderWithProps?Math.random():0,v,f,_,r,u,c]),X=G(ne,2),q=X[0],ce=X[1],ye=q;Fe(ye)==="object"&&!Array.isArray(ye)&&!l.isValidElement(ye)&&(ye=null),D&&(E||S)&&(ye=l.createElement("span",{className:"".concat(I,"-content")},ye));var pe=ce||{},se=pe.colSpan,fe=pe.rowSpan,xe=pe.style,Ce=pe.className,ae=Ye(pe,Do),Ne=(a=se!==void 0?se:y)!==null&&a!==void 0?a:1,oe=(t=fe!==void 0?fe:g)!==null&&t!==void 0?t:1;if(Ne===0||oe===0)return null;var ue={},de=typeof h=="number"&&$,Oe=typeof C=="number"&&$;de&&(ue.position="sticky",ue.left=h),Oe&&(ue.position="sticky",ue.right=C);var we={};F&&(we.textAlign=F);var Ie=function(P){var j;r&&B(o,o+oe-1),N==null||(j=N.onMouseEnter)===null||j===void 0||j.call(N,P)},J=function(P){var j;r&&B(-1,-1),N==null||(j=N.onMouseLeave)===null||j===void 0||j.call(N,P)},H=Lo({rowType:w,ellipsis:D,children:q}),z=K(K(K({title:H},ae),N),{},{colSpan:Ne!==1?Ne:null,rowSpan:oe!==1?oe:null,className:te(I,d,(i={},M(i,"".concat(I,"-fix-left"),de&&$),M(i,"".concat(I,"-fix-left-first"),x&&$),M(i,"".concat(I,"-fix-left-last"),E&&$),M(i,"".concat(I,"-fix-left-all"),E&&Z&&$),M(i,"".concat(I,"-fix-right"),Oe&&$),M(i,"".concat(I,"-fix-right-first"),S&&$),M(i,"".concat(I,"-fix-right-last"),k&&$),M(i,"".concat(I,"-ellipsis"),D),M(i,"".concat(I,"-with-append"),R),M(i,"".concat(I,"-fix-sticky"),(de||Oe)&&O&&$),M(i,"".concat(I,"-row-hover"),!ce&&T),i),N.className,Ce),style:K(K(K(K({},N.style),we),ue),xe),onMouseEnter:Ie,onMouseLeave:J,ref:To(m)?n:null});return l.createElement(m,z,R,ye)}var Wr=l.forwardRef(Mo);Wr.displayName="Cell";var Io=["expanded","className","hovering"],$o=l.memo(Wr,function(e,n){return n.shouldCellUpdate?Io.every(function(a){return e[a]===n[a]})&&!n.shouldCellUpdate(n.record,e.record):En(e,n)}),At=l.forwardRef(function(e,n){var a=e.index,t=e.additionalProps,i=t===void 0?{}:t,s=e.colSpan,d=e.rowSpan,r=i.colSpan,o=i.rowSpan,c=s??r,f=d??o,u=Ro(zr,function(m){var y=Oo(a,f||1,m==null?void 0:m.startRow,m==null?void 0:m.endRow);return{onHover:m==null?void 0:m.onHover,hovering:y}}),v=u.onHover,p=u.hovering;return l.createElement($o,A({},e,{colSpan:c,rowSpan:f,hovering:p,ref:n,onHover:v}))});At.displayName="WrappedCell";var tt=l.createContext(null);function wn(e,n,a,t,i){var s=a[e]||{},d=a[n]||{},r,o;s.fixed==="left"?r=t.left[e]:d.fixed==="right"&&(o=t.right[n]);var c=!1,f=!1,u=!1,v=!1,p=a[n+1],m=a[e-1];if(i==="rtl"){if(r!==void 0){var y=m&&m.fixed==="left";v=!y}else if(o!==void 0){var g=p&&p.fixed==="right";u=!g}}else if(r!==void 0){var h=p&&p.fixed==="left";c=!h}else if(o!==void 0){var C=m&&m.fixed==="right";f=!C}return{fixLeft:r,fixRight:o,lastFixLeft:c,firstFixRight:f,lastFixRight:u,firstFixLeft:v,isSticky:t.isSticky}}function Vr(e){var n=e.cells,a=e.stickyOffsets,t=e.flattenColumns,i=e.rowComponent,s=e.cellComponent,d=e.onHeaderRow,r=e.index,o=l.useContext(tt),c=o.prefixCls,f=o.direction,u;d&&(u=d(n.map(function(p){return p.column}),r));var v=Xt(n.map(function(p){return p.column}));return l.createElement(i,u,n.map(function(p,m){var y=p.column,g=wn(p.colStart,p.colEnd,t,a,f),h;return y&&y.onHeaderCell&&(h=p.column.onHeaderCell(y)),l.createElement(At,A({},p,{ellipsis:y.ellipsis,align:y.align,component:s,prefixCls:c,key:v[m]},g,{additionalProps:h,rowType:"header"}))}))}Vr.displayName="HeaderRow";function Fo(e){var n=[];function a(d,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;n[o]=n[o]||[];var c=r,f=d.filter(Boolean).map(function(u){var v={key:u.key,className:u.className||"",children:u.title,column:u,colStart:c},p=1,m=u.children;return m&&m.length>0&&(p=a(m,c,o+1).reduce(function(y,g){return y+g},0),v.hasSubColumns=!0),"colSpan"in u&&(p=u.colSpan),"rowSpan"in u&&(v.rowSpan=u.rowSpan),v.colSpan=p,v.colEnd=v.colStart+p-1,n[o].push(v),c+=p,p});return f}a(e,0);for(var t=n.length,i=function(r){n[r].forEach(function(o){!("rowSpan"in o)&&!o.hasSubColumns&&(o.rowSpan=t-r)})},s=0;s<t;s+=1)i(s);return n}function Xn(e){var n=e.stickyOffsets,a=e.columns,t=e.flattenColumns,i=e.onHeaderRow,s=l.useContext(tt),d=s.prefixCls,r=s.getComponent,o=l.useMemo(function(){return Fo(a)},[a]),c=r(["header","wrapper"],"thead"),f=r(["header","row"],"tr"),u=r(["header","cell"],"th");return l.createElement(c,{className:"".concat(d,"-thead")},o.map(function(v,p){var m=l.createElement(Vr,{key:p,flattenColumns:t,cells:v,stickyOffsets:n,rowComponent:f,cellComponent:u,onHeaderRow:i,index:p});return m}))}var Ur=l.createContext(null);function jr(e){var n=e.prefixCls,a=e.children,t=e.component,i=e.cellComponent,s=e.className,d=e.expanded,r=e.colSpan,o=e.isEmpty,c=l.useContext(tt),f=c.scrollbarSize,u=l.useContext(Ur),v=u.fixHeader,p=u.fixColumn,m=u.componentWidth,y=u.horizonScroll;return l.useMemo(function(){var g=a;return(o?y:p)&&(g=l.createElement("div",{style:{width:m-(v?f:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(n,"-expanded-row-fixed")},m!==0&&g)),l.createElement(t,{className:s,style:{display:d?null:"none"}},l.createElement(At,{component:i,prefixCls:n,colSpan:r},g))},[a,t,s,d,r,o,f,m,p,v,y])}var Gr=l.createContext(null);function qr(e){var n=e.className,a=e.style,t=e.record,i=e.index,s=e.renderIndex,d=e.rowKey,r=e.rowExpandable,o=e.expandedKeys,c=e.onRow,f=e.indent,u=f===void 0?0:f,v=e.rowComponent,p=e.cellComponent,m=e.childrenColumnName,y=l.useContext(tt),g=y.prefixCls,h=y.fixedInfoList,C=l.useContext(Yt),x=C.flattenColumns,E=C.expandableType,S=C.expandRowByClick,k=C.onTriggerExpand,R=C.rowClassName,b=C.expandedRowClassName,N=C.indentSize,D=C.expandIcon,F=C.expandedRowRender,w=C.expandIconColumnIndex,O=l.useState(!1),T=G(O,2),B=T[0],I=T[1],_=o&&o.has(e.recordKey);l.useEffect(function(){_&&I(!0)},[_]);var $=E==="row"&&(!r||r(t)),U=E==="nest",Z=m&&t&&t[m],ne=$||U,X=l.useRef(k);X.current=k;var q=function(){X.current.apply(X,arguments)},ce=c==null?void 0:c(t,i),ye=function(oe){var ue;S&&ne&&q(t,oe);for(var de=arguments.length,Oe=new Array(de>1?de-1:0),we=1;we<de;we++)Oe[we-1]=arguments[we];ce==null||(ue=ce.onClick)===null||ue===void 0||ue.call.apply(ue,[ce,oe].concat(Oe))},pe;typeof R=="string"?pe=R:typeof R=="function"&&(pe=R(t,i,u));var se=Xt(x),fe=l.createElement(v,A({},ce,{"data-row-key":d,className:te(n,"".concat(g,"-row"),"".concat(g,"-row-level-").concat(u),pe,ce&&ce.className),style:K(K({},a),ce?ce.style:null),onClick:ye}),x.map(function(Ne,oe){var ue=Ne.render,de=Ne.dataIndex,Oe=Ne.className,we=se[oe],Ie=h[oe],J;oe===(w||0)&&U&&(J=l.createElement(l.Fragment,null,l.createElement("span",{style:{paddingLeft:"".concat(N*u,"px")},className:"".concat(g,"-row-indent indent-level-").concat(u)}),D({prefixCls:g,expanded:_,expandable:Z,record:t,onExpand:q})));var H;return Ne.onCell&&(H=Ne.onCell(t,i)),l.createElement(At,A({className:Oe,ellipsis:Ne.ellipsis,align:Ne.align,component:p,prefixCls:g,key:we,record:t,index:i,renderIndex:s,dataIndex:de,render:ue,shouldCellUpdate:Ne.shouldCellUpdate,expanded:J&&_},Ie,{appendNode:J,additionalProps:H}))})),xe;if($&&(B||_)){var Ce=F(t,i,u+1,_),ae=b&&b(t,i,u);xe=l.createElement(jr,{expanded:_,className:te("".concat(g,"-expanded-row"),"".concat(g,"-expanded-row-level-").concat(u+1),ae),prefixCls:g,component:v,cellComponent:p,colSpan:x.length,isEmpty:!1},Ce)}return l.createElement(l.Fragment,null,fe,xe)}qr.displayName="BodyRow";function Xr(e,n,a,t,i,s){var d=[];d.push({record:e,indent:n,index:s});var r=i(e),o=t==null?void 0:t.has(r);if(e&&Array.isArray(e[a])&&o)for(var c=0;c<e[a].length;c+=1){var f=Xr(e[a][c],n+1,a,t,i,c);d.push.apply(d,le(f))}return d}function Ao(e,n,a,t){var i=l.useMemo(function(){if(a!=null&&a.size){for(var s=[],d=0;d<(e==null?void 0:e.length);d+=1){var r=e[d];s.push.apply(s,le(Xr(r,0,n,a,t,d)))}return s}return e==null?void 0:e.map(function(o,c){return{record:o,indent:0,index:c}})},[e,n,a,t]);return i}function _o(e){var n=e.columnKey,a=e.onColumnResize,t=l.useRef();return l.useEffect(function(){t.current&&a(n,t.current.offsetWidth)},[]),l.createElement(Nn,{data:n},l.createElement("td",{ref:t,style:{padding:0,border:0,height:0}},l.createElement("div",{style:{height:0,overflow:"hidden"}},"Â ")))}function Ho(e){var n=e.prefixCls,a=e.columnsKey,t=e.onColumnResize;return l.createElement("tr",{"aria-hidden":"true",className:"".concat(n,"-measure-row"),style:{height:0,fontSize:0}},l.createElement(Nn.Collection,{onBatchResize:function(s){s.forEach(function(d){var r=d.data,o=d.size;t(r,o.offsetWidth)})}},a.map(function(i){return l.createElement(_o,{key:i,columnKey:i,onColumnResize:t})})))}function zo(e){var n=e.data,a=e.getRowKey,t=e.measureColumnWidth,i=e.expandedKeys,s=e.onRow,d=e.rowExpandable,r=e.emptyNode,o=e.childrenColumnName,c=l.useContext(Gr),f=c.onColumnResize,u=l.useContext(tt),v=u.prefixCls,p=u.getComponent,m=l.useContext(Yt),y=m.flattenColumns,g=Ao(n,o,i,a),h=l.useRef({renderWithProps:!1}),C=l.useState(-1),x=G(C,2),E=x[0],S=x[1],k=l.useState(-1),R=G(k,2),b=R[0],N=R[1],D=l.useCallback(function(w,O){S(w),N(O)},[]),F=l.useMemo(function(){var w=p(["body","wrapper"],"tbody"),O=p(["body","row"],"tr"),T=p(["body","cell"],"td"),B;n.length?B=g.map(function(_,$){var U=_.record,Z=_.indent,ne=_.index,X=a(U,$);return l.createElement(qr,{key:X,rowKey:X,record:U,recordKey:X,index:$,renderIndex:ne,rowComponent:O,cellComponent:T,expandedKeys:i,onRow:s,getRowKey:a,rowExpandable:d,childrenColumnName:o,indent:Z})}):B=l.createElement(jr,{expanded:!0,className:"".concat(v,"-placeholder"),prefixCls:v,component:O,cellComponent:T,colSpan:y.length,isEmpty:!0},r);var I=Xt(y);return l.createElement(w,{className:"".concat(v,"-tbody")},t&&l.createElement(Ho,{prefixCls:v,columnsKey:I,onColumnResize:f}),B)},[n,v,s,t,i,a,p,r,y,o,f,d,g]);return l.createElement(Br.Provider,{value:h.current},l.createElement(zr.Provider,{value:{startRow:E,endRow:b,onHover:D}},F))}var Yr=l.memo(zo);Yr.displayName="Body";var Bo=["expandable"],Mt="RC_TABLE_INTERNAL_COL_DEFINE";function Wo(e){var n=e.expandable,a=Ye(e,Bo),t;return"expandable"in e?t=K(K({},a),n):t=a,t.showExpandColumn===!1&&(t.expandIconColumnIndex=-1),t}var Et={},Vo=["children"],Uo=["fixed"];function bn(e){return Cr(e).filter(function(n){return l.isValidElement(n)}).map(function(n){var a=n.key,t=n.props,i=t.children,s=Ye(t,Vo),d=K({key:a},s);return i&&(d.children=bn(i)),d})}function fn(e){return e.reduce(function(n,a){var t=a.fixed,i=t===!0?"left":t,s=a.children;return s&&s.length>0?[].concat(le(n),le(fn(s).map(function(d){return K({fixed:i},d)}))):[].concat(le(n),[K(K({},a),{},{fixed:i})])},[])}function jo(e){return e.map(function(n){var a=n.fixed,t=Ye(n,Uo),i=a;return a==="left"?i="right":a==="right"&&(i="left"),K({fixed:i},t)})}function Go(e,n){var a=e.prefixCls,t=e.columns,i=e.children,s=e.expandable,d=e.expandedKeys,r=e.columnTitle,o=e.getRowKey,c=e.onTriggerExpand,f=e.expandIcon,u=e.rowExpandable,v=e.expandIconColumnIndex,p=e.direction,m=e.expandRowByClick,y=e.columnWidth,g=e.fixed,h=l.useMemo(function(){return t||bn(i)},[t,i]),C=l.useMemo(function(){if(s){var S,k=h.slice();if(!k.includes(Et)){var R=v||0;R>=0&&k.splice(R,0,Et)}var b=k.indexOf(Et);k=k.filter(function(w,O){return w!==Et||O===b});var N=h[b],D;(g==="left"||g)&&!v?D="left":(g==="right"||g)&&v===h.length?D="right":D=N?N.fixed:null;var F=(S={},M(S,Mt,{className:"".concat(a,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),M(S,"title",r),M(S,"fixed",D),M(S,"className","".concat(a,"-row-expand-icon-cell")),M(S,"width",y),M(S,"render",function(O,T,B){var I=o(T,B),_=d.has(I),$=u?u(T):!0,U=f({prefixCls:a,expanded:_,expandable:$,record:T,onExpand:c});return m?l.createElement("span",{onClick:function(ne){return ne.stopPropagation()}},U):U}),S);return k.map(function(w){return w===Et?F:w})}return h.filter(function(w){return w!==Et})},[s,h,o,d,f,p]),x=l.useMemo(function(){var S=C;return n&&(S=n(S)),S.length||(S=[{render:function(){return null}}]),S},[n,C,p]),E=l.useMemo(function(){return p==="rtl"?jo(fn(x)):fn(x)},[x,p]);return[x,E]}function Qr(e){var n=l.useRef(e),a=l.useState({}),t=G(a,2),i=t[1],s=l.useRef(null),d=l.useRef([]);function r(o){d.current.push(o);var c=Promise.resolve();s.current=c,c.then(function(){if(s.current===c){var f=d.current,u=n.current;d.current=[],f.forEach(function(v){n.current=v(n.current)}),s.current=null,u!==n.current&&i({})}})}return l.useEffect(function(){return function(){s.current=null}},[]),[n.current,r]}function qo(e){var n=l.useRef(e||null),a=l.useRef();function t(){window.clearTimeout(a.current)}function i(d){n.current=d,t(),a.current=window.setTimeout(function(){n.current=null,a.current=void 0},100)}function s(){return n.current}return l.useEffect(function(){return t},[]),[i,s]}function Xo(e,n,a){var t=l.useMemo(function(){for(var i=[],s=[],d=0,r=0,o=0;o<n;o+=1)if(a==="rtl"){s[o]=r,r+=e[o]||0;var c=n-o-1;i[c]=d,d+=e[c]||0}else{i[o]=d,d+=e[o]||0;var f=n-o-1;s[f]=r,r+=e[f]||0}return{left:i,right:s}},[e,n,a]);return t}var Yo=["columnType"];function Zr(e){for(var n=e.colWidths,a=e.columns,t=e.columCount,i=[],s=t||a.length,d=!1,r=s-1;r>=0;r-=1){var o=n[r],c=a&&a[r],f=c&&c[Mt];if(o||f||d){var u=f||{};u.columnType;var v=Ye(u,Yo);i.unshift(l.createElement("col",A({key:r,style:{width:o}},v))),d=!0}}return l.createElement("colgroup",null,i)}function Yn(e){var n=e.className,a=e.children;return l.createElement("div",{className:n},a)}var Jr=l.createContext({});function Qo(e){var n=e.className,a=e.index,t=e.children,i=e.colSpan,s=i===void 0?1:i,d=e.rowSpan,r=e.align,o=l.useContext(tt),c=o.prefixCls,f=o.direction,u=l.useContext(Jr),v=u.scrollColumnIndex,p=u.stickyOffsets,m=u.flattenColumns,y=a+s-1,g=y+1===v?s+1:s,h=wn(a,a+g-1,m,p,f);return l.createElement(At,A({className:n,index:a,component:"td",prefixCls:c,record:null,dataIndex:null,align:r,colSpan:g,rowSpan:d,render:function(){return t}},h))}var Zo=["children"];function Jo(e){var n=e.children,a=Ye(e,Zo);return l.createElement("tr",a,n)}function Qt(e){var n=e.children;return n}Qt.Row=Jo;Qt.Cell=Qo;function Wt(e){var n=e.children,a=e.stickyOffsets,t=e.flattenColumns,i=l.useContext(tt),s=i.prefixCls,d=t.length-1,r=t[d],o=l.useMemo(function(){return{stickyOffsets:a,flattenColumns:t,scrollColumnIndex:r!=null&&r.scrollbar?d:null}},[r,t,d,a]);return l.createElement(Jr.Provider,{value:o},l.createElement("tfoot",{className:"".concat(s,"-summary")},n))}var ea=Qt;function ei(e){var n,a=e.prefixCls,t=e.record,i=e.onExpand,s=e.expanded,d=e.expandable,r="".concat(a,"-row-expand-icon");if(!d)return l.createElement("span",{className:te(r,"".concat(a,"-row-spaced"))});var o=function(f){i(t,f),f.stopPropagation()};return l.createElement("span",{className:te(r,(n={},M(n,"".concat(a,"-row-expanded"),s),M(n,"".concat(a,"-row-collapsed"),!s),n)),onClick:o})}function ti(e,n,a){var t=[];function i(s){(s||[]).forEach(function(d,r){t.push(n(d,r)),i(d[a])})}return i(e),t}function Qn(e){var n=e.getBoundingClientRect(),a=document.documentElement;return{left:n.left+(window.pageXOffset||a.scrollLeft)-(a.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||a.scrollTop)-(a.clientTop||document.body.clientTop||0)}}var ni=function(n,a){var t,i,s=n.scrollBodyRef,d=n.onScroll,r=n.offsetScroll,o=n.container,c=l.useContext(tt),f=c.prefixCls,u=((t=s.current)===null||t===void 0?void 0:t.scrollWidth)||0,v=((i=s.current)===null||i===void 0?void 0:i.clientWidth)||0,p=u&&v*(v/u),m=l.useRef(),y=Qr({scrollLeft:0,isHiddenScrollBar:!1}),g=G(y,2),h=g[0],C=g[1],x=l.useRef({delta:0,x:0}),E=l.useState(!1),S=G(E,2),k=S[0],R=S[1],b=function(){R(!1)},N=function(T){T.persist(),x.current.delta=T.pageX-h.scrollLeft,x.current.x=0,R(!0),T.preventDefault()},D=function(T){var B,I=T||((B=window)===null||B===void 0?void 0:B.event),_=I.buttons;if(!k||_===0){k&&R(!1);return}var $=x.current.x+T.pageX-x.current.x-x.current.delta;$<=0&&($=0),$+p>=v&&($=v-p),d({scrollLeft:$/v*(u+2)}),x.current.x=T.pageX},F=function(){if(s.current){var T=Qn(s.current).top,B=T+s.current.offsetHeight,I=o===window?document.documentElement.scrollTop+window.innerHeight:Qn(o).top+o.clientHeight;B-zn()<=I||T>=I-r?C(function(_){return K(K({},_),{},{isHiddenScrollBar:!0})}):C(function(_){return K(K({},_),{},{isHiddenScrollBar:!1})})}},w=function(T){C(function(B){return K(K({},B),{},{scrollLeft:T/u*v||0})})};return l.useImperativeHandle(a,function(){return{setScrollLeft:w}}),l.useEffect(function(){var O=Bt(document.body,"mouseup",b,!1),T=Bt(document.body,"mousemove",D,!1);return F(),function(){O.remove(),T.remove()}},[p,k]),l.useEffect(function(){var O=Bt(o,"scroll",F,!1),T=Bt(window,"resize",F,!1);return function(){O.remove(),T.remove()}},[o]),l.useEffect(function(){h.isHiddenScrollBar||C(function(O){var T=s.current;return T?K(K({},O),{},{scrollLeft:T.scrollLeft/T.scrollWidth*T.clientWidth}):O})},[h.isHiddenScrollBar]),u<=v||!p||h.isHiddenScrollBar?null:l.createElement("div",{style:{height:zn(),width:v,bottom:r},className:"".concat(f,"-sticky-scroll")},l.createElement("div",{onMouseDown:N,ref:m,className:te("".concat(f,"-sticky-scroll-bar"),M({},"".concat(f,"-sticky-scroll-bar-active"),k)),style:{width:"".concat(p,"px"),transform:"translate3d(".concat(h.scrollLeft,"px, 0, 0)")}}))};const ri=l.forwardRef(ni);var Zn=Ka()?window:null;function ai(e,n){var a=Fe(e)==="object"?e:{},t=a.offsetHeader,i=t===void 0?0:t,s=a.offsetSummary,d=s===void 0?0:s,r=a.offsetScroll,o=r===void 0?0:r,c=a.getContainer,f=c===void 0?function(){return Zn}:c,u=f()||Zn;return l.useMemo(function(){var v=!!e;return{isSticky:v,stickyClassName:v?"".concat(n,"-sticky-holder"):"",offsetHeader:i,offsetSummary:d,offsetScroll:o,container:u}},[o,i,d,n,u])}var oi=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function ii(e,n){return l.useMemo(function(){for(var a=[],t=0;t<n;t+=1){var i=e[t];if(i!==void 0)a[t]=i;else return null}return a},[e.join("_"),n])}var vn=l.forwardRef(function(e,n){var a=e.className,t=e.noData,i=e.columns,s=e.flattenColumns,d=e.colWidths,r=e.columCount,o=e.stickyOffsets,c=e.direction,f=e.fixHeader,u=e.stickyTopOffset,v=e.stickyBottomOffset,p=e.stickyClassName,m=e.onScroll,y=e.maxContentScroll,g=e.children,h=Ye(e,oi),C=l.useContext(tt),x=C.prefixCls,E=C.scrollbarSize,S=C.isSticky,k=S&&!f?0:E,R=l.useRef(null),b=l.useCallback(function(I){Bn(n,I),Bn(R,I)},[]);l.useEffect(function(){var I;function _($){var U=$.currentTarget,Z=$.deltaX;Z&&(m({currentTarget:U,scrollLeft:U.scrollLeft+Z}),$.preventDefault())}return(I=R.current)===null||I===void 0||I.addEventListener("wheel",_),function(){var $;($=R.current)===null||$===void 0||$.removeEventListener("wheel",_)}},[]);var N=l.useMemo(function(){return s.every(function(I){return I.width>=0})},[s]),D=s[s.length-1],F={fixed:D?D.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(x,"-cell-scrollbar")}}},w=l.useMemo(function(){return k?[].concat(le(i),[F]):i},[k,i]),O=l.useMemo(function(){return k?[].concat(le(s),[F]):s},[k,s]),T=l.useMemo(function(){var I=o.right,_=o.left;return K(K({},o),{},{left:c==="rtl"?[].concat(le(_.map(function($){return $+k})),[0]):_,right:c==="rtl"?I:[].concat(le(I.map(function($){return $+k})),[0]),isSticky:S})},[k,o,S]),B=ii(d,r);return l.createElement("div",{style:K({overflow:"hidden"},S?{top:u,bottom:v}:{}),ref:b,className:te(a,M({},p,!!p))},l.createElement("table",{style:{tableLayout:"fixed",visibility:t||B?null:"hidden"}},(!t||!y||N)&&l.createElement(Zr,{colWidths:B?[].concat(le(B),[k]):[],columCount:r+1,columns:O}),g(K(K({},h),{},{stickyOffsets:T,columns:w,flattenColumns:O}))))});vn.displayName="FixedHolder";var li=[],ci={},Vt="rc-table-internal-hook",si=l.memo(function(e){var n=e.children;return n},function(e,n){return En(e.props,n.props)?e.pingLeft!==n.pingLeft||e.pingRight!==n.pingRight:!1});function wt(e){var n,a=e.prefixCls,t=e.className,i=e.rowClassName,s=e.style,d=e.data,r=e.rowKey,o=e.scroll,c=e.tableLayout,f=e.direction,u=e.title,v=e.footer,p=e.summary,m=e.id,y=e.showHeader,g=e.components,h=e.emptyText,C=e.onRow,x=e.onHeaderRow,E=e.internalHooks,S=e.transformColumns,k=e.internalRefs,R=e.sticky,b=d||li,N=!!b.length,D=l.useCallback(function(Q,ve){return _r(g||{},Q)||ve},[g]),F=l.useMemo(function(){return typeof r=="function"?r:function(Q){var ve=Q&&Q[r];return ve}},[r]),w=Wo(e),O=w.expandIcon,T=w.expandedRowKeys,B=w.defaultExpandedRowKeys,I=w.defaultExpandAllRows,_=w.expandedRowRender,$=w.columnTitle,U=w.onExpand,Z=w.onExpandedRowsChange,ne=w.expandRowByClick,X=w.rowExpandable,q=w.expandIconColumnIndex,ce=w.expandedRowClassName,ye=w.childrenColumnName,pe=w.indentSize,se=O||ei,fe=ye||"children",xe=l.useMemo(function(){return _?"row":e.expandable&&E===Vt&&e.expandable.__PARENT_RENDER_ICON__||b.some(function(Q){return Q&&Fe(Q)==="object"&&Q[fe]})?"nest":!1},[!!_,b]),Ce=l.useState(function(){return B||(I?ti(b,F,fe):[])}),ae=G(Ce,2),Ne=ae[0],oe=ae[1],ue=l.useMemo(function(){return new Set(T||Ne||[])},[T,Ne]),de=l.useCallback(function(Q){var ve=F(Q,b.indexOf(Q)),Le,Ue=ue.has(ve);Ue?(ue.delete(ve),Le=le(ue)):Le=[].concat(le(ue),[ve]),oe(Le),U&&U(!Ue,Q),Z&&Z(Le)},[F,ue,b,U,Z]),Oe=l.useState(0),we=G(Oe,2),Ie=we[0],J=we[1],H=Go(K(K(K({},e),w),{},{expandable:!!_,columnTitle:$,expandedKeys:ue,getRowKey:F,onTriggerExpand:de,expandIcon:se,expandIconColumnIndex:q,direction:f}),E===Vt?S:null),z=G(H,2),L=z[0],P=z[1],j=l.useMemo(function(){return{columns:L,flattenColumns:P}},[L,P]),he=l.useRef(),be=l.useRef(),Se=l.useRef(),ie=l.useRef(),V=l.useRef(),me=l.useState(!1),Ke=G(me,2),He=Ke[0],Qe=Ke[1],We=l.useState(!1),ht=G(We,2),mt=ht[0],ze=ht[1],Be=Qr(new Map),bt=G(Be,2),gt=bt[0],Ve=bt[1],dt=Xt(P),je=dt.map(function(Q){return gt.get(Q)}),Kt=l.useMemo(function(){return je},[je.join("_")]),Y=Xo(Kt,P.length,f),W=o&&un(o.y),ke=o&&un(o.x)||Boolean(w.fixed),ge=ke&&P.some(function(Q){var ve=Q.fixed;return ve}),Te=l.useRef(),Ee=ai(R,a),Re=Ee.isSticky,Ze=Ee.offsetHeader,ut=Ee.offsetSummary,yt=Ee.offsetScroll,Rt=Ee.stickyClassName,Je=Ee.container,$e=p==null?void 0:p(b),Ge=(W||Re)&&l.isValidElement($e)&&$e.type===Qt&&$e.props.fixed,qe,Ae,nt;W&&(Ae={overflowY:"scroll",maxHeight:o.y}),ke&&(qe={overflowX:"auto"},W||(Ae={overflowY:"hidden"}),nt={width:(o==null?void 0:o.x)===!0?"auto":o==null?void 0:o.x,minWidth:"100%"});var rt=l.useCallback(function(Q,ve){Ra(he.current)&&Ve(function(Le){if(Le.get(Q)!==ve){var Ue=new Map(Le);return Ue.set(Q,ve),Ue}return Le})},[]),Ct=qo(null),at=G(Ct,2),xt=at[0],ee=at[1];function re(Q,ve){ve&&(typeof ve=="function"?ve(Q):ve.scrollLeft!==Q&&(ve.scrollLeft=Q))}var De=function(ve){var Le=ve.currentTarget,Ue=ve.scrollLeft,ka=f==="rtl",ft=typeof Ue=="number"?Ue:Le.scrollLeft,Hn=Le||ci;if(!ee()||ee()===Hn){var rn;xt(Hn),re(ft,be.current),re(ft,Se.current),re(ft,V.current),re(ft,(rn=Te.current)===null||rn===void 0?void 0:rn.setScrollLeft)}if(Le){var an=Le.scrollWidth,on=Le.clientWidth;if(an===on){Qe(!1),ze(!1);return}ka?(Qe(-ft<an-on),ze(-ft>0)):(Qe(ft>0),ze(ft<an-on))}},Xe=function(){ke&&Se.current?De({currentTarget:Se.current}):(Qe(!1),ze(!1))},Pe=function(ve){var Le=ve.width;Le!==Ie&&(Xe(),J(he.current?he.current.offsetWidth:Le))},Dt=l.useRef(!1);l.useEffect(function(){Dt.current&&Xe()},[ke,d,L.length]),l.useEffect(function(){Dt.current=!0},[]);var _e=l.useState(0),Lt=G(_e,2),Ht=Lt[0],Ln=Lt[1],ha=l.useState(!0),Mn=G(ha,2),ma=Mn[0],ga=Mn[1];l.useEffect(function(){Se.current instanceof Element?Ln(Wn(Se.current).width):Ln(Wn(ie.current).width),ga(qa("position","sticky"))},[]),l.useEffect(function(){E===Vt&&k&&(k.body.current=Se.current)});var In=D(["table"],"table"),zt=l.useMemo(function(){return c||(ge?(o==null?void 0:o.x)==="max-content"?"auto":"fixed":W||Re||P.some(function(Q){var ve=Q.ellipsis;return ve})?"fixed":"auto")},[W,ge,P,c,Re]),Jt,en={colWidths:Kt,columCount:P.length,stickyOffsets:Y,onHeaderRow:x,fixHeader:W,scroll:o},ya=l.useMemo(function(){return N?null:typeof h=="function"?h():h},[N,h]),$n=l.createElement(Yr,{data:b,measureColumnWidth:W||ke||Re,expandedKeys:ue,rowExpandable:X,getRowKey:F,onRow:C,emptyNode:ya,childrenColumnName:fe}),Fn=l.createElement(Zr,{colWidths:P.map(function(Q){var ve=Q.width;return ve}),columns:P}),An=D(["body"]);if(W||Re){var tn;typeof An=="function"?(tn=An(b,{scrollbarSize:Ht,ref:Se,onScroll:De}),en.colWidths=P.map(function(Q,ve){var Le=Q.width,Ue=ve===L.length-1?Le-Ht:Le;return typeof Ue=="number"&&!Number.isNaN(Ue)?Ue:(lt(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):tn=l.createElement("div",{style:K(K({},qe),Ae),onScroll:De,ref:Se,className:te("".concat(a,"-body"))},l.createElement(In,{style:K(K({},nt),{},{tableLayout:zt})},Fn,$n,!Ge&&$e&&l.createElement(Wt,{stickyOffsets:Y,flattenColumns:P},$e)));var _n=K(K(K({noData:!b.length,maxContentScroll:ke&&o.x==="max-content"},en),j),{},{direction:f,stickyClassName:Rt,onScroll:De});Jt=l.createElement(l.Fragment,null,y!==!1&&l.createElement(vn,A({},_n,{stickyTopOffset:Ze,className:"".concat(a,"-header"),ref:be}),function(Q){return l.createElement(l.Fragment,null,l.createElement(Xn,Q),Ge==="top"&&l.createElement(Wt,Q,$e))}),tn,Ge&&Ge!=="top"&&l.createElement(vn,A({},_n,{stickyBottomOffset:ut,className:"".concat(a,"-summary"),ref:V}),function(Q){return l.createElement(Wt,Q,$e)}),Re&&l.createElement(ri,{ref:Te,offsetScroll:yt,scrollBodyRef:Se,onScroll:De,container:Je}))}else Jt=l.createElement("div",{style:K(K({},qe),Ae),className:te("".concat(a,"-content")),onScroll:De,ref:Se},l.createElement(In,{style:K(K({},nt),{},{tableLayout:zt})},Fn,y!==!1&&l.createElement(Xn,A({},en,j)),$n,$e&&l.createElement(Wt,{stickyOffsets:Y,flattenColumns:P},$e)));var Ca=kn(e,{aria:!0,data:!0}),nn=l.createElement("div",A({className:te(a,t,(n={},M(n,"".concat(a,"-rtl"),f==="rtl"),M(n,"".concat(a,"-ping-left"),He),M(n,"".concat(a,"-ping-right"),mt),M(n,"".concat(a,"-layout-fixed"),c==="fixed"),M(n,"".concat(a,"-fixed-header"),W),M(n,"".concat(a,"-fixed-column"),ge),M(n,"".concat(a,"-scroll-horizontal"),ke),M(n,"".concat(a,"-has-fix-left"),P[0]&&P[0].fixed),M(n,"".concat(a,"-has-fix-right"),P[P.length-1]&&P[P.length-1].fixed==="right"),n)),style:s,id:m,ref:he},Ca),l.createElement(si,{pingLeft:He,pingRight:mt,props:K(K({},e),{},{stickyOffsets:Y,mergedExpandedKeys:ue})},u&&l.createElement(Yn,{className:"".concat(a,"-title")},u(b)),l.createElement("div",{ref:ie,className:"".concat(a,"-container")},Jt),v&&l.createElement(Yn,{className:"".concat(a,"-footer")},v(b))));ke&&(nn=l.createElement(Nn,{onResize:Pe},nn));var xa=l.useMemo(function(){return{prefixCls:a,getComponent:D,scrollbarSize:Ht,direction:f,fixedInfoList:P.map(function(Q,ve){return wn(ve,ve,P,Y,f)}),isSticky:Re}},[a,D,Ht,f,P,Y,Re]),Sa=l.useMemo(function(){return K(K({},j),{},{tableLayout:zt,rowClassName:i,expandedRowClassName:ce,expandIcon:se,expandableType:xe,expandRowByClick:ne,expandedRowRender:_,onTriggerExpand:de,expandIconColumnIndex:q,indentSize:pe,allColumnsFixedLeft:j.flattenColumns.every(function(Q){return Q.fixed==="left"})})},[j,zt,i,ce,se,xe,ne,_,de,q,pe]),Ea=l.useMemo(function(){return{componentWidth:Ie,fixHeader:W,fixColumn:ge,horizonScroll:ke}},[Ie,W,ge,ke]),Na=l.useMemo(function(){return{onColumnResize:rt}},[rt]);return l.createElement(Hr.Provider,{value:ma},l.createElement(tt.Provider,{value:xa},l.createElement(Yt.Provider,{value:Sa},l.createElement(Ur.Provider,{value:Ea},l.createElement(Gr.Provider,{value:Na},nn)))))}wt.EXPAND_COLUMN=Et;wt.Column=wo;wt.ColumnGroup=ko;wt.Summary=ea;wt.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};function di(e){return null}function ui(e){return null}function fi(e){return function(a){var t,i=a.prefixCls,s=a.onExpand,d=a.record,r=a.expanded,o=a.expandable,c="".concat(i,"-row-expand-icon");return l.createElement("button",{type:"button",onClick:function(u){s(d,u),u.stopPropagation()},className:te(c,(t={},M(t,"".concat(c,"-spaced"),!o),M(t,"".concat(c,"-expanded"),o&&r),M(t,"".concat(c,"-collapsed"),o&&!r),t)),"aria-label":r?e.collapse:e.expand,"aria-expanded":r})}}function Tt(e,n){return"key"in e&&e.key!==void 0&&e.key!==null?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:n}function Zt(e,n){return n?"".concat(n,"-").concat(e):"".concat(e)}function It(e,n){return typeof e=="function"?e(n):e}var Kn=l.createContext(null),vi=function(n){for(var a=n.prefixCls,t=n.level,i=n.isStart,s=n.isEnd,d="".concat(a,"-indent-unit"),r=[],o=0;o<t;o+=1){var c;r.push(l.createElement("span",{key:o,className:te(d,(c={},M(c,"".concat(d,"-start"),i[o]),M(c,"".concat(d,"-end"),s[o]),c))}))}return l.createElement("span",{"aria-hidden":"true",className:"".concat(a,"-indent")},r)};const pi=l.memo(vi);var hi=["children"];function _t(e,n){return e??n}function Gt(e){var n=e||{},a=n.title,t=n._title,i=n.key,s=n.children,d=a||"title";return{title:d,_title:t||[d],key:i||"key",children:s||"children"}}function ta(e){function n(a){var t=Cr(a);return t.map(function(i){if(!xi(i))return lt(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var s=i.key,d=i.props,r=d.children,o=Ye(d,hi),c=K({key:s},o),f=n(r);return f.length&&(c.children=f),c}).filter(function(i){return i})}return n(e)}function ln(e,n,a){var t=Gt(a),i=t._title,s=t.key,d=t.children,r=new Set(n===!0?[]:n),o=[];function c(f){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return f.map(function(v,p){for(var m=na(u?u.pos:"0",p),y=_t(v[s],m),g,h=0;h<i.length;h+=1){var C=i[h];if(v[C]!==void 0){g=v[C];break}}var x=K(K({},xr(v,[].concat(le(i),[s,d]))),{},{title:g,key:y,parent:u,pos:m,children:null,data:v,isStart:[].concat(le(u?u.isStart:[]),[p===0]),isEnd:[].concat(le(u?u.isEnd:[]),[p===f.length-1])});return o.push(x),n===!0||r.has(y)?x.children=c(v[d]||[],x):x.children=[],x})}return c(e),o}function mi(e,n,a){var t={};Fe(a)==="object"?t=a:t={externalGetKey:a},t=t||{};var i=t,s=i.childrenPropName,d=i.externalGetKey,r=i.fieldNames,o=Gt(r),c=o.key,f=o.children,u=s||f,v;d?typeof d=="string"?v=function(y){return y[d]}:typeof d=="function"&&(v=function(y){return d(y)}):v=function(y,g){return _t(y[c],g)};function p(m,y,g,h){var C=m?m[u]:e,x=m?na(g.pos,y):"0",E=m?[].concat(le(h),[m]):[];if(m){var S=v(m,x),k={node:m,index:y,pos:x,key:S,parentPos:g.node?g.pos:null,level:g.level+1,nodes:E};n(k)}C&&C.forEach(function(R,b){p(R,b,{node:m,pos:x,level:g?g.level+1:-1},E)})}p(null)}function Rn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.initWrapper,t=n.processEntity,i=n.onProcessFinished,s=n.externalGetKey,d=n.childrenPropName,r=n.fieldNames,o=arguments.length>2?arguments[2]:void 0,c=s||o,f={},u={},v={posEntities:f,keyEntities:u};return a&&(v=a(v)||v),mi(e,function(p){var m=p.node,y=p.index,g=p.pos,h=p.key,C=p.parentPos,x=p.level,E=p.nodes,S={node:m,nodes:E,index:y,key:h,pos:g,level:x},k=_t(h,g);f[g]=S,u[k]=S,S.parent=f[C],S.parent&&(S.parent.children=S.parent.children||[],S.parent.children.push(S)),t&&t(S,v)},{externalGetKey:c,childrenPropName:d,fieldNames:r}),i&&i(v),v}function $t(e,n){var a=n.expandedKeys,t=n.selectedKeys,i=n.loadedKeys,s=n.loadingKeys,d=n.checkedKeys,r=n.halfCheckedKeys,o=n.dragOverNodeKey,c=n.dropPosition,f=n.keyEntities,u=f[e],v={eventKey:e,expanded:a.indexOf(e)!==-1,selected:t.indexOf(e)!==-1,loaded:i.indexOf(e)!==-1,loading:s.indexOf(e)!==-1,checked:d.indexOf(e)!==-1,halfChecked:r.indexOf(e)!==-1,pos:String(u?u.pos:""),dragOver:o===e&&c===0,dragOverGapTop:o===e&&c===-1,dragOverGapBottom:o===e&&c===1};return v}function Me(e){var n=e.data,a=e.expanded,t=e.selected,i=e.checked,s=e.loaded,d=e.loading,r=e.halfChecked,o=e.dragOver,c=e.dragOverGapTop,f=e.dragOverGapBottom,u=e.pos,v=e.active,p=e.eventKey,m=K(K({},n),{},{expanded:a,selected:t,checked:i,loaded:s,loading:d,halfChecked:r,dragOver:o,dragOverGapTop:c,dragOverGapBottom:f,pos:u,active:v,key:p});return"props"in m||Object.defineProperty(m,"props",{get:function(){return lt(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),m}var gi=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Jn="open",er="close",yi="---",Ci=function(e){Sr(a,e);var n=Er(a);function a(){var t;Nr(this,a);for(var i=arguments.length,s=new Array(i),d=0;d<i;d++)s[d]=arguments[d];return t=n.call.apply(n,[this].concat(s)),t.state={dragNodeHighlight:!1},t.selectHandle=void 0,t.onSelectorClick=function(r){var o=t.props.context.onNodeClick;o(r,Me(t.props)),t.isSelectable()?t.onSelect(r):t.onCheck(r)},t.onSelectorDoubleClick=function(r){var o=t.props.context.onNodeDoubleClick;o(r,Me(t.props))},t.onSelect=function(r){if(!t.isDisabled()){var o=t.props.context.onNodeSelect;r.preventDefault(),o(r,Me(t.props))}},t.onCheck=function(r){if(!t.isDisabled()){var o=t.props,c=o.disableCheckbox,f=o.checked,u=t.props.context.onNodeCheck;if(!(!t.isCheckable()||c)){r.preventDefault();var v=!f;u(r,Me(t.props),v)}}},t.onMouseEnter=function(r){var o=t.props.context.onNodeMouseEnter;o(r,Me(t.props))},t.onMouseLeave=function(r){var o=t.props.context.onNodeMouseLeave;o(r,Me(t.props))},t.onContextMenu=function(r){var o=t.props.context.onNodeContextMenu;o(r,Me(t.props))},t.onDragStart=function(r){var o=t.props.context.onNodeDragStart;r.stopPropagation(),t.setState({dragNodeHighlight:!0}),o(r,pt(t));try{r.dataTransfer.setData("text/plain","")}catch{}},t.onDragEnter=function(r){var o=t.props.context.onNodeDragEnter;r.preventDefault(),r.stopPropagation(),o(r,pt(t))},t.onDragOver=function(r){var o=t.props.context.onNodeDragOver;r.preventDefault(),r.stopPropagation(),o(r,pt(t))},t.onDragLeave=function(r){var o=t.props.context.onNodeDragLeave;r.stopPropagation(),o(r,pt(t))},t.onDragEnd=function(r){var o=t.props.context.onNodeDragEnd;r.stopPropagation(),t.setState({dragNodeHighlight:!1}),o(r,pt(t))},t.onDrop=function(r){var o=t.props.context.onNodeDrop;r.preventDefault(),r.stopPropagation(),t.setState({dragNodeHighlight:!1}),o(r,pt(t))},t.onExpand=function(r){var o=t.props,c=o.loading,f=o.context.onNodeExpand;c||f(r,Me(t.props))},t.setSelectHandle=function(r){t.selectHandle=r},t.getNodeState=function(){var r=t.props.expanded;return t.isLeaf()?null:r?Jn:er},t.hasChildren=function(){var r=t.props.eventKey,o=t.props.context.keyEntities,c=o[r]||{},f=c.children;return!!(f||[]).length},t.isLeaf=function(){var r=t.props,o=r.isLeaf,c=r.loaded,f=t.props.context.loadData,u=t.hasChildren();return o===!1?!1:o||!f&&!u||f&&c&&!u},t.isDisabled=function(){var r=t.props.disabled,o=t.props.context.disabled;return!!(o||r)},t.isCheckable=function(){var r=t.props.checkable,o=t.props.context.checkable;return!o||r===!1?!1:o},t.syncLoadData=function(r){var o=r.expanded,c=r.loading,f=r.loaded,u=t.props.context,v=u.loadData,p=u.onNodeLoad;c||v&&o&&!t.isLeaf()&&!t.hasChildren()&&!f&&p(Me(t.props))},t.isDraggable=function(){var r=t.props,o=r.data,c=r.context.draggable;return!!(c&&(!c.nodeDraggable||c.nodeDraggable(o)))},t.renderDragHandler=function(){var r=t.props.context,o=r.draggable,c=r.prefixCls;return o!=null&&o.icon?l.createElement("span",{className:"".concat(c,"-draggable-icon")},o.icon):null},t.renderSwitcherIconDom=function(r){var o=t.props.switcherIcon,c=t.props.context.switcherIcon,f=o||c;return typeof f=="function"?f(K(K({},t.props),{},{isLeaf:r})):f},t.renderSwitcher=function(){var r=t.props.expanded,o=t.props.context.prefixCls;if(t.isLeaf()){var c=t.renderSwitcherIconDom(!0);return c!==!1?l.createElement("span",{className:te("".concat(o,"-switcher"),"".concat(o,"-switcher-noop"))},c):null}var f=te("".concat(o,"-switcher"),"".concat(o,"-switcher_").concat(r?Jn:er)),u=t.renderSwitcherIconDom(!1);return u!==!1?l.createElement("span",{onClick:t.onExpand,className:f},u):null},t.renderCheckbox=function(){var r=t.props,o=r.checked,c=r.halfChecked,f=r.disableCheckbox,u=t.props.context.prefixCls,v=t.isDisabled(),p=t.isCheckable();if(!p)return null;var m=typeof p!="boolean"?p:null;return l.createElement("span",{className:te("".concat(u,"-checkbox"),o&&"".concat(u,"-checkbox-checked"),!o&&c&&"".concat(u,"-checkbox-indeterminate"),(v||f)&&"".concat(u,"-checkbox-disabled")),onClick:t.onCheck},m)},t.renderIcon=function(){var r=t.props.loading,o=t.props.context.prefixCls;return l.createElement("span",{className:te("".concat(o,"-iconEle"),"".concat(o,"-icon__").concat(t.getNodeState()||"docu"),r&&"".concat(o,"-icon_loading"))})},t.renderSelector=function(){var r=t.state.dragNodeHighlight,o=t.props,c=o.title,f=o.selected,u=o.icon,v=o.loading,p=o.data,m=t.props.context,y=m.prefixCls,g=m.showIcon,h=m.icon,C=m.loadData,x=m.titleRender,E=t.isDisabled(),S="".concat(y,"-node-content-wrapper"),k;if(g){var R=u||h;k=R?l.createElement("span",{className:te("".concat(y,"-iconEle"),"".concat(y,"-icon__customize"))},typeof R=="function"?R(t.props):R):t.renderIcon()}else C&&v&&(k=t.renderIcon());var b;typeof c=="function"?b=c(p):x?b=x(p):b=c;var N=l.createElement("span",{className:"".concat(y,"-title")},b);return l.createElement("span",{ref:t.setSelectHandle,title:typeof c=="string"?c:"",className:te("".concat(S),"".concat(S,"-").concat(t.getNodeState()||"normal"),!E&&(f||r)&&"".concat(y,"-node-selected")),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onContextMenu:t.onContextMenu,onClick:t.onSelectorClick,onDoubleClick:t.onSelectorDoubleClick},k,N,t.renderDropIndicator())},t.renderDropIndicator=function(){var r=t.props,o=r.disabled,c=r.eventKey,f=t.props.context,u=f.draggable,v=f.dropLevelOffset,p=f.dropPosition,m=f.prefixCls,y=f.indent,g=f.dropIndicatorRender,h=f.dragOverNodeKey,C=f.direction,x=u!==!1,E=!o&&x&&h===c;return E?g({dropPosition:p,dropLevelOffset:v,indent:y,prefixCls:m,direction:C}):null},t}return kr(a,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var i=this.props.selectable,s=this.props.context.selectable;return typeof i=="boolean"?i:s}},{key:"render",value:function(){var i,s=this.props,d=s.eventKey,r=s.className,o=s.style,c=s.dragOver,f=s.dragOverGapTop,u=s.dragOverGapBottom,v=s.isLeaf,p=s.isStart,m=s.isEnd,y=s.expanded,g=s.selected,h=s.checked,C=s.halfChecked,x=s.loading,E=s.domRef,S=s.active;s.data;var k=s.onMouseMove,R=s.selectable,b=Ye(s,gi),N=this.props.context,D=N.prefixCls,F=N.filterTreeNode,w=N.keyEntities,O=N.dropContainerKey,T=N.dropTargetKey,B=N.draggingNodeKey,I=this.isDisabled(),_=kn(b,{aria:!0,data:!0}),$=w[d]||{},U=$.level,Z=m[m.length-1],ne=this.isDraggable(),X=!I&&ne,q=B===d,ce=R!==void 0?{"aria-selected":!!R}:void 0;return l.createElement("div",A({ref:E,className:te(r,"".concat(D,"-treenode"),(i={},M(i,"".concat(D,"-treenode-disabled"),I),M(i,"".concat(D,"-treenode-switcher-").concat(y?"open":"close"),!v),M(i,"".concat(D,"-treenode-checkbox-checked"),h),M(i,"".concat(D,"-treenode-checkbox-indeterminate"),C),M(i,"".concat(D,"-treenode-selected"),g),M(i,"".concat(D,"-treenode-loading"),x),M(i,"".concat(D,"-treenode-active"),S),M(i,"".concat(D,"-treenode-leaf-last"),Z),M(i,"".concat(D,"-treenode-draggable"),ne),M(i,"dragging",q),M(i,"drop-target",T===d),M(i,"drop-container",O===d),M(i,"drag-over",!I&&c),M(i,"drag-over-gap-top",!I&&f),M(i,"drag-over-gap-bottom",!I&&u),M(i,"filter-node",F&&F(Me(this.props))),i)),style:o,draggable:X,"aria-grabbed":q,onDragStart:X?this.onDragStart:void 0,onDragEnter:ne?this.onDragEnter:void 0,onDragOver:ne?this.onDragOver:void 0,onDragLeave:ne?this.onDragLeave:void 0,onDrop:ne?this.onDrop:void 0,onDragEnd:ne?this.onDragEnd:void 0,onMouseMove:k},ce,_),l.createElement(pi,{prefixCls:D,level:U,isStart:p,isEnd:m}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),a}(l.Component),Nt=function(n){return l.createElement(Kn.Consumer,null,function(a){return l.createElement(Ci,A({},n,{context:a}))})};Nt.displayName="TreeNode";Nt.defaultProps={title:yi};Nt.isTreeNode=1;function et(e,n){if(!e)return[];var a=e.slice(),t=a.indexOf(n);return t>=0&&a.splice(t,1),a}function ot(e,n){var a=(e||[]).slice();return a.indexOf(n)===-1&&a.push(n),a}function Dn(e){return e.split("-")}function na(e,n){return"".concat(e,"-").concat(n)}function xi(e){return e&&e.type&&e.type.isTreeNode}function Si(e,n){var a=[],t=n[e];function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(d){var r=d.key,o=d.children;a.push(r),i(o)})}return i(t.children),a}function Ei(e){if(e.parent){var n=Dn(e.pos);return Number(n[n.length-1])===e.parent.children.length-1}return!1}function Ni(e){var n=Dn(e.pos);return Number(n[n.length-1])===0}function tr(e,n,a,t,i,s,d,r,o,c){var f,u=e.clientX,v=e.clientY,p=e.target.getBoundingClientRect(),m=p.top,y=p.height,g=(c==="rtl"?-1:1)*(((i==null?void 0:i.x)||0)-u),h=(g-12)/t,C=r[a.props.eventKey];if(v<m+y/2){var x=d.findIndex(function(B){return B.key===C.key}),E=x<=0?0:x-1,S=d[E].key;C=r[S]}var k=C.key,R=C,b=C.key,N=0,D=0;if(!o.includes(k))for(var F=0;F<h&&Ei(C);F+=1)C=C.parent,D+=1;var w=n.props.data,O=C.node,T=!0;return Ni(C)&&C.level===0&&v<m+y/2&&s({dragNode:w,dropNode:O,dropPosition:-1})&&C.key===a.props.eventKey?N=-1:(R.children||[]).length&&o.includes(b)?s({dragNode:w,dropNode:O,dropPosition:0})?N=0:T=!1:D===0?h>-1.5?s({dragNode:w,dropNode:O,dropPosition:1})?N=1:T=!1:s({dragNode:w,dropNode:O,dropPosition:0})?N=0:s({dragNode:w,dropNode:O,dropPosition:1})?N=1:T=!1:s({dragNode:w,dropNode:O,dropPosition:1})?N=1:T=!1,{dropPosition:N,dropLevelOffset:D,dropTargetKey:C.key,dropTargetPos:C.pos,dragOverNodeKey:b,dropContainerKey:N===0?null:((f=C.parent)===null||f===void 0?void 0:f.key)||null,dropAllowed:T}}function nr(e,n){if(e){var a=n.multiple;return a?e.slice():e.length?[e[0]]:e}}function cn(e){if(!e)return null;var n;if(Array.isArray(e))n={checkedKeys:e,halfCheckedKeys:void 0};else if(Fe(e)==="object")n={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return lt(!1,"`checkedKeys` is not an array or an object"),null;return n}function pn(e,n){var a=new Set;function t(i){if(!a.has(i)){var s=n[i];if(s){a.add(i);var d=s.parent,r=s.node;r.disabled||d&&t(d.key)}}}return(e||[]).forEach(function(i){t(i)}),le(a)}var ki=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],ra=function(n,a){var t=n.className,i=n.style,s=n.motion,d=n.motionNodes,r=n.motionType,o=n.onMotionStart,c=n.onMotionEnd,f=n.active,u=n.treeNodeRequiredProps,v=Ye(n,ki),p=l.useState(!0),m=G(p,2),y=m[0],g=m[1],h=l.useContext(Kn),C=h.prefixCls,x=l.useRef(!1),E=function(){x.current||c(),x.current=!0};return l.useEffect(function(){d&&r==="hide"&&y&&g(!1)},[d]),l.useEffect(function(){return d&&o(),function(){d&&E()}},[]),d?l.createElement(Da,A({ref:a,visible:y},s,{motionAppear:r==="show",onAppearEnd:E,onLeaveEnd:E}),function(S,k){var R=S.className,b=S.style;return l.createElement("div",{ref:k,className:te("".concat(C,"-treenode-motion"),R),style:b},d.map(function(N){var D=A({},N.data),F=N.title,w=N.key,O=N.isStart,T=N.isEnd;delete D.children;var B=$t(w,u);return l.createElement(Nt,A({},D,B,{title:F,active:f,data:N.data,key:w,isStart:O,isEnd:T}))}))}):l.createElement(Nt,A({domRef:a,className:t,style:i},v,{active:f}))};ra.displayName="MotionTreeNode";var wi=l.forwardRef(ra);function bi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=e.length,t=n.length;if(Math.abs(a-t)!==1)return{add:!1,key:null};function i(s,d){var r=new Map;s.forEach(function(c){r.set(c,!0)});var o=d.filter(function(c){return!r.has(c)});return o.length===1?o[0]:null}return a<t?{add:!0,key:i(e,n)}:{add:!1,key:i(n,e)}}function rr(e,n,a){var t=e.findIndex(function(r){return r.key===a}),i=e[t+1],s=n.findIndex(function(r){return r.key===a});if(i){var d=n.findIndex(function(r){return r.key===i.key});return n.slice(s+1,d)}return n.slice(s+1)}var Ki=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],ar={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ri=function(){},kt="RC_TREE_MOTION_".concat(Math.random()),hn={key:kt},aa={key:kt,level:0,index:0,pos:"0",node:hn,nodes:[hn]},or={parent:null,children:[],pos:aa.pos,data:hn,title:null,key:kt,isStart:[],isEnd:[]};function ir(e,n,a,t){return n===!1||!a?e:e.slice(0,Math.ceil(a/t)+1)}function lr(e){var n=e.key,a=e.pos;return _t(n,a)}function Di(e){for(var n=String(e.data.key),a=e;a.parent;)a=a.parent,n="".concat(a.data.key," > ").concat(n);return n}var oa=l.forwardRef(function(e,n){var a=e.prefixCls,t=e.data;e.selectable,e.checkable;var i=e.expandedKeys,s=e.selectedKeys,d=e.checkedKeys,r=e.loadedKeys,o=e.loadingKeys,c=e.halfCheckedKeys,f=e.keyEntities,u=e.disabled,v=e.dragging,p=e.dragOverNodeKey,m=e.dropPosition,y=e.motion,g=e.height,h=e.itemHeight,C=e.virtual,x=e.focusable,E=e.activeItem,S=e.focused,k=e.tabIndex,R=e.onKeyDown,b=e.onFocus,N=e.onBlur,D=e.onActiveChange,F=e.onListChangeStart,w=e.onListChangeEnd,O=Ye(e,Ki),T=l.useRef(null),B=l.useRef(null);l.useImperativeHandle(n,function(){return{scrollTo:function(z){T.current.scrollTo(z)},getIndentWidth:function(){return B.current.offsetWidth}}});var I=l.useState(i),_=G(I,2),$=_[0],U=_[1],Z=l.useState(t),ne=G(Z,2),X=ne[0],q=ne[1],ce=l.useState(t),ye=G(ce,2),pe=ye[0],se=ye[1],fe=l.useState([]),xe=G(fe,2),Ce=xe[0],ae=xe[1],Ne=l.useState(null),oe=G(Ne,2),ue=oe[0],de=oe[1],Oe=l.useRef(t);Oe.current=t;function we(){var H=Oe.current;q(H),se(H),ae([]),de(null),w()}l.useEffect(function(){U(i);var H=bi($,i);if(H.key!==null)if(H.add){var z=X.findIndex(function(Se){var ie=Se.key;return ie===H.key}),L=ir(rr(X,t,H.key),C,g,h),P=X.slice();P.splice(z+1,0,or),se(P),ae(L),de("show")}else{var j=t.findIndex(function(Se){var ie=Se.key;return ie===H.key}),he=ir(rr(t,X,H.key),C,g,h),be=t.slice();be.splice(j+1,0,or),se(be),ae(he),de("hide")}else X!==t&&(q(t),se(t))},[i,t]),l.useEffect(function(){v||we()},[v]);var Ie=y?pe:t,J={expandedKeys:i,selectedKeys:s,loadedKeys:r,loadingKeys:o,checkedKeys:d,halfCheckedKeys:c,dragOverNodeKey:p,dropPosition:m,keyEntities:f};return l.createElement(l.Fragment,null,S&&E&&l.createElement("span",{style:ar,"aria-live":"assertive"},Di(E)),l.createElement("div",null,l.createElement("input",{style:ar,disabled:x===!1||u,tabIndex:x!==!1?k:null,onKeyDown:R,onFocus:b,onBlur:N,value:"",onChange:Ri,"aria-label":"for screen reader"})),l.createElement("div",{className:"".concat(a,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},l.createElement("div",{className:"".concat(a,"-indent")},l.createElement("div",{ref:B,className:"".concat(a,"-indent-unit")}))),l.createElement(Oa,A({},O,{data:Ie,itemKey:lr,height:g,fullHeight:!1,virtual:C,itemHeight:h,prefixCls:"".concat(a,"-list"),ref:T,onVisibleChange:function(z,L){var P=new Set(z),j=L.filter(function(he){return!P.has(he)});j.some(function(he){return lr(he)===kt})&&we()}}),function(H){var z=H.pos,L=A({},H.data),P=H.title,j=H.key,he=H.isStart,be=H.isEnd,Se=_t(j,z);delete L.key,delete L.children;var ie=$t(Se,J);return l.createElement(wi,A({},L,ie,{title:P,active:!!E&&j===E.key,pos:z,data:H.data,isStart:he,isEnd:be,motion:y,motionNodes:j===kt?Ce:null,motionType:ue,onMotionStart:F,onMotionEnd:we,treeNodeRequiredProps:J,onMouseMove:function(){D(null)}}))}))});oa.displayName="NodeList";function ia(e,n){var a=new Set;return e.forEach(function(t){n.has(t)||a.add(t)}),a}function Oi(e){var n=e||{},a=n.disabled,t=n.disableCheckbox,i=n.checkable;return!!(a||t)||i===!1}function Pi(e,n,a,t){for(var i=new Set(e),s=new Set,d=0;d<=a;d+=1){var r=n.get(d)||new Set;r.forEach(function(u){var v=u.key,p=u.node,m=u.children,y=m===void 0?[]:m;i.has(v)&&!t(p)&&y.filter(function(g){return!t(g.node)}).forEach(function(g){i.add(g.key)})})}for(var o=new Set,c=a;c>=0;c-=1){var f=n.get(c)||new Set;f.forEach(function(u){var v=u.parent,p=u.node;if(!(t(p)||!u.parent||o.has(u.parent.key))){if(t(u.parent.node)){o.add(v.key);return}var m=!0,y=!1;(v.children||[]).filter(function(g){return!t(g.node)}).forEach(function(g){var h=g.key,C=i.has(h);m&&!C&&(m=!1),!y&&(C||s.has(h))&&(y=!0)}),m&&i.add(v.key),y&&s.add(v.key),o.add(v.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(ia(s,i))}}function Ti(e,n,a,t,i){for(var s=new Set(e),d=new Set(n),r=0;r<=t;r+=1){var o=a.get(r)||new Set;o.forEach(function(v){var p=v.key,m=v.node,y=v.children,g=y===void 0?[]:y;!s.has(p)&&!d.has(p)&&!i(m)&&g.filter(function(h){return!i(h.node)}).forEach(function(h){s.delete(h.key)})})}d=new Set;for(var c=new Set,f=t;f>=0;f-=1){var u=a.get(f)||new Set;u.forEach(function(v){var p=v.parent,m=v.node;if(!(i(m)||!v.parent||c.has(v.parent.key))){if(i(v.parent.node)){c.add(p.key);return}var y=!0,g=!1;(p.children||[]).filter(function(h){return!i(h.node)}).forEach(function(h){var C=h.key,x=s.has(C);y&&!x&&(y=!1),!g&&(x||d.has(C))&&(g=!0)}),y||s.delete(p.key),g&&d.add(p.key),c.add(p.key)}})}return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(ia(d,s))}}function Ot(e,n,a,t){var i=[],s;t?s=t:s=Oi;var d=new Set(e.filter(function(f){var u=!!a[f];return u||i.push(f),u})),r=new Map,o=0;Object.keys(a).forEach(function(f){var u=a[f],v=u.level,p=r.get(v);p||(p=new Set,r.set(v,p)),p.add(u),o=Math.max(o,v)}),lt(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(f){return"'".concat(f,"'")}).join(", ")));var c;return n===!0?c=Pi(d,r,o,s):c=Ti(d,n.halfCheckedKeys,r,o,s),c}function Li(e){var n=e.dropPosition,a=e.dropLevelOffset,t=e.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:i.top=0,i.left=-a*t;break;case 1:i.bottom=0,i.left=-a*t;break;case 0:i.bottom=0,i.left=t;break}return l.createElement("div",{style:i})}var Mi=10,On=function(e){Sr(a,e);var n=Er(a);function a(){var t;Nr(this,a);for(var i=arguments.length,s=new Array(i),d=0;d<i;d++)s[d]=arguments[d];return t=n.call.apply(n,[this].concat(s)),t.destroyed=!1,t.delayedDragEnterLogic=void 0,t.loadingRetryTimes={},t.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Gt()},t.dragStartMousePosition=null,t.dragNode=void 0,t.currentMouseOverDroppableNodeKey=null,t.listRef=l.createRef(),t.onNodeDragStart=function(r,o){var c=t.state,f=c.expandedKeys,u=c.keyEntities,v=t.props.onDragStart,p=o.props.eventKey;t.dragNode=o,t.dragStartMousePosition={x:r.clientX,y:r.clientY};var m=et(f,p);t.setState({draggingNodeKey:p,dragChildrenKeys:Si(p,u),indent:t.listRef.current.getIndentWidth()}),t.setExpandedKeys(m),window.addEventListener("dragend",t.onWindowDragEnd),v==null||v({event:r,node:Me(o.props)})},t.onNodeDragEnter=function(r,o){var c=t.state,f=c.expandedKeys,u=c.keyEntities,v=c.dragChildrenKeys,p=c.flattenNodes,m=c.indent,y=t.props,g=y.onDragEnter,h=y.onExpand,C=y.allowDrop,x=y.direction,E=o.props,S=E.pos,k=E.eventKey,R=pt(t),b=R.dragNode;if(t.currentMouseOverDroppableNodeKey!==k&&(t.currentMouseOverDroppableNodeKey=k),!b){t.resetDragState();return}var N=tr(r,b,o,m,t.dragStartMousePosition,C,p,u,f,x),D=N.dropPosition,F=N.dropLevelOffset,w=N.dropTargetKey,O=N.dropContainerKey,T=N.dropTargetPos,B=N.dropAllowed,I=N.dragOverNodeKey;if(v.indexOf(w)!==-1||!B){t.resetDragState();return}if(t.delayedDragEnterLogic||(t.delayedDragEnterLogic={}),Object.keys(t.delayedDragEnterLogic).forEach(function(_){clearTimeout(t.delayedDragEnterLogic[_])}),b.props.eventKey!==o.props.eventKey&&(r.persist(),t.delayedDragEnterLogic[S]=window.setTimeout(function(){if(t.state.draggingNodeKey!==null){var _=le(f),$=u[o.props.eventKey];$&&($.children||[]).length&&(_=ot(f,o.props.eventKey)),"expandedKeys"in t.props||t.setExpandedKeys(_),h==null||h(_,{node:Me(o.props),expanded:!0,nativeEvent:r.nativeEvent})}},800)),b.props.eventKey===w&&F===0){t.resetDragState();return}t.setState({dragOverNodeKey:I,dropPosition:D,dropLevelOffset:F,dropTargetKey:w,dropContainerKey:O,dropTargetPos:T,dropAllowed:B}),g==null||g({event:r,node:Me(o.props),expandedKeys:f})},t.onNodeDragOver=function(r,o){var c=t.state,f=c.dragChildrenKeys,u=c.flattenNodes,v=c.keyEntities,p=c.expandedKeys,m=c.indent,y=t.props,g=y.onDragOver,h=y.allowDrop,C=y.direction,x=pt(t),E=x.dragNode;if(E){var S=tr(r,E,o,m,t.dragStartMousePosition,h,u,v,p,C),k=S.dropPosition,R=S.dropLevelOffset,b=S.dropTargetKey,N=S.dropContainerKey,D=S.dropAllowed,F=S.dropTargetPos,w=S.dragOverNodeKey;f.indexOf(b)!==-1||!D||(E.props.eventKey===b&&R===0?t.state.dropPosition===null&&t.state.dropLevelOffset===null&&t.state.dropTargetKey===null&&t.state.dropContainerKey===null&&t.state.dropTargetPos===null&&t.state.dropAllowed===!1&&t.state.dragOverNodeKey===null||t.resetDragState():k===t.state.dropPosition&&R===t.state.dropLevelOffset&&b===t.state.dropTargetKey&&N===t.state.dropContainerKey&&F===t.state.dropTargetPos&&D===t.state.dropAllowed&&w===t.state.dragOverNodeKey||t.setState({dropPosition:k,dropLevelOffset:R,dropTargetKey:b,dropContainerKey:N,dropTargetPos:F,dropAllowed:D,dragOverNodeKey:w}),g==null||g({event:r,node:Me(o.props)}))}},t.onNodeDragLeave=function(r,o){t.currentMouseOverDroppableNodeKey===o.props.eventKey&&!r.currentTarget.contains(r.relatedTarget)&&(t.resetDragState(),t.currentMouseOverDroppableNodeKey=null);var c=t.props.onDragLeave;c==null||c({event:r,node:Me(o.props)})},t.onWindowDragEnd=function(r){t.onNodeDragEnd(r,null,!0),window.removeEventListener("dragend",t.onWindowDragEnd)},t.onNodeDragEnd=function(r,o){var c=t.props.onDragEnd;t.setState({dragOverNodeKey:null}),t.cleanDragState(),c==null||c({event:r,node:Me(o.props)}),t.dragNode=null,window.removeEventListener("dragend",t.onWindowDragEnd)},t.onNodeDrop=function(r,o){var c,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=t.state,v=u.dragChildrenKeys,p=u.dropPosition,m=u.dropTargetKey,y=u.dropTargetPos,g=u.dropAllowed;if(g){var h=t.props.onDrop;if(t.setState({dragOverNodeKey:null}),t.cleanDragState(),m!==null){var C=K(K({},$t(m,t.getTreeNodeRequiredProps())),{},{active:((c=t.getActiveItem())===null||c===void 0?void 0:c.key)===m,data:t.state.keyEntities[m].node}),x=v.indexOf(m)!==-1;lt(!x,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var E=Dn(y),S={event:r,node:Me(C),dragNode:t.dragNode?Me(t.dragNode.props):null,dragNodesKeys:[t.dragNode.props.eventKey].concat(v),dropToGap:p!==0,dropPosition:p+Number(E[E.length-1])};f||h==null||h(S),t.dragNode=null}}},t.cleanDragState=function(){var r=t.state.draggingNodeKey;r!==null&&t.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),t.dragStartMousePosition=null,t.currentMouseOverDroppableNodeKey=null},t.triggerExpandActionExpand=function(r,o){var c=t.state,f=c.expandedKeys,u=c.flattenNodes,v=o.expanded,p=o.key,m=o.isLeaf;if(!(m||r.shiftKey||r.metaKey||r.ctrlKey)){var y=u.filter(function(h){return h.key===p})[0],g=Me(K(K({},$t(p,t.getTreeNodeRequiredProps())),{},{data:y.data}));t.setExpandedKeys(v?et(f,p):ot(f,p)),t.onNodeExpand(r,g)}},t.onNodeClick=function(r,o){var c=t.props,f=c.onClick,u=c.expandAction;u==="click"&&t.triggerExpandActionExpand(r,o),f==null||f(r,o)},t.onNodeDoubleClick=function(r,o){var c=t.props,f=c.onDoubleClick,u=c.expandAction;u==="doubleClick"&&t.triggerExpandActionExpand(r,o),f==null||f(r,o)},t.onNodeSelect=function(r,o){var c=t.state.selectedKeys,f=t.state,u=f.keyEntities,v=f.fieldNames,p=t.props,m=p.onSelect,y=p.multiple,g=o.selected,h=o[v.key],C=!g;C?y?c=ot(c,h):c=[h]:c=et(c,h);var x=c.map(function(E){var S=u[E];return S?S.node:null}).filter(function(E){return E});t.setUncontrolledState({selectedKeys:c}),m==null||m(c,{event:"select",selected:C,node:o,selectedNodes:x,nativeEvent:r.nativeEvent})},t.onNodeCheck=function(r,o,c){var f=t.state,u=f.keyEntities,v=f.checkedKeys,p=f.halfCheckedKeys,m=t.props,y=m.checkStrictly,g=m.onCheck,h=o.key,C,x={event:"check",node:o,checked:c,nativeEvent:r.nativeEvent};if(y){var E=c?ot(v,h):et(v,h),S=et(p,h);C={checked:E,halfChecked:S},x.checkedNodes=E.map(function(F){return u[F]}).filter(function(F){return F}).map(function(F){return F.node}),t.setUncontrolledState({checkedKeys:E})}else{var k=Ot([].concat(le(v),[h]),!0,u),R=k.checkedKeys,b=k.halfCheckedKeys;if(!c){var N=new Set(R);N.delete(h);var D=Ot(Array.from(N),{checked:!1,halfCheckedKeys:b},u);R=D.checkedKeys,b=D.halfCheckedKeys}C=R,x.checkedNodes=[],x.checkedNodesPositions=[],x.halfCheckedKeys=b,R.forEach(function(F){var w=u[F];if(w){var O=w.node,T=w.pos;x.checkedNodes.push(O),x.checkedNodesPositions.push({node:O,pos:T})}}),t.setUncontrolledState({checkedKeys:R},!1,{halfCheckedKeys:b})}g==null||g(C,x)},t.onNodeLoad=function(r){var o=r.key,c=new Promise(function(f,u){t.setState(function(v){var p=v.loadedKeys,m=p===void 0?[]:p,y=v.loadingKeys,g=y===void 0?[]:y,h=t.props,C=h.loadData,x=h.onLoad;if(!C||m.indexOf(o)!==-1||g.indexOf(o)!==-1)return null;var E=C(r);return E.then(function(){var S=t.state.loadedKeys,k=ot(S,o);x==null||x(k,{event:"load",node:r}),t.setUncontrolledState({loadedKeys:k}),t.setState(function(R){return{loadingKeys:et(R.loadingKeys,o)}}),f()}).catch(function(S){if(t.setState(function(R){return{loadingKeys:et(R.loadingKeys,o)}}),t.loadingRetryTimes[o]=(t.loadingRetryTimes[o]||0)+1,t.loadingRetryTimes[o]>=Mi){var k=t.state.loadedKeys;lt(!1,"Retry for `loadData` many times but still failed. No more retry."),t.setUncontrolledState({loadedKeys:ot(k,o)}),f()}u(S)}),{loadingKeys:ot(g,o)}})});return c.catch(function(){}),c},t.onNodeMouseEnter=function(r,o){var c=t.props.onMouseEnter;c==null||c({event:r,node:o})},t.onNodeMouseLeave=function(r,o){var c=t.props.onMouseLeave;c==null||c({event:r,node:o})},t.onNodeContextMenu=function(r,o){var c=t.props.onRightClick;c&&(r.preventDefault(),c({event:r,node:o}))},t.onFocus=function(){var r=t.props.onFocus;t.setState({focused:!0});for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];r==null||r.apply(void 0,c)},t.onBlur=function(){var r=t.props.onBlur;t.setState({focused:!1}),t.onActiveChange(null);for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];r==null||r.apply(void 0,c)},t.getTreeNodeRequiredProps=function(){var r=t.state,o=r.expandedKeys,c=r.selectedKeys,f=r.loadedKeys,u=r.loadingKeys,v=r.checkedKeys,p=r.halfCheckedKeys,m=r.dragOverNodeKey,y=r.dropPosition,g=r.keyEntities;return{expandedKeys:o||[],selectedKeys:c||[],loadedKeys:f||[],loadingKeys:u||[],checkedKeys:v||[],halfCheckedKeys:p||[],dragOverNodeKey:m,dropPosition:y,keyEntities:g}},t.setExpandedKeys=function(r){var o=t.state,c=o.treeData,f=o.fieldNames,u=ln(c,r,f);t.setUncontrolledState({expandedKeys:r,flattenNodes:u},!0)},t.onNodeExpand=function(r,o){var c=t.state.expandedKeys,f=t.state,u=f.listChanging,v=f.fieldNames,p=t.props,m=p.onExpand,y=p.loadData,g=o.expanded,h=o[v.key];if(!u){var C=c.indexOf(h),x=!g;if(lt(g&&C!==-1||!g&&C===-1,"Expand state not sync with index check"),x?c=ot(c,h):c=et(c,h),t.setExpandedKeys(c),m==null||m(c,{node:o,expanded:x,nativeEvent:r.nativeEvent}),x&&y){var E=t.onNodeLoad(o);E&&E.then(function(){var S=ln(t.state.treeData,c,v);t.setUncontrolledState({flattenNodes:S})}).catch(function(){var S=t.state.expandedKeys,k=et(S,h);t.setExpandedKeys(k)})}}},t.onListChangeStart=function(){t.setUncontrolledState({listChanging:!0})},t.onListChangeEnd=function(){setTimeout(function(){t.setUncontrolledState({listChanging:!1})})},t.onActiveChange=function(r){var o=t.state.activeKey,c=t.props.onActiveChange;o!==r&&(t.setState({activeKey:r}),r!==null&&t.scrollTo({key:r}),c==null||c(r))},t.getActiveItem=function(){var r=t.state,o=r.activeKey,c=r.flattenNodes;return o===null?null:c.find(function(f){var u=f.key;return u===o})||null},t.offsetActiveKey=function(r){var o=t.state,c=o.flattenNodes,f=o.activeKey,u=c.findIndex(function(m){var y=m.key;return y===f});u===-1&&r<0&&(u=c.length),u=(u+r+c.length)%c.length;var v=c[u];if(v){var p=v.key;t.onActiveChange(p)}else t.onActiveChange(null)},t.onKeyDown=function(r){var o=t.state,c=o.activeKey,f=o.expandedKeys,u=o.checkedKeys,v=o.fieldNames,p=t.props,m=p.onKeyDown,y=p.checkable,g=p.selectable;switch(r.which){case St.UP:{t.offsetActiveKey(-1),r.preventDefault();break}case St.DOWN:{t.offsetActiveKey(1),r.preventDefault();break}}var h=t.getActiveItem();if(h&&h.data){var C=t.getTreeNodeRequiredProps(),x=h.data.isLeaf===!1||!!(h.data[v.children]||[]).length,E=Me(K(K({},$t(c,C)),{},{data:h.data,active:!0}));switch(r.which){case St.LEFT:{x&&f.includes(c)?t.onNodeExpand({},E):h.parent&&t.onActiveChange(h.parent.key),r.preventDefault();break}case St.RIGHT:{x&&!f.includes(c)?t.onNodeExpand({},E):h.children&&h.children.length&&t.onActiveChange(h.children[0].key),r.preventDefault();break}case St.ENTER:case St.SPACE:{y&&!E.disabled&&E.checkable!==!1&&!E.disableCheckbox?t.onNodeCheck({},E,!u.includes(c)):!y&&g&&!E.disabled&&E.selectable!==!1&&t.onNodeSelect({},E);break}}}m==null||m(r)},t.setUncontrolledState=function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!t.destroyed){var f=!1,u=!0,v={};Object.keys(r).forEach(function(p){if(p in t.props){u=!1;return}f=!0,v[p]=r[p]}),f&&(!o||u)&&t.setState(K(K({},v),c))}},t.scrollTo=function(r){t.listRef.current.scrollTo(r)},t}return kr(a,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props.activeKey;i!==void 0&&i!==this.state.activeKey&&(this.setState({activeKey:i}),i!==null&&this.scrollTo({key:i}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i,s=this.state,d=s.focused,r=s.flattenNodes,o=s.keyEntities,c=s.draggingNodeKey,f=s.activeKey,u=s.dropLevelOffset,v=s.dropContainerKey,p=s.dropTargetKey,m=s.dropPosition,y=s.dragOverNodeKey,g=s.indent,h=this.props,C=h.prefixCls,x=h.className,E=h.style,S=h.showLine,k=h.focusable,R=h.tabIndex,b=R===void 0?0:R,N=h.selectable,D=h.showIcon,F=h.icon,w=h.switcherIcon,O=h.draggable,T=h.checkable,B=h.checkStrictly,I=h.disabled,_=h.motion,$=h.loadData,U=h.filterTreeNode,Z=h.height,ne=h.itemHeight,X=h.virtual,q=h.titleRender,ce=h.dropIndicatorRender,ye=h.onContextMenu,pe=h.onScroll,se=h.direction,fe=h.rootClassName,xe=h.rootStyle,Ce=kn(this.props,{aria:!0,data:!0}),ae;return O&&(Fe(O)==="object"?ae=O:typeof O=="function"?ae={nodeDraggable:O}:ae={}),l.createElement(Kn.Provider,{value:{prefixCls:C,selectable:N,showIcon:D,icon:F,switcherIcon:w,draggable:ae,draggingNodeKey:c,checkable:T,checkStrictly:B,disabled:I,keyEntities:o,dropLevelOffset:u,dropContainerKey:v,dropTargetKey:p,dropPosition:m,dragOverNodeKey:y,indent:g,direction:se,dropIndicatorRender:ce,loadData:$,filterTreeNode:U,titleRender:q,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},l.createElement("div",{role:"tree",className:te(C,x,fe,(i={},M(i,"".concat(C,"-show-line"),S),M(i,"".concat(C,"-focused"),d),M(i,"".concat(C,"-active-focused"),f!==null),i)),style:xe},l.createElement(oa,A({ref:this.listRef,prefixCls:C,style:E,data:r,disabled:I,selectable:N,checkable:!!T,motion:_,dragging:c!==null,height:Z,itemHeight:ne,virtual:X,focusable:k,focused:d,tabIndex:b,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ye,onScroll:pe},this.getTreeNodeRequiredProps(),Ce))))}}],[{key:"getDerivedStateFromProps",value:function(i,s){var d=s.prevProps,r={prevProps:i};function o(k){return!d&&k in i||d&&d[k]!==i[k]}var c,f=s.fieldNames;if(o("fieldNames")&&(f=Gt(i.fieldNames),r.fieldNames=f),o("treeData")?c=i.treeData:o("children")&&(lt(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),c=ta(i.children)),c){r.treeData=c;var u=Rn(c,{fieldNames:f});r.keyEntities=K(M({},kt,aa),u.keyEntities)}var v=r.keyEntities||s.keyEntities;if(o("expandedKeys")||d&&o("autoExpandParent"))r.expandedKeys=i.autoExpandParent||!d&&i.defaultExpandParent?pn(i.expandedKeys,v):i.expandedKeys;else if(!d&&i.defaultExpandAll){var p=K({},v);delete p[kt],r.expandedKeys=Object.keys(p).map(function(k){return p[k].key})}else!d&&i.defaultExpandedKeys&&(r.expandedKeys=i.autoExpandParent||i.defaultExpandParent?pn(i.defaultExpandedKeys,v):i.defaultExpandedKeys);if(r.expandedKeys||delete r.expandedKeys,c||r.expandedKeys){var m=ln(c||s.treeData,r.expandedKeys||s.expandedKeys,f);r.flattenNodes=m}if(i.selectable&&(o("selectedKeys")?r.selectedKeys=nr(i.selectedKeys,i):!d&&i.defaultSelectedKeys&&(r.selectedKeys=nr(i.defaultSelectedKeys,i))),i.checkable){var y;if(o("checkedKeys")?y=cn(i.checkedKeys)||{}:!d&&i.defaultCheckedKeys?y=cn(i.defaultCheckedKeys)||{}:c&&(y=cn(i.checkedKeys)||{checkedKeys:s.checkedKeys,halfCheckedKeys:s.halfCheckedKeys}),y){var g=y,h=g.checkedKeys,C=h===void 0?[]:h,x=g.halfCheckedKeys,E=x===void 0?[]:x;if(!i.checkStrictly){var S=Ot(C,!0,v);C=S.checkedKeys,E=S.halfCheckedKeys}r.checkedKeys=C,r.halfCheckedKeys=E}}return o("loadedKeys")&&(r.loadedKeys=i.loadedKeys),r}}]),a}(l.Component);On.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Li,allowDrop:function(){return!0},expandAction:!1};On.TreeNode=Nt;var it;(function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"})(it||(it={}));function Pn(e,n){function a(t){var i=t.key,s=t.children;n(i,t)!==!1&&Pn(s||[],n)}e.forEach(a)}function Ii(e){var n=e.treeData,a=e.expandedKeys,t=e.startKey,i=e.endKey,s=[],d=it.None;if(t&&t===i)return[t];if(!t||!i)return[];function r(o){return o===t||o===i}return Pn(n,function(o){if(d===it.End)return!1;if(r(o)){if(s.push(o),d===it.None)d=it.Start;else if(d===it.Start)return d=it.End,!1}else d===it.Start&&s.push(o);return a.indexOf(o)!==-1}),s}function sn(e,n){var a=le(n),t=[];return Pn(e,function(i,s){var d=a.indexOf(i);return d!==-1&&(t.push(s),a.splice(d,1)),!!a.length}),t}var cr=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(a[t[i]]=e[t[i]]);return a};function $i(e){var n=e.isLeaf,a=e.expanded;return n?l.createElement(wr,null):a?l.createElement(uo,null):l.createElement(po,null)}function sr(e){var n=e.treeData,a=e.children;return n||ta(a)}var Fi=function(n,a){var t=n.defaultExpandAll,i=n.defaultExpandParent,s=n.defaultExpandedKeys,d=cr(n,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),r=l.useRef(),o=l.useRef(),c=l.createRef();l.useImperativeHandle(a,function(){return c.current});var f=function(){var $=Rn(sr(d)),U=$.keyEntities,Z;return t?Z=Object.keys(U):i?Z=pn(d.expandedKeys||s||[],U):Z=d.expandedKeys||s,Z},u=l.useState(d.selectedKeys||d.defaultSelectedKeys||[]),v=G(u,2),p=v[0],m=v[1],y=l.useState(function(){return f()}),g=G(y,2),h=g[0],C=g[1];l.useEffect(function(){"selectedKeys"in d&&m(d.selectedKeys)},[d.selectedKeys]),l.useEffect(function(){"expandedKeys"in d&&C(d.expandedKeys)},[d.expandedKeys]);var x=function($,U){var Z;return"expandedKeys"in d||C($),(Z=d.onExpand)===null||Z===void 0?void 0:Z.call(d,$,U)},E=function($,U){var Z,ne=d.multiple,X=U.node,q=U.nativeEvent,ce=X.key,ye=ce===void 0?"":ce,pe=sr(d),se=A(A({},U),{selected:!0}),fe=(q==null?void 0:q.ctrlKey)||(q==null?void 0:q.metaKey),xe=q==null?void 0:q.shiftKey,Ce;ne&&fe?(Ce=$,r.current=ye,o.current=Ce,se.selectedNodes=sn(pe,Ce)):ne&&xe?(Ce=Array.from(new Set([].concat(le(o.current||[]),le(Ii({treeData:pe,expandedKeys:h,startKey:ye,endKey:r.current}))))),se.selectedNodes=sn(pe,Ce)):(Ce=[ye],r.current=ye,o.current=Ce,se.selectedNodes=sn(pe,Ce)),(Z=d.onSelect)===null||Z===void 0||Z.call(d,Ce,se),"selectedKeys"in d||m(Ce)},S=l.useContext(Ft),k=S.getPrefixCls,R=S.direction,b=d.prefixCls,N=d.className,D=d.showIcon,F=D===void 0?!0:D,w=d.expandAction,O=w===void 0?"click":w,T=cr(d,["prefixCls","className","showIcon","expandAction"]),B=k("tree",b),I=te("".concat(B,"-directory"),M({},"".concat(B,"-directory-rtl"),R==="rtl"),N);return l.createElement(la,A({icon:$i,ref:c,blockNode:!0},T,{showIcon:F,expandAction:O,prefixCls:B,className:I,expandedKeys:h,selectedKeys:p,onSelect:E,onExpand:x}))},Ai=l.forwardRef(Fi);const _i=Ai;var dr=4;function Hi(e){var n,a=e.dropPosition,t=e.dropLevelOffset,i=e.prefixCls,s=e.indent,d=e.direction,r=d===void 0?"ltr":d,o=r==="ltr"?"left":"right",c=r==="ltr"?"right":"left",f=(n={},M(n,o,-t*s+dr),M(n,c,0),n);switch(a){case-1:f.top=-3;break;case 1:f.bottom=-3;break;default:f.bottom=-3,f[o]=s+dr;break}return Pa.createElement("div",{style:f,className:"".concat(i,"-drop-indicator")})}function zi(e,n,a,t){var i=t.isLeaf,s=t.expanded,d=t.loading;if(d)return l.createElement(Ta,{className:"".concat(e,"-switcher-loading-icon")});var r;if(a&&Fe(a)==="object"&&(r=a.showLeafIcon),i){if(!a)return null;if(typeof r!="boolean"&&r){var o=typeof r=="function"?r(t):r,c="".concat(e,"-switcher-line-custom-icon");return Vn(o)?Un(o,{className:te(o.props.className||"",c)}):o}return r?l.createElement(wr,{className:"".concat(e,"-switcher-line-icon")}):l.createElement("span",{className:"".concat(e,"-switcher-leaf-line")})}var f="".concat(e,"-switcher-icon"),u=typeof n=="function"?n(t):n;return Vn(u)?Un(u,{className:te(u.props.className||"",f)}):u||(a?s?l.createElement(xo,{className:"".concat(e,"-switcher-line-icon")}):l.createElement(No,{className:"".concat(e,"-switcher-line-icon")}):l.createElement(Za,{className:f}))}var Tn=l.forwardRef(function(e,n){var a,t=l.useContext(Ft),i=t.getPrefixCls,s=t.direction,d=t.virtual,r=e.prefixCls,o=e.className,c=e.showIcon,f=c===void 0?!1:c,u=e.showLine,v=e.switcherIcon,p=e.blockNode,m=p===void 0?!1:p,y=e.children,g=e.checkable,h=g===void 0?!1:g,C=e.selectable,x=C===void 0?!0:C,E=e.draggable,S=e.motion,k=S===void 0?A(A({},La),{motionAppear:!1}):S,R=i("tree",r),b=A(A({},e),{checkable:h,selectable:x,showIcon:f,motion:k,blockNode:m,showLine:Boolean(u),dropIndicatorRender:Hi}),N=l.useMemo(function(){if(!E)return!1;var D={};switch(Fe(E)){case"function":D.nodeDraggable=E;break;case"object":D=A({},E);break}return D.icon!==!1&&(D.icon=D.icon||l.createElement(go,null)),D},[E]);return l.createElement(On,A({itemHeight:20,ref:n,virtual:d},b,{prefixCls:R,className:te((a={},M(a,"".concat(R,"-icon-hide"),!f),M(a,"".concat(R,"-block-node"),m),M(a,"".concat(R,"-unselectable"),!x),M(a,"".concat(R,"-rtl"),s==="rtl"),a),o),direction:s,checkable:h&&l.createElement("span",{className:"".concat(R,"-checkbox-inner")}),selectable:x,switcherIcon:function(F){return zi(R,v,u,F)},draggable:N}),y)});Tn.TreeNode=Nt;Tn.DirectoryTree=_i;const la=Tn;function Bi(e){var n=l.useRef(e),a=Ma();return[function(){return n.current},function(t){n.current=t,a()}]}function ur(e){var n=e.value,a=e.onChange,t=e.filterSearch,i=e.tablePrefixCls,s=e.locale;return t?l.createElement("div",{className:"".concat(i,"-filter-dropdown-search")},l.createElement(Ia,{prefix:l.createElement($a,null),placeholder:s.filterSearchPlaceholder,onChange:a,value:n,htmlSize:1,className:"".concat(i,"-filter-dropdown-search-input")})):null}var Wi=function(n){return l.createElement("div",{className:n.className,onClick:function(t){return t.stopPropagation()}},n.children)};const Vi=Wi;function Ui(e){return e.some(function(n){var a=n.children;return a})}function ca(e,n){return typeof n=="string"||typeof n=="number"?n==null?void 0:n.toString().toLowerCase().includes(e.trim().toLowerCase()):!1}function sa(e){var n=e.filters,a=e.prefixCls,t=e.filteredKeys,i=e.filterMultiple,s=e.searchValue,d=e.filterSearch;return n.map(function(r,o){var c=String(r.value);if(r.children)return{key:c||o,label:r.text,popupClassName:"".concat(a,"-dropdown-submenu"),children:sa({filters:r.children,prefixCls:a,filteredKeys:t,filterMultiple:i,searchValue:s,filterSearch:d})};var f=i?jt:Rr,u={key:r.value!==void 0?c:o,label:l.createElement(l.Fragment,null,l.createElement(f,{checked:t.includes(c)}),l.createElement("span",null,r.text))};return s.trim()?typeof d=="function"?d(s,r)?u:null:ca(s,r.text)?u:null:u})}function ji(e){var n,a=e.tablePrefixCls,t=e.prefixCls,i=e.column,s=e.dropdownPrefixCls,d=e.columnKey,r=e.filterMultiple,o=e.filterMode,c=o===void 0?"menu":o,f=e.filterSearch,u=f===void 0?!1:f,v=e.filterState,p=e.triggerFilter,m=e.locale,y=e.children,g=e.getPopupContainer,h=i.filterDropdownOpen,C=i.onFilterDropdownOpenChange,x=i.filterDropdownVisible,E=i.onFilterDropdownVisibleChange,S=i.filterResetToDefaultFilteredValue,k=i.defaultFilteredValue,R=l.useState(!1),b=G(R,2),N=b[0],D=b[1],F=!!(v&&(!((n=v.filteredKeys)===null||n===void 0)&&n.length||v.forceFiltered)),w=function(V){D(V),C==null||C(V),E==null||E(V)},O;typeof h=="boolean"?O=h:O=typeof x=="boolean"?x:N;var T=v==null?void 0:v.filteredKeys,B=Bi(T||[]),I=G(B,2),_=I[0],$=I[1],U=function(V){var me=V.selectedKeys;$(me)},Z=function(V,me){var Ke=me.node,He=me.checked;U(r?{selectedKeys:V}:{selectedKeys:He&&Ke.key?[Ke.key]:[]})};l.useEffect(function(){N&&U({selectedKeys:T||[]})},[T]);var ne=l.useState([]),X=G(ne,2),q=X[0],ce=X[1],ye=function(V){ce(V)},pe=l.useState(""),se=G(pe,2),fe=se[0],xe=se[1],Ce=function(V){var me=V.target.value;xe(me)};l.useEffect(function(){N||xe("")},[N]);var ae=function(V){var me=V&&V.length?V:null;if(me===null&&(!v||!v.filteredKeys)||qn(me,v==null?void 0:v.filteredKeys))return null;p({column:i,key:d,filteredKeys:me})},Ne=function(){w(!1),ae(_())},oe=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1},me=V.confirm,Ke=V.closeDropdown;me&&ae([]),Ke&&w(!1),xe(""),$(S?(k||[]).map(function(He){return String(He)}):[])},ue=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0},me=V.closeDropdown;me&&w(!1),ae(_())},de=function(V){V&&T!==void 0&&$(T||[]),w(V),!V&&!i.filterDropdown&&Ne()},Oe=te(M({},"".concat(s,"-menu-without-submenu"),!Ui(i.filters||[]))),we=function(V){if(V.target.checked){var me=Pt(i==null?void 0:i.filters).map(function(Ke){return String(Ke)});$(me)}else $([])},Ie=function ie(V){var me=V.filters;return(me||[]).map(function(Ke,He){var Qe=String(Ke.value),We={title:Ke.text,key:Ke.value!==void 0?Qe:He};return Ke.children&&(We.children=ie({filters:Ke.children})),We})},J=function ie(V){var me;return A(A({},V),{text:V.title,value:V.key,children:((me=V.children)===null||me===void 0?void 0:me.map(function(Ke){return ie(Ke)}))||[]})},H;if(typeof i.filterDropdown=="function")H=i.filterDropdown({prefixCls:"".concat(s,"-custom"),setSelectedKeys:function(V){return U({selectedKeys:V})},selectedKeys:_(),confirm:ue,clearFilters:oe,filters:i.filters,visible:O});else if(i.filterDropdown)H=i.filterDropdown;else{var z=_()||[],L=function(){return(i.filters||[]).length===0?l.createElement(Gn,{image:Gn.PRESENTED_IMAGE_SIMPLE,description:m.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):c==="tree"?l.createElement(l.Fragment,null,l.createElement(ur,{filterSearch:u,value:fe,onChange:Ce,tablePrefixCls:a,locale:m}),l.createElement("div",{className:"".concat(a,"-filter-dropdown-tree")},r?l.createElement(jt,{checked:z.length===Pt(i.filters).length,indeterminate:z.length>0&&z.length<Pt(i.filters).length,className:"".concat(a,"-filter-dropdown-checkall"),onChange:we},m.filterCheckall):null,l.createElement(la,{checkable:!0,selectable:!1,blockNode:!0,multiple:r,checkStrictly:!r,className:"".concat(s,"-menu"),onCheck:Z,checkedKeys:z,selectedKeys:z,showIcon:!1,treeData:Ie({filters:i.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:fe.trim()?function(V){return typeof u=="function"?u(fe,J(V)):ca(fe,V.title)}:void 0}))):l.createElement(l.Fragment,null,l.createElement(ur,{filterSearch:u,value:fe,onChange:Ce,tablePrefixCls:a,locale:m}),l.createElement(Kr,{selectable:!0,multiple:r,prefixCls:"".concat(s,"-menu"),className:Oe,onSelect:U,onDeselect:U,selectedKeys:z,getPopupContainer:g,openKeys:q,onOpenChange:ye,items:sa({filters:i.filters||[],filterSearch:u,prefixCls:t,filteredKeys:_(),filterMultiple:r,searchValue:fe})}))},P=function(){return S?qn((k||[]).map(function(V){return String(V)}),z):z.length===0};H=l.createElement(l.Fragment,null,L(),l.createElement("div",{className:"".concat(t,"-dropdown-btns")},l.createElement(jn,{type:"link",size:"small",disabled:P(),onClick:function(){return oe()}},m.filterReset),l.createElement(jn,{type:"primary",size:"small",onClick:Ne},m.filterConfirm)))}i.filterDropdown&&(H=l.createElement(Fa,{selectable:void 0},H));var j=l.createElement(Vi,{className:"".concat(t,"-dropdown")},H),he;typeof i.filterIcon=="function"?he=i.filterIcon(F):i.filterIcon?he=i.filterIcon:he=l.createElement(lo,null);var be=l.useContext(Ft),Se=be.direction;return l.createElement("div",{className:"".concat(t,"-column")},l.createElement("span",{className:"".concat(a,"-column-title")},y),l.createElement(br,{overlay:j,trigger:["click"],open:O,onOpenChange:de,getPopupContainer:g,placement:Se==="rtl"?"bottomLeft":"bottomRight"},l.createElement("span",{role:"button",tabIndex:-1,className:te("".concat(t,"-trigger"),{active:F}),onClick:function(V){V.stopPropagation()}},he)))}function mn(e,n,a){var t=[];return(e||[]).forEach(function(i,s){var d,r=Zt(s,a);if(i.filters||"filterDropdown"in i||"onFilter"in i)if("filteredValue"in i){var o=i.filteredValue;"filterDropdown"in i||(o=(d=o==null?void 0:o.map(String))!==null&&d!==void 0?d:o),t.push({column:i,key:Tt(i,r),filteredKeys:o,forceFiltered:i.filtered})}else t.push({column:i,key:Tt(i,r),filteredKeys:n&&i.defaultFilteredValue?i.defaultFilteredValue:void 0,forceFiltered:i.filtered});"children"in i&&(t=[].concat(le(t),le(mn(i.children,n,r))))}),t}function da(e,n,a,t,i,s,d,r){return a.map(function(o,c){var f=Zt(c,r),u=o.filterMultiple,v=u===void 0?!0:u,p=o.filterMode,m=o.filterSearch,y=o;if(y.filters||y.filterDropdown){var g=Tt(y,f),h=t.find(function(C){var x=C.key;return g===x});y=A(A({},y),{title:function(x){return l.createElement(ji,{tablePrefixCls:e,prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:n,column:y,columnKey:g,filterState:h,filterMultiple:v,filterMode:p,filterSearch:m,triggerFilter:i,locale:d,getPopupContainer:s},It(o.title,x))}})}return"children"in y&&(y=A(A({},y),{children:da(e,n,y.children,t,i,s,d,f)})),y})}function Pt(e){var n=[];return(e||[]).forEach(function(a){var t=a.value,i=a.children;n.push(t),i&&(n=[].concat(le(n),le(Pt(i))))}),n}function fr(e){var n={};return e.forEach(function(a){var t=a.key,i=a.filteredKeys,s=a.column,d=s.filters,r=s.filterDropdown;if(r)n[t]=i||null;else if(Array.isArray(i)){var o=Pt(d);n[t]=o.filter(function(c){return i.includes(String(c))})}else n[t]=null}),n}function vr(e,n){return n.reduce(function(a,t){var i=t.column,s=i.onFilter,d=i.filters,r=t.filteredKeys;return s&&r&&r.length?a.filter(function(o){return r.some(function(c){var f=Pt(d),u=f.findIndex(function(p){return String(p)===String(c)}),v=u!==-1?f[u]:c;return s(v,o)})}):a},e)}function Gi(e){var n=e.prefixCls,a=e.dropdownPrefixCls,t=e.mergedColumns,i=e.onFilterChange,s=e.getPopupContainer,d=e.locale,r=l.useState(function(){return mn(t,!0)}),o=G(r,2),c=o[0],f=o[1],u=l.useMemo(function(){var y=mn(t,!1),g=!0;return y.forEach(function(h){var C=h.filteredKeys;C!==void 0&&(g=!1)}),g?c:y},[t,c]),v=l.useMemo(function(){return fr(u)},[u]),p=function(g){var h=u.filter(function(C){var x=C.key;return x!==g.key});h.push(g),f(h),i(fr(h),h)},m=function(g){return da(n,a,g,u,p,s,d)};return[m,u,v]}function qi(e,n,a){var t=l.useRef({});function i(s){if(!t.current||t.current.data!==e||t.current.childrenColumnName!==n||t.current.getRowKey!==a){let r=function(o){o.forEach(function(c,f){var u=a(c,f);d.set(u,c),c&&Fe(c)==="object"&&n in c&&r(c[n]||[])})};var d=new Map;r(e),t.current={data:e,childrenColumnName:n,kvMap:d,getRowKey:a}}return t.current.kvMap.get(s)}return[i]}var Xi=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(a[t[i]]=e[t[i]]);return a},ua=10;function Yi(e,n){var a={current:n.current,pageSize:n.pageSize},t=e&&Fe(e)==="object"?e:{};return Object.keys(t).forEach(function(i){var s=n[i];typeof s!="function"&&(a[i]=s)}),a}function Qi(){for(var e={},n=arguments.length,a=new Array(n),t=0;t<n;t++)a[t]=arguments[t];return a.forEach(function(i){i&&Object.keys(i).forEach(function(s){var d=i[s];d!==void 0&&(e[s]=d)})}),e}function Zi(e,n,a){var t=n&&Fe(n)==="object"?n:{},i=t.total,s=i===void 0?0:i,d=Xi(t,["total"]),r=l.useState(function(){return{current:"defaultCurrent"in d?d.defaultCurrent:1,pageSize:"defaultPageSize"in d?d.defaultPageSize:ua}}),o=G(r,2),c=o[0],f=o[1],u=Qi(c,d,{total:s>0?s:e}),v=Math.ceil((s||e)/u.pageSize);u.current>v&&(u.current=v||1);var p=function(g,h){f({current:g??1,pageSize:h||u.pageSize})},m=function(g,h){var C;n&&((C=n.onChange)===null||C===void 0||C.call(n,g,h)),p(g,h),a(g,h||(u==null?void 0:u.pageSize))};return n===!1?[{},function(){}]:[A(A({},u),{onChange:m}),p]}var vt={},gn="SELECT_ALL",yn="SELECT_INVERT",Cn="SELECT_NONE",pr=[];function fa(e,n){var a=[];return(e||[]).forEach(function(t){a.push(t),t&&Fe(t)==="object"&&n in t&&(a=[].concat(le(a),le(fa(t[n],n))))}),a}function Ji(e,n){var a=e||{},t=a.preserveSelectedRowKeys,i=a.selectedRowKeys,s=a.defaultSelectedRowKeys,d=a.getCheckboxProps,r=a.onChange,o=a.onSelect,c=a.onSelectAll,f=a.onSelectInvert,u=a.onSelectNone,v=a.onSelectMultiple,p=a.columnWidth,m=a.type,y=a.selections,g=a.fixed,h=a.renderCell,C=a.hideSelectAll,x=a.checkStrictly,E=x===void 0?!0:x,S=n.prefixCls,k=n.data,R=n.pageData,b=n.getRecordByKey,N=n.getRowKey,D=n.expandType,F=n.childrenColumnName,w=n.locale,O=n.getPopupContainer,T=Aa(i||s||pr,{value:i}),B=G(T,2),I=B[0],_=B[1],$=l.useRef(new Map),U=l.useCallback(function(J){if(t){var H=new Map;J.forEach(function(z){var L=b(z);!L&&$.current.has(z)&&(L=$.current.get(z)),H.set(z,L)}),$.current=H}},[b,t]);l.useEffect(function(){U(I)},[I]);var Z=l.useMemo(function(){return E?{keyEntities:null}:Rn(k,{externalGetKey:N,childrenPropName:F})},[k,N,E,F]),ne=Z.keyEntities,X=l.useMemo(function(){return fa(R,F)},[R,F]),q=l.useMemo(function(){var J=new Map;return X.forEach(function(H,z){var L=N(H,z),P=(d?d(H):null)||{};J.set(L,P)}),J},[X,N,d]),ce=l.useCallback(function(J){var H;return!!(!((H=q.get(N(J)))===null||H===void 0)&&H.disabled)},[q,N]),ye=l.useMemo(function(){if(E)return[I||[],[]];var J=Ot(I,!0,ne,ce),H=J.checkedKeys,z=J.halfCheckedKeys;return[H||[],z]},[I,E,ne,ce]),pe=G(ye,2),se=pe[0],fe=pe[1],xe=l.useMemo(function(){var J=m==="radio"?se.slice(0,1):se;return new Set(J)},[se,m]),Ce=l.useMemo(function(){return m==="radio"?new Set:new Set(fe)},[fe,m]),ae=l.useState(null),Ne=G(ae,2),oe=Ne[0],ue=Ne[1];l.useEffect(function(){e||_(pr)},[!!e]);var de=l.useCallback(function(J,H){var z,L;U(J),t?(z=J,L=J.map(function(P){return $.current.get(P)})):(z=[],L=[],J.forEach(function(P){var j=b(P);j!==void 0&&(z.push(P),L.push(j))})),_(z),r==null||r(z,L,{type:H})},[_,b,r,t]),Oe=l.useCallback(function(J,H,z,L){if(o){var P=z.map(function(j){return b(j)});o(b(J),H,P,L)}de(z,"single")},[o,b,de]),we=l.useMemo(function(){if(!y||C)return null;var J=y===!0?[gn,yn,Cn]:y;return J.map(function(H){return H===gn?{key:"all",text:w.selectionAll,onSelect:function(){de(k.map(function(L,P){return N(L,P)}).filter(function(L){var P=q.get(L);return!(P!=null&&P.disabled)||xe.has(L)}),"all")}}:H===yn?{key:"invert",text:w.selectInvert,onSelect:function(){var L=new Set(xe);R.forEach(function(j,he){var be=N(j,he),Se=q.get(be);Se!=null&&Se.disabled||(L.has(be)?L.delete(be):L.add(be))});var P=Array.from(L);f&&f(P),de(P,"invert")}}:H===Cn?{key:"none",text:w.selectNone,onSelect:function(){u==null||u(),de(Array.from(xe).filter(function(L){var P=q.get(L);return P==null?void 0:P.disabled}),"none")}}:H}).map(function(H){return A(A({},H),{onSelect:function(){for(var L,P,j=arguments.length,he=new Array(j),be=0;be<j;be++)he[be]=arguments[be];(P=H.onSelect)===null||P===void 0||(L=P).call.apply(L,[H].concat(he)),ue(null)}})})},[y,xe,R,N,f,de]),Ie=l.useCallback(function(J){var H;if(!e)return J.filter(function(Y){return Y!==vt});var z=le(J),L=new Set(xe),P=X.map(N).filter(function(Y){return!q.get(Y).disabled}),j=P.every(function(Y){return L.has(Y)}),he=P.some(function(Y){return L.has(Y)}),be=function(){var W=[];j?P.forEach(function(ge){L.delete(ge),W.push(ge)}):P.forEach(function(ge){L.has(ge)||(L.add(ge),W.push(ge))});var ke=Array.from(L);c==null||c(!j,ke.map(function(ge){return b(ge)}),W.map(function(ge){return b(ge)})),de(ke,"all"),ue(null)},Se;if(m!=="radio"){var ie;if(we){var V=l.createElement(Kr,{getPopupContainer:O,items:we.map(function(Y,W){var ke=Y.key,ge=Y.text,Te=Y.onSelect;return{key:ke||W,onClick:function(){Te==null||Te(P)},label:ge}})});ie=l.createElement("div",{className:"".concat(S,"-selection-extra")},l.createElement(br,{overlay:V,getPopupContainer:O},l.createElement("span",null,l.createElement(Ha,null))))}var me=X.map(function(Y,W){var ke=N(Y,W),ge=q.get(ke)||{};return A({checked:L.has(ke)},ge)}).filter(function(Y){var W=Y.disabled;return W}),Ke=!!me.length&&me.length===X.length,He=Ke&&me.every(function(Y){var W=Y.checked;return W}),Qe=Ke&&me.some(function(Y){var W=Y.checked;return W});Se=!C&&l.createElement("div",{className:"".concat(S,"-selection")},l.createElement(jt,{checked:Ke?He:!!X.length&&j,indeterminate:Ke?!He&&Qe:!j&&he,onChange:be,disabled:X.length===0||Ke,skipGroup:!0}),ie)}var We;m==="radio"?We=function(W,ke,ge){var Te=N(ke,ge),Ee=L.has(Te);return{node:l.createElement(Rr,A({},q.get(Te),{checked:Ee,onClick:function(Ze){return Ze.stopPropagation()},onChange:function(Ze){L.has(Te)||Oe(Te,!0,[Te],Ze.nativeEvent)}})),checked:Ee}}:We=function(W,ke,ge){var Te,Ee=N(ke,ge),Re=L.has(Ee),Ze=Ce.has(Ee),ut=q.get(Ee),yt;return D==="nest"?yt=Ze:yt=(Te=ut==null?void 0:ut.indeterminate)!==null&&Te!==void 0?Te:Ze,{node:l.createElement(jt,A({},ut,{indeterminate:yt,checked:Re,skipGroup:!0,onClick:function(Je){return Je.stopPropagation()},onChange:function(Je){var $e=Je.nativeEvent,Ge=$e.shiftKey,qe=-1,Ae=-1;if(Ge&&E){var nt=new Set([oe,Ee]);P.some(function(_e,Lt){if(nt.has(_e))if(qe===-1)qe=Lt;else return Ae=Lt,!0;return!1})}if(Ae!==-1&&qe!==Ae&&E){var rt=P.slice(qe,Ae+1),Ct=[];Re?rt.forEach(function(_e){L.has(_e)&&(Ct.push(_e),L.delete(_e))}):rt.forEach(function(_e){L.has(_e)||(Ct.push(_e),L.add(_e))});var at=Array.from(L);v==null||v(!Re,at.map(function(_e){return b(_e)}),Ct.map(function(_e){return b(_e)})),de(at,"multiple")}else{var xt=se;if(E){var ee=Re?et(xt,Ee):ot(xt,Ee);Oe(Ee,!Re,ee,$e)}else{var re=Ot([].concat(le(xt),[Ee]),!0,ne,ce),De=re.checkedKeys,Xe=re.halfCheckedKeys,Pe=De;if(Re){var Dt=new Set(De);Dt.delete(Ee),Pe=Ot(Array.from(Dt),{checked:!1,halfCheckedKeys:Xe},ne,ce).checkedKeys}Oe(Ee,!Re,Pe,$e)}}ue(Re?null:Ee)}})),checked:Re}};var ht=function(W,ke,ge){var Te=We(W,ke,ge),Ee=Te.node,Re=Te.checked;return h?h(Re,ke,ge,Ee):Ee};if(!z.includes(vt))if(z.findIndex(function(Y){var W;return((W=Y[Mt])===null||W===void 0?void 0:W.columnType)==="EXPAND_COLUMN"})===0){var mt=z,ze=_a(mt),Be=ze[0],bt=ze.slice(1);z=[Be,vt].concat(le(bt))}else z=[vt].concat(le(z));var gt=z.indexOf(vt);z=z.filter(function(Y,W){return Y!==vt||W===gt});var Ve=z[gt-1],dt=z[gt+1],je=g;je===void 0&&((dt==null?void 0:dt.fixed)!==void 0?je=dt.fixed:(Ve==null?void 0:Ve.fixed)!==void 0&&(je=Ve.fixed)),je&&Ve&&((H=Ve[Mt])===null||H===void 0?void 0:H.columnType)==="EXPAND_COLUMN"&&Ve.fixed===void 0&&(Ve.fixed=je);var Kt=M({fixed:je,width:p,className:"".concat(S,"-selection-column"),title:e.columnTitle||Se,render:ht},Mt,{className:"".concat(S,"-selection-col")});return z.map(function(Y){return Y===vt?Kt:Y})},[N,X,e,se,xe,Ce,p,we,D,oe,q,v,Oe,ce]);return[Ie,xe]}var Ut="ascend",dn="descend";function qt(e){return Fe(e.sorter)==="object"&&typeof e.sorter.multiple=="number"?e.sorter.multiple:!1}function hr(e){return typeof e=="function"?e:e&&Fe(e)==="object"&&e.compare?e.compare:!1}function el(e,n){return n?e[e.indexOf(n)+1]:e[0]}function xn(e,n,a){var t=[];function i(s,d){t.push({column:s,key:Tt(s,d),multiplePriority:qt(s),sortOrder:s.sortOrder})}return(e||[]).forEach(function(s,d){var r=Zt(d,a);s.children?("sortOrder"in s&&i(s,r),t=[].concat(le(t),le(xn(s.children,n,r)))):s.sorter&&("sortOrder"in s?i(s,r):n&&s.defaultSortOrder&&t.push({column:s,key:Tt(s,r),multiplePriority:qt(s),sortOrder:s.defaultSortOrder}))}),t}function va(e,n,a,t,i,s,d,r){return(n||[]).map(function(o,c){var f=Zt(c,r),u=o;if(u.sorter){var v=u.sortDirections||i,p=u.showSorterTooltip===void 0?d:u.showSorterTooltip,m=Tt(u,f),y=a.find(function(D){var F=D.key;return F===m}),g=y?y.sortOrder:null,h=el(v,g),C=v.includes(Ut)&&l.createElement(ao,{className:te("".concat(e,"-column-sorter-up"),{active:g===Ut}),role:"presentation"}),x=v.includes(dn)&&l.createElement(to,{className:te("".concat(e,"-column-sorter-down"),{active:g===dn}),role:"presentation"}),E=s||{},S=E.cancelSort,k=E.triggerAsc,R=E.triggerDesc,b=S;h===dn?b=R:h===Ut&&(b=k);var N=Fe(p)==="object"?p:{title:b};u=A(A({},u),{className:te(u.className,M({},"".concat(e,"-column-sort"),g)),title:function(F){var w=l.createElement("div",{className:"".concat(e,"-column-sorters")},l.createElement("span",{className:"".concat(e,"-column-title")},It(o.title,F)),l.createElement("span",{className:te("".concat(e,"-column-sorter"),M({},"".concat(e,"-column-sorter-full"),!!(C&&x)))},l.createElement("span",{className:"".concat(e,"-column-sorter-inner")},C,x)));return p?l.createElement(za,A({},N),w):w},onHeaderCell:function(F){var w,O=o.onHeaderCell&&o.onHeaderCell(F)||{},T=O.onClick,B=O.onKeyDown;return O.onClick=function(I){t({column:o,key:m,sortOrder:h,multiplePriority:qt(o)}),T==null||T(I)},O.onKeyDown=function(I){I.keyCode===St.ENTER&&(t({column:o,key:m,sortOrder:h,multiplePriority:qt(o)}),B==null||B(I))},g?O["aria-sort"]=g==="ascend"?"ascending":"descending":O["aria-label"]="".concat(It(o.title,{})," sortable"),O.className=te(O.className,"".concat(e,"-column-has-sorters")),O.tabIndex=0,o.ellipsis&&(O.title=((w=It(o.title,{}))!==null&&w!==void 0?w:"").toString()),O}})}return"children"in u&&(u=A(A({},u),{children:va(e,u.children,a,t,i,s,d,f)})),u})}function mr(e){var n=e.column,a=e.sortOrder;return{column:n,order:a,field:n.dataIndex,columnKey:n.key}}function gr(e){var n=e.filter(function(a){var t=a.sortOrder;return t}).map(mr);return n.length===0&&e.length?A(A({},mr(e[e.length-1])),{column:void 0}):n.length<=1?n[0]||{}:n}function Sn(e,n,a){var t=n.slice().sort(function(d,r){return r.multiplePriority-d.multiplePriority}),i=e.slice(),s=t.filter(function(d){var r=d.column.sorter,o=d.sortOrder;return hr(r)&&o});return s.length?i.sort(function(d,r){for(var o=0;o<s.length;o+=1){var c=s[o],f=c.column.sorter,u=c.sortOrder,v=hr(f);if(v&&u){var p=v(d,r,u);if(p!==0)return u===Ut?p:-p}}return 0}).map(function(d){var r=d[a];return r?A(A({},d),M({},a,Sn(r,n,a))):d}):i}function tl(e){var n=e.prefixCls,a=e.mergedColumns,t=e.onSorterChange,i=e.sortDirections,s=e.tableLocale,d=e.showSorterTooltip,r=l.useState(xn(a,!0)),o=G(r,2),c=o[0],f=o[1],u=l.useMemo(function(){var g=!0,h=xn(a,!1);if(!h.length)return c;var C=[];function x(S){g?C.push(S):C.push(A(A({},S),{sortOrder:null}))}var E=null;return h.forEach(function(S){E===null?(x(S),S.sortOrder&&(S.multiplePriority===!1?g=!1:E=!0)):(E&&S.multiplePriority!==!1||(g=!1),x(S))}),C},[a,c]),v=l.useMemo(function(){var g=u.map(function(h){var C=h.column,x=h.sortOrder;return{column:C,order:x}});return{sortColumns:g,sortColumn:g[0]&&g[0].column,sortOrder:g[0]&&g[0].order}},[u]);function p(g){var h;g.multiplePriority===!1||!u.length||u[0].multiplePriority===!1?h=[g]:h=[].concat(le(u.filter(function(C){var x=C.key;return x!==g.key})),[g]),f(h),t(gr(h),h)}var m=function(h){return va(n,h,u,p,i,s,d)},y=function(){return gr(u)};return[m,u,v,y]}function pa(e,n){return e.map(function(a){var t=A({},a);return t.title=It(a.title,n),"children"in t&&(t.children=pa(t.children,n)),t})}function nl(e){var n=l.useCallback(function(a){return pa(a,e)},[e]);return[n]}var rl=[];function al(e,n){var a,t=e.prefixCls,i=e.className,s=e.style,d=e.size,r=e.bordered,o=e.dropdownPrefixCls,c=e.dataSource,f=e.pagination,u=e.rowSelection,v=e.rowKey,p=v===void 0?"key":v,m=e.rowClassName,y=e.columns,g=e.children,h=e.childrenColumnName,C=e.onChange,x=e.getPopupContainer,E=e.loading,S=e.expandIcon,k=e.expandable,R=e.expandedRowRender,b=e.expandIconColumnIndex,N=e.indentSize,D=e.scroll,F=e.sortDirections,w=e.locale,O=e.showSorterTooltip,T=O===void 0?!0:O;[["filterDropdownVisible","filterDropdownOpen"],["onFilterDropdownVisibleChange","onFilterDropdownOpenChange"]].forEach(function(ee){var re=G(ee,2);re[0],re[1]});var B=l.useMemo(function(){return y||bn(g)},[y,g]),I=l.useMemo(function(){return B.some(function(ee){return ee.responsive})},[B]),_=Ba(I),$=l.useMemo(function(){var ee=new Set(Object.keys(_).filter(function(re){return _[re]}));return B.filter(function(re){return!re.responsive||re.responsive.some(function(De){return ee.has(De)})})},[B,_]),U=xr(e,["className","style","columns"]),Z=l.useContext(Wa),ne=l.useContext(Ft),X=ne.locale,q=X===void 0?ja:X,ce=ne.renderEmpty,ye=ne.direction,pe=d||Z,se=A(A({},q.Table),w),fe=c||rl,xe=l.useContext(Ft),Ce=xe.getPrefixCls,ae=Ce("table",t),Ne=Ce("dropdown",o),oe=A({childrenColumnName:h,expandIconColumnIndex:b},k),ue=oe.childrenColumnName,de=ue===void 0?"children":ue,Oe=l.useMemo(function(){return fe.some(function(ee){return ee==null?void 0:ee[de]})?"nest":R||k&&k.expandedRowRender?"row":null},[fe]),we={body:l.useRef()},Ie=l.useMemo(function(){return typeof p=="function"?p:function(ee){return ee==null?void 0:ee[p]}},[p]),J=qi(fe,de,Ie),H=G(J,1),z=H[0],L={},P=function(re,De){var Xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Pe=A(A({},L),re);Xe&&(L.resetPagination(),Pe.pagination.current&&(Pe.pagination.current=1),f&&f.onChange&&f.onChange(1,Pe.pagination.pageSize)),D&&D.scrollToFirstRowOnChange!==!1&&we.body.current&&Ga(0,{getContainer:function(){return we.body.current}}),C==null||C(Pe.pagination,Pe.filters,Pe.sorter,{currentDataSource:vr(Sn(fe,Pe.sorterStates,de),Pe.filterStates),action:De})},j=function(re,De){P({sorter:re,sorterStates:De},"sort",!1)},he=tl({prefixCls:ae,mergedColumns:$,onSorterChange:j,sortDirections:F||["ascend","descend"],tableLocale:se,showSorterTooltip:T}),be=G(he,4),Se=be[0],ie=be[1],V=be[2],me=be[3],Ke=l.useMemo(function(){return Sn(fe,ie,de)},[fe,ie]);L.sorter=me(),L.sorterStates=ie;var He=function(re,De){P({filters:re,filterStates:De},"filter",!0)},Qe=Gi({prefixCls:ae,locale:se,dropdownPrefixCls:Ne,mergedColumns:$,onFilterChange:He,getPopupContainer:x}),We=G(Qe,3),ht=We[0],mt=We[1],ze=We[2],Be=vr(Ke,mt);L.filters=ze,L.filterStates=mt;var bt=l.useMemo(function(){var ee={};return Object.keys(ze).forEach(function(re){ze[re]!==null&&(ee[re]=ze[re])}),A(A({},V),{filters:ee})},[V,ze]),gt=nl(bt),Ve=G(gt,1),dt=Ve[0],je=function(re,De){P({pagination:A(A({},L.pagination),{current:re,pageSize:De})},"paginate")},Kt=Zi(Be.length,f,je),Y=G(Kt,2),W=Y[0],ke=Y[1];L.pagination=f===!1?{}:Yi(f,W),L.resetPagination=ke;var ge=l.useMemo(function(){if(f===!1||!W.pageSize)return Be;var ee=W.current,re=ee===void 0?1:ee,De=W.total,Xe=W.pageSize,Pe=Xe===void 0?ua:Xe;return Be.length<De?Be.length>Pe?Be.slice((re-1)*Pe,re*Pe):Be:Be.slice((re-1)*Pe,re*Pe)},[!!f,Be,W&&W.current,W&&W.pageSize,W&&W.total]),Te=Ji(u,{prefixCls:ae,data:Be,pageData:ge,getRowKey:Ie,getRecordByKey:z,expandType:Oe,childrenColumnName:de,locale:se,getPopupContainer:x}),Ee=G(Te,2),Re=Ee[0],Ze=Ee[1],ut=function(re,De,Xe){var Pe;return typeof m=="function"?Pe=te(m(re,De,Xe)):Pe=te(m),te(M({},"".concat(ae,"-row-selected"),Ze.has(Ie(re,De))),Pe)};oe.__PARENT_RENDER_ICON__=oe.expandIcon,oe.expandIcon=oe.expandIcon||S||fi(se),Oe==="nest"&&oe.expandIconColumnIndex===void 0?oe.expandIconColumnIndex=u?1:0:oe.expandIconColumnIndex>0&&u&&(oe.expandIconColumnIndex-=1),typeof oe.indentSize!="number"&&(oe.indentSize=typeof N=="number"?N:15);var yt=l.useCallback(function(ee){return dt(Re(ht(Se(ee))))},[Se,ht,Re]),Rt,Je;if(f!==!1&&(W!=null&&W.total)){var $e;W.size?$e=W.size:$e=pe==="small"||pe==="middle"?"small":void 0;var Ge=function(re){return l.createElement(Xa,A({},W,{className:te("".concat(ae,"-pagination ").concat(ae,"-pagination-").concat(re),W.className),size:$e}))},qe=ye==="rtl"?"left":"right",Ae=W.position;if(Ae!==null&&Array.isArray(Ae)){var nt=Ae.find(function(ee){return ee.indexOf("top")!==-1}),rt=Ae.find(function(ee){return ee.indexOf("bottom")!==-1}),Ct=Ae.every(function(ee){return"".concat(ee)==="none"});!nt&&!rt&&!Ct&&(Je=Ge(qe)),nt&&(Rt=Ge(nt.toLowerCase().replace("top",""))),rt&&(Je=Ge(rt.toLowerCase().replace("bottom","")))}else Je=Ge(qe)}var at;typeof E=="boolean"?at={spinning:E}:Fe(E)==="object"&&(at=A({spinning:!0},E));var xt=te("".concat(ae,"-wrapper"),M({},"".concat(ae,"-wrapper-rtl"),ye==="rtl"),i);return l.createElement("div",{ref:n,className:xt,style:s},l.createElement(Va,A({spinning:!1},at),Rt,l.createElement(wt,A({},U,{columns:$,direction:ye,expandable:oe,prefixCls:ae,className:te((a={},M(a,"".concat(ae,"-middle"),pe==="middle"),M(a,"".concat(ae,"-small"),pe==="small"),M(a,"".concat(ae,"-bordered"),r),M(a,"".concat(ae,"-empty"),fe.length===0),a)),data:ge,rowKey:Ie,rowClassName:ut,emptyText:w&&w.emptyText||(ce||Ua)("Table"),internalHooks:Vt,internalRefs:we,transformColumns:yt})),Je))}var ol=l.forwardRef(al),st=ol;st.SELECTION_COLUMN=vt;st.EXPAND_COLUMN=wt.EXPAND_COLUMN;st.SELECTION_ALL=gn;st.SELECTION_INVERT=yn;st.SELECTION_NONE=Cn;st.Column=di;st.ColumnGroup=ui;st.Summary=ea;const sl=st;export{sl as T};
